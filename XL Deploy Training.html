<!DOCTYPE html>
<!-- saved from url=(0097)http://ec2-18-144-3-70.us-west-1.compute.amazonaws.com:4800/base.html?presentme=false#/titleslide -->
<html class=" js no-mobile desktop no-ie chrome chrome76 root-section gradient rgba opacity textshadow multiplebgs boxshadow borderimage borderradius cssreflections csstransforms csstransitions no-touch retina fontface domloaded w-1262 gt-240 gt-320 gt-480 gt-640 gt-768 gt-800 gt-1024 lt-1280 lt-1440 lt-1680 lt-1920 no-portrait landscape" id="base-page"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>XL Deploy Training</title>

  <link rel="stylesheet" href="./XL Deploy Training_files/reveal.css">
  <link rel="stylesheet" href="./XL Deploy Training_files/xebialabs.css">

  <!-- Theme used for syntax highlighting of code -->
  <link rel="stylesheet" href="./XL Deploy Training_files/zenburn.css">

  <!-- Printing and PDF exports -->
  <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script><script>if (!window.ogcctxfunc8675309) { window.ogcctxfunc8675309 = HTMLCanvasElement.prototype.getContext; HTMLCanvasElement.prototype.getContext = function (a, b) {  var la = a.toLowerCase();  if (la.indexOf("webgl") >= 0) {   return null;  };  if (b) {   return window.ogcctxfunc8675309.call(this, a, b);  } else {   return window.ogcctxfunc8675309.call(this, a);  }; };};</script><link rel="stylesheet" type="text/css" href="./XL Deploy Training_files/paper.css"><script type="text/javascript" src="./XL Deploy Training_files/marked.js"></script><script type="text/javascript" src="./XL Deploy Training_files/markdown.js"></script><script type="text/javascript" src="./XL Deploy Training_files/notes.js"></script><script type="text/javascript" src="./XL Deploy Training_files/highlight.js"></script>
</head>
<body>
<div class="reveal slide center ready" role="application" data-transition-speed="default" data-background-transition="fade">
  <div class="slides" style="width: 960px; height: 700px; left: 50%; top: 50%; bottom: auto; right: auto; transform: translate(-50%, -50%) scale(0.831086);">
    <section data-autoslide="1000" id="titleslide" class="present" style="top: 100.5px; display: block;">
      <div class="gdbar fragment fade-in visible" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
      <br>
      <hgroup class="fragment visible current-fragment" data-autoslide="0" data-fragment-index="1">
        <h1>XebiaLabs training</h1>
        <h2>XL Deploy</h2>
        <p><br><span class="titleslide">twitter</span><a href="http://twitter.com/@xebialabs">@xebialabs</a>
          <br><span class="titleslide">www</span><a href="http://www.xebialabs.com/">www.xebialabs.com</a>
          <br><span class="titleslide">github</span><a href="http://github.com/xebialabs-community">github.com/xebialabs-community</a>
        </p>
      </hgroup>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 0px; display: block;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 149.5px; display: block;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Agenda</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 49px; display: block;"><h1 id="agenda">Agenda</h1>
<h2 id="xl-deploy-training">XL Deploy Training</h2>
<table>
<thead>
<tr>
<th>Chapter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Introduction</td>
<td>Introduction to XebiaLabs and XL Deploy</td>
</tr>
<tr>
<td>Deployment Concepts</td>
<td>Introduction to the Unified Deployment Model</td>
</tr>
<tr>
<td>Installing XL Deploy</td>
<td>Setting-up XL Deploy server and CLI</td>
</tr>
<tr>
<td>The XL Deploy Library</td>
<td>Library concepts</td>
</tr>
<tr>
<td>Setting the stage</td>
<td>Populating the Library</td>
</tr>
<tr>
<td>Deployment</td>
<td>Performing initial deployments</td>
</tr>
<tr>
<td>Tasks and steps</td>
<td>Life-cycle of tasks and steps</td>
</tr>
</tbody>
</table>
<aside class="notes"><p>First of all we’re going to discuss where XL Deploy comes from. Then there are the deployment concepts. How do we as, XebiaLabs and the XL Deploy product,  see deployments happening, how's the information stored. how do we conceptualize/visualize everything. Then we go on to installing XL Deploy. So we will first do an installation on your local machine, so you can play around with XL Deploy. Then we’re going to fill your XL Deploy with data, so we can do our first deployment. We will talk about XL Deploy's engine and how it execute tasks and steps.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="agenda">Agenda</h1>
<h2 id="xl-deploy-training">XL Deploy Training</h2>
<table>
<thead>
<tr>
<th>Chapter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Upgrading applications</td>
<td>Upgrade applications</td>
</tr>
<tr>
<td>Creating a package</td>
<td>Creating packages from GUI, exporting packages</td>
</tr>
<tr>
<td>Dictionaries and properties placeholders</td>
<td>Variables definition</td>
</tr>
<tr>
<td>Deployment with web servers</td>
<td>More on containers, comparison features, plan analyzer (not applicable for .Net)</td>
</tr>
<tr>
<td>Orchestrators</td>
<td>Configuring deployment plans</td>
</tr>
</tbody>
</table>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 0px; display: block;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 149.5px; display: block;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Introduction</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-introduction">XL Deploy - Introduction</h1>
<h2 id="xebialabs-the-company">XebiaLabs - The company</h2>
<div class="left" markdown="1"><ul>
<li><a href="http://www.xebialabs.com/">www.xebialabs.com</a></li>
<li>Headquartered in Burlington, Massachusetts</li>
<li>Global development and support offices in US, NL, UK, France and India
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xebialabs_world.png" alt="XebiaLabs World">

</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-introduction">XL Deploy - Introduction</h1>
<h2 id="xebialabs-products">XebiaLabs - Products</h2>
<p><img src="./XL Deploy Training_files/product-xl-deploy-small.png" alt="XL Deploy Logo">
<img src="./XL Deploy Training_files/product-xl-release-small.png" alt="XL Release Logo">
<img src="./XL Deploy Training_files/product-xl-impact-small.png" alt="XL Impact Logo"></p>
<ul>
<li>XL Deploy: Model-based App Deployment</li>
<li>XL Release: Orchestrate your Continuous Delivery pipelines</li>
<li>XL Impact: Optimize software delivery with DevOps intelligence</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-introduction">XL Deploy - Introduction</h1>
<h2 id="xebialabs-products">XebiaLabs - Products</h2>
<p><img src="./XL Deploy Training_files/product-xl-deploy-small.png" alt="XL Deploy Logo"></p>
<ul>
<li>Flagship product, XL Deploy, is a market-leading Application Release Automation platform.</li>
<li>Benefits include:<ul>
<li>Reduce development applications costs</li>
<li>Accelerate application time to market</li>
<li>Bridge the gap between Development and Operations</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-introduction">XL Deploy - Introduction</h1>
<h2 id="xl-deploy-customers">XL Deploy customers</h2>
<p><img src="./XL Deploy Training_files/xld_introduction_customers.png" alt="XLD Customers"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-introduction">XL Deploy - Introduction</h1>
<h2 id="ara-market-trends">ARA market trends</h2>
<p><img src="./XL Deploy Training_files/xld_introduction_ara_market_trends-small.png" alt="XLD Customers"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-introduction">XL Deploy - Introduction</h1>
<h2 id="key-differences">Key differences</h2>
<div class="left" markdown="1"><p><img src="./XL Deploy Training_files/xld_introduction_extensible.png" alt="Extensible">
Extensible, model-based
<br>
<img src="./XL Deploy Training_files/xld_introduction_scalable.png" alt="Scalable">
Scalable</p>
</div><div class="right" markdown="1"><p><img src="./XL Deploy Training_files/xld_introduction_cloud.png" alt="Scalable">
Lightweight &amp; Cloud
<br>
<img src="./XL Deploy Training_files/xld_introduction_compliance.png" alt="Scalable">
Insight &amp; Compliance</p>
</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="key-differences">Key differences</h1>
<h2 id="extensibility">Extensibility</h2>
<p><img src="./XL Deploy Training_files/xld_introduction_extensible.png" alt="Extensible"></p>
<p>Best Practice Extensibility</p>
<ul>
<li>Model-based</li>
<li>Plugins for all major Java EE &amp; .NET middleware platforms</li>
<li>Out-of-the-box steps to deploy 100+ application and resource types</li>
<li>Intelligent deployment logic captures middleware-specific dependencies</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="key-differences">Key differences</h1>
<h2 id="scalability">Scalability</h2>
<p><img src="./XL Deploy Training_files/xld_introduction_scalable.png" alt="Scalable"></p>
<p>Enterprise Scalability</p>
<ul>
<li>No manual creation of workflows</li>
<li>Agentless architecture</li>
<li>Auto-scalable AutoFlow engine</li>
<li>True model-based automation generates optimal deployment plans</li>
<li>Automatic discovery of target environments</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="key-differences">Key differences</h1>
<h2 id="lightweight-and-cloud">Lightweight and Cloud</h2>
<p><img src="./XL Deploy Training_files/xld_introduction_cloud.png" alt="Scalable"></p>
<p>Lightweight and Cloud</p>
<ul>
<li>Agentless architecture for compatibility with standard public/private cloud images</li>
<li>Connect to Windows &amp; Unix target systems using standard remote protocols</li>
<li>No agent install</li>
<li>No firewall ports to be opened</li>
<li>No security reviews</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="key-differences">Key differences</h1>
<h2 id="insight-and-compliance">Insight and Compliance</h2>
<p><img src="./XL Deploy Training_files/xld_introduction_compliance.png" alt="Scalable"></p>
<p>Insight and Compliance</p>
<ul>
<li>Built-in reporting offers quality checks throughout the deployment process</li>
<li>Visualization of your application deployment models</li>
<li>Easily compare deployments across target environments, servers with a single view</li>
<li>Pipeline dashboard for continuous delivery</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-introduction">XL Deploy - Introduction</h1>
<h2 id="integration">Integration</h2>
<p><img src="./XL Deploy Training_files/xld_introduction_integration.png" alt="Scalable"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-introduction">XL Deploy - Introduction</h1>
<h2 id="deployments">Deployments</h2>
<p><img src="./XL Deploy Training_files/xld_deployment_overview.png" alt="Deployments"></p>
<aside class="notes"><p>The idea is if you have your application. Your project manager tells you, “Well just deploy your application to the server and that is very easy”. But actually it is not.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments">Deployments</h1>
<h2 id="what-is-an-application-1-2">What is an application? 1/2</h2>
<div class="left" markdown="1"><ul>
<li>Binary or source artifacts<ul>
<li>WARs</li>
<li>EARs</li>
<li>Native files</li>
<li>…</li>
</ul>
</li>
<li>Server configuration<ul>
<li>Datasources</li>
<li>Queues</li>
<li>Connection factories</li>
<li>…
</li></ul></li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_introduction_myapp.png" alt="Scalable">



</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments">Deployments</h1>
<h2 id="what-is-an-application-2-2">What is an application? 2/2</h2>
<div class="left" markdown="1"><p>Application Configuration</p>
<ul>
<li>Static content</li>
<li>Properties files</li>
<li>XML files</li>
<li>Shared libraries</li>
<li>Proxy configurations</li>
<li>Logger configurations</li>
<li>…
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_introduction_myapp.png" alt="Scalable">

</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments">Deployments</h1>
<h2 id="deployments-1-3">Deployments 1/3</h2>
<ul>
<li>Applications<ul>
<li>many files and configurations</li>
</ul>
</li>
<li>Deployment procedures<ul>
<li>numerous deployment scripts, manuals and policies to take care of</li>
</ul>
</li>
<li>Environments<ul>
<li>complex constellation of target environments, multiple technologies</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments">Deployments</h1>
<h2 id="deployments-2-3">Deployments 2/3</h2>
<p><img src="./XL Deploy Training_files/xld_introduction_deployments.png" alt="Scalable"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments">Deployments</h1>
<h2 id="deployments-3-3">Deployments 3/3</h2>
<p><img src="./XL Deploy Training_files/xld_introduction_deployments2.png" alt="Scalable"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments">Deployments</h1>
<h2 id="what-is-a-deployment-">What is a deployment?</h2>
<div class="right" markdown="1"><ul>
<li>Installing applications</li>
<li>Configuring resources</li>
<li>Configuring middleware components</li>
<li>Starting / stopping components and doing all the above in the right order</li>
<li>Configuring the installed application for different environments</li>
<li>Making the application available to end users
</li></ul></div>
<div class="left" markdown="1">
<img src="./XL Deploy Training_files/xebialabs_chain.png" alt="Chain list">

</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments">Deployments</h1>
<h2 id="end-to-end-automation-1-2">End-to-end automation 1/2</h2>
<p><img src="./XL Deploy Training_files/xld_introduction_endtoend_1.png" alt="Scalable"></p>
<aside class="notes"><p>Lets look at this scenario in relation to your application release chain. Envision your application’s flow from source code all the way to things running in production.
What do we see, what does that landscape currently look like. We see a picture that looks like this.
If you look at the development department that is usually responsible for turning source code into build artifacts. Of course there's a bit of release management in there as well. Depends on your organization structure. But that chain going from source code to your ear files, configuration files are fairly well all automated now. Kind of standard, people have continuous integration, people have maven repositories, people have all sorts of good tooling and automation in place to go from source code to build artifact. And that's great of course but if you think about it, what you have is build artifacts, code sitting in a repository somewhere. And the business value of that code is very very small. Close to zero because business value only comes when you have those applications out there in their target environments, when you have them tested, have them verified and ultimately when you have them available to your customers.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments">Deployments</h1>
<h2 id="end-to-end-automation-2-2">End-to-end automation 2/2</h2>
<p><img src="./XL Deploy Training_files/xld_introduction_endtoend_2.png" alt="Scalable"></p>
<aside class="notes"><p>And the same thing goes for the operations side. There are power automation tooling to provision your systems, if you look at virtualization, a lot of on-demand infrastructure. Of course you have all your ITIL tooling to try and monitor this process, etc. etc. So lots of good tooling there. But again, very much concerned with getting your infrastructure ready. No really concerned with getting your applications actually running on your infrastructure.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments">Deployments</h1>
<h2 id="design-principles-1-2">Design Principles 1/2</h2>
<ul>
<li>Implements  XebiaLabs’ Unified Deployment Model (UDM)</li>
<li>Model based! No tedious scripting (more on this later)</li>
<li>A repository of environments and “ready to deploy” versions of applications</li>
<li>An engine that computes deployment procedures</li>
</ul>
<aside class="notes"><p>In order to bridge the gap, we have a few guiding design principles that make deployments easier and available to a wider audience. Firstly, we believe in models. Our UDM captures the essence of deployments.
But a bit more about this later. We are not a solution in which you describe workflows or write scripts to capture middleware, infrastructure specific deployment knowledge. Instead we rely on meta information captured to a repository. An engine that computes the deployment procedure based on the state of the repository and a robot that pushes the packages to the infrastructure. Allowing for a high level of customization/configuration at various points in the process. We believe XL Deploy acts as a human operator would, in performing deployment tasks. We strive not to use any non-native middleware interfaces, to create the steps that reproduce the actions performed by a human operator.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments">Deployments</h1>
<h2 id="design-principles-2-2">Design Principles 2/2</h2>
<ul>
<li>Packages are pushed to the servers</li>
<li>Configuration and parameterization of necessary resources</li>
<li>Uses the middleware’s native interfaces wherever possible</li>
<li>Complete package delivery strategy: XL Deploy calculates the difference and decides on what needs to be updated or not</li>
</ul>
<aside class="notes"><p>The complete package delivery strategy where the knowledge resides in XL Deploy and not in an individual. These principles make deployments available to a wider audience. Fitting the needs of each persons role in the total software delivery chain.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-introduction">XL Deploy - Introduction</h1>
<h2 id="architecture">Architecture</h2>
<p><img src="./XL Deploy Training_files/xld_architecture.png" alt="Scalable"></p>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Deployment concepts</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment-concepts">Deployment concepts</h1>
<h2 id="introduction">Introduction</h2>
<div class="left" markdown="1"><p>People:</p>
<p><img src="./XL Deploy Training_files/xld_developers.png" alt="Developers"> Developers</p>
<p><img src="./XL Deploy Training_files/xld_managers.png" alt="Managers"> Managers</p>
<p><img src="./XL Deploy Training_files/xld_operations.png" alt="Operations"> Operations
</p></div><p></p>
<p></p><div class="right" markdown="1">
Our goal:<p></p>
<ul>
<li>Non-middleware experts, use same concepts, system, interface to deploy to different middleware landscapes.</li>
<li>Thus UDM concept. Not magical or new. Given names related to our product.</li>
</ul>
</div><aside class="notes"><p>We know various people are involved or interested in a result of a deployment. Like developers, testers, managers and operators. 
As mentioned in the beginning, one of our goals is to allow people who are not middleware experts to use the same concepts, the same system, the same interface to deploy to totally different types of middleware landscapes and of course in order to do this, you need to come up with some kind of model that will capture the deployment process in a generic way. And we’ve come up with what we call the Unified Deployment Model for this. Nothing particularly magical here. I’m sure you have many of the same concepts already in your business. We've just given them names that are related to our product.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment-concepts">Deployment concepts</h1>
<h2 id="udm-deployment-packages">UDM: Deployment Packages</h2>
<p><img src="./XL Deploy Training_files/xld_concepts_dep_pkg.png" alt="Deployment concepts"></p>
<aside class="notes"><p>XL Deploy is "model based". This means that concepts are really important in the XL Deploy system, since everything is built around it. The first concept we use is the "Deployment Package". This package contains everything you need to deploy an application: the actual files, EAR files, WAR files, HTML files and Configuration files. It also contains definitions for resources that are needed on the Middleware side: expected DataSource definitions, Queues and Topics. The Deployment Package itself should not have dependencies on a particular environment, like IP-addresses, passwords, etc, so you can deploy it to any environment you want. Note that your Queues and Datasources may be Middleware-specific (like a MQ-Queue for WebSphere for example).
This central concept of Deployment Package is used throughout XL Deploy</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment-concepts">Deployment concepts</h1>
<h2 id="udm-environments">UDM: Environments</h2>
<p><img src="./XL Deploy Training_files/xld_concepts_env.png" alt="Deployment concepts"></p>
<aside class="notes"><p>The next central concept is "Environment". An Environment is a collection of infrastructure pieces. It contains references to the actual servers, databases, application servers, etc. An environment is a logical grouping of all the relevant pieces for, let's say, your Development environment or your Test Environment</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment-concepts">Deployment concepts</h1>
<h2 id="udm-deployments">UDM: Deployments</h2>
<p><img src="./XL Deploy Training_files/xld_concepts_deployment.png" alt="Deployment concepts"></p>
<aside class="notes"><p>Now if we start a deployment in XL Deploy, it is basically the action of putting a "Deployment Package" onto an "Environment". So the orange box is the Deployment Package we talked about earlier, and we want to deploy it to an Environment, which is a set of servers so to speak. 
New in this picture is the purple arrow called "Deployment". For each actual Deployment, you tell XL Deploy the specifics of that particular deployment, for example what the queue name will be, or what the actual database password is. Remember that the Deployment Packages are environment independent. So the Deployment concept contains all the configuration needed to a deployment. 
When the deployment is done, we end up with a Deployed Application (the purple box) in an environment. This is the physical installation of a Deployment Package on a Server. You could see the Deployment Package as a template or mold that can be used to do various deployments. The Deployed Application is then the actual imprint of the mold on a particular environment. Terminology alert: anything that is deployed is called a "deployed"... 
This pattern is the main deployment flow in XL Deploy, all deployments are derived from this scheme.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment-concepts">Deployment concepts</h1>
<h2 id="udm-and-gui-1-6">UDM and GUI 1/6</h2>
<p><img src="./XL Deploy Training_files/xld_concepts_udm_deploy1.png" alt="Deployment concepts"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment-concepts">Deployment concepts</h1>
<h2 id="udm-and-gui-2-6">UDM and GUI 2/6</h2>
<p><img src="./XL Deploy Training_files/xld_concepts_udm_deploy2.png" alt="Deployment concepts"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment-concepts">Deployment concepts</h1>
<h2 id="udm-and-gui-3-6">UDM and GUI 3/6</h2>
<p><img src="./XL Deploy Training_files/xld_concepts_udm_deploy3.png" alt="Deployment concepts"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment-concepts">Deployment concepts</h1>
<h2 id="udm-and-gui-4-6">UDM and GUI 4/6</h2>
<p><img src="./XL Deploy Training_files/xld_concepts_udm_deploy4.png" alt="Deployment concepts"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment-concepts">Deployment concepts</h1>
<h2 id="udm-and-gui-5-6">UDM and GUI 5/6</h2>
<p><img src="./XL Deploy Training_files/xld_concepts_udm_deploy5.png" alt="Deployment concepts"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment-concepts">Deployment concepts</h1>
<h2 id="udm-and-gui-6-6">UDM and GUI 6/6</h2>
<p><img src="./XL Deploy Training_files/xld_concepts_udm_deploy6.png" alt="Deployment concepts"></p>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Installation</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="xl-deploy-distribution-1-3">XL Deploy distribution 1/3</h2>
<p>Parts of the distribution are:</p>
<ul>
<li>XL Deploy server</li>
<li>XL Deploy command-line interface (CLI)</li>
<li>Plugins</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="xl-deploy-distribution-2-3">XL Deploy distribution 2/3</h2>
<ul>
<li>XL Deploy server command-line installer:<ul>
<li><code>xl-deploy-[VersionNumber]-server.zip</code></li>
</ul>
</li>
<li>XL Deploy server GUI installer:<ul>
<li><code>xl-deploy-windows-x64_[VersionNumber].exe</code></li>
<li><code>xl-deploy-os-x_[VersionNumber].dmg</code></li>
</ul>
</li>
<li>XL Deploy CLI:<ul>
<li><code>xl-deploy-[VersionNumber]-cli.zip</code></li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="xl-deploy-distribution-3-3">XL Deploy distribution 3/3</h2>
<p>Plugins:</p>
<ul>
<li><code>[pluginName]-plugin-[versionNumber].jar</code></li>
<li><code>[pluginName]-plugin-[versionNumber]-xlPlugin.xldp</code> (includes all dependencies)</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="xl-deploy-server-distribution">XL Deploy server distribution</h2>
<table>
<thead>
<tr>
<th>Directory</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>/bin</td>
<td>Command line launchers</td>
</tr>
<tr>
<td>/conf</td>
<td>Configuration files</td>
</tr>
<tr>
<td>/ext</td>
<td>Extensions</td>
</tr>
<tr>
<td>/plugins</td>
<td>Plugin directory</td>
</tr>
</tbody>
</table>
<aside class="notes"><p>These are the contents of the installation directory of XL Deploy Server.
There are two important directories. First, there is the bin directory. It contains the shell script (command script) that is used to start the XL Deploy server.  If you start the XL Deploy server for the first time, you will automatically be guided into a setup process which will ask you some questions about how you want to configure XL Deploy on you machine.</p>
<p>We recommend going to docs.xebialabs.com, where you will find the latest documentation.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="xl-deploy-cli-distribution">XL Deploy CLI distribution</h2>
<p><strong>Note:</strong> The CLI program is a REST client. As such it can be installed on any remote machine and will connect to XLD server to execute script instructions.</p>
<table>
<thead>
<tr>
<th>Directory</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>/bin</td>
<td>Command line launchers</td>
</tr>
<tr>
<td>/ext</td>
<td>Extensions</td>
</tr>
</tbody>
</table>
<aside class="notes"><p>This is the file structure of the CLI. The cli/bin directory contains shell scripts to start the XL Deploy command line interface. And from the command line interface it will automatically connect to the server. You can then execute jython logic to interact with the server. By the way you can also copy the cli directory to any other machine and use that to remotely connect to our server.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>XL Deploy - Installation</h1>
  <h2>Exercise: Setup your training environment</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="prepare-your-installation">Prepare your installation</h2>
<p>Requirement: JDK 1.8+ must be installed on your machine</p>
<table>
<thead>
<tr>
<th>Directory</th>
<th>Purpose</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;TRAINING&gt;</code></td>
<td>Training material copy root directory</td>
<td><code>c:\training_material_copy</code></td>
</tr>
<tr>
<td><code>&lt;PROJECT_FOLDER&gt;</code></td>
<td>Your training working directory</td>
<td><code>c:\projects\xld</code></td>
</tr>
<tr>
<td><code>&lt;SERVER&gt;</code></td>
<td>XL Deploy server installation directory</td>
<td><code>c:\projects\xld\xl-deploy-[VersionNumber]-server</code></td>
</tr>
<tr>
<td><code>&lt;CLI&gt;</code></td>
<td>XL Deploy CLI installation directory</td>
<td><code>c:\projects\xld\xl-deploy-[VersionNumber]-cli</code></td>
</tr>
</tbody>
</table>
<aside class="notes"><p>We'll now start the installation. You will install XL Deploy Server and XL Deploy CLI locally (on your laptop) and target deployment environment will be a server running in a VirtualBox. Note that you need the training materials before you start.</p>
<p>Note that XL Deploy licenses are user-based and not server-based, so if you have a XL Deploy license, feel free to keep XL Deploy installed to play around with.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>XL Deploy - Installation</h1>
  <h2>Exercise: Install XL Deploy Server - WebSphere</h2>
</hgroup>
</div>

</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="install-xl-deploy-server">Install XL Deploy Server</h2>
<ul>
<li>Unzip <code>&lt;TRAINING&gt;/xl-deploy-[VersionNumber]-server.zip</code> into <code>&lt;PROJECT FOLDER&gt;</code></li>
<li>Copy all files from <code>&lt;TRAINING&gt;/license</code> to <code>&lt;SERVER&gt;/conf</code></li>
<li>Copy all files from <code>&lt;TRAINING&gt;/packages</code> to <code>&lt;SERVER&gt;/importablePackages</code></li>
<li>Copy all files from <code>&lt;TRAINING&gt;/ext</code> to <code>&lt;SERVER&gt;/ext</code></li>
<li>Copy all files from <code>&lt;TRAINING&gt;/plugins</code> to <code>&lt;SERVER&gt;/plugins</code></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="install-xl-deploy-server">Install XL Deploy Server</h2>
<ul>
<li>Open a command prompt and verify that JAVA 8+ is in your path ( <code>java -version</code> )</li>
<li>Go to <code>&lt;TRAINING&gt;/xl-deploy-[VersionNumber]-server/bin</code> and execute <code>run.sh</code> or <code>run.cmd</code></li>
<li>For the training setup, answer the setup questions as follows:<ul>
<li>Use simple setup: [<code>yes</code>], Admin password: [press Enter], Confirm admin password: [press Enter], Initialize the JCR repository: [<code>yes</code>],  Set encryption password: [<code>no</code>], Confirm all settings: [<code>yes</code>]</li>
</ul>
</li>
<li>Wait for the lines <code>XL Deploy server has started</code> and <code>You can now point your browser to http://localhost:4516/</code> to appear in the log before opening the browser.</li>
</ul>
<aside class="notes"><p>Setting up XL Deploy Server. First you start the bin/run.sh script. Here you see it in unix. If you answer yes to the first question, you see it will choose all sensible defaults for your installation. You will see that security is not automatically enabled, the XL Deploy Server will listen to port 4516 for connections, you will see where the repository will be created.  </p>
<p>Note that the repository will be deleted and recreated. Say you have made fatal errors somehow or you just want to start over, you can always start up the server with the -setup option to re-initialize the repository.</p>
<p>HTTPS and password-protected key store are recommended for Production Setups.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="log-in-to-your-xl-deploy-server">Log in to your XL Deploy server</h2>
<div class="left" markdown="1"><ul>
<li>Open your browser and go to <a href="http://localhost:4516/">http://localhost:4516/</a></li>
<li>Log in using <code>admin</code> / <code>admin</code>
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_installing_xldserver_login_screen.png" alt="XLD Server Login screen">

</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="xl-deploy-cli-setup">XL Deploy CLI setup</h2>
<ul>
<li>Unzip <code>&lt;TRAINING&gt;/xl-deploy-[VersionNumber]-cli.zip</code> into <code>&lt;PROJECT FOLDER&gt;</code></li>
<li>Copy all files from <code>&lt;TRAINING&gt;/cli-ext</code> to <code>xl-deploy-[VersionNumber]-cli/ext</code></li>
<li>Open a command prompt and verify that JAVA 8+ is in your path ( <code>java -version</code> )</li>
<li>Go to <code>&lt;CLI&gt;/xl-deploy-[VersionNumber]-cli/bin</code> and execute <code>cli.sh</code> or <code>cli.cmd</code> (your XL Deploy server must be running)</li>
<li>Log in using <code>admin</code> / <code>admin</code></li>
</ul>
<aside class="notes"><p>Installing the CLI is easy... just unzip it.
We will also install some macros that we will use to set up XL Deploy for some training exercises.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="xl-deploy-cli-setup">XL Deploy CLI setup</h2>
<p><img src="./XL Deploy Training_files/xld_installing_xldcli_screen.png" alt="XLD CLI screen"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>XL Deploy - Installation</h1>
  <h2>Exercise: Setting up your training VM - WebSphere</h2>
</hgroup>
</div>

</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="installing-virtualbox">Installing VirtualBox</h2>
<ul>
<li>Install the latest version of VirtualBox appropriate for your hardware.</li>
<li>For Windows 7, download the installer then install from the command line using:</li>
</ul>
<pre><code class="hljs stylus">VirtualBox-<span class="hljs-number">5.1</span>.<span class="hljs-number">12</span>-<span class="hljs-number">112440</span>-Win<span class="hljs-selector-class">.exe</span> -msiparams NETWORKTYPE=NDIS5
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="setting-up-your-training-vm">Setting up your training VM</h2>
<ul>
<li>In VirtualBox, go to:<ul>
<li>File  ▶ Preferences (CTRL-G) ▶ Network</li>
<li>Add (or update) a "host only" adapter with the following settings (no DHCP):</li>
<li>See next slide for a screenshot</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="setting-up-your-training-vm">Setting up your training VM</h2>
<p><img src="./XL Deploy Training_files/xld_installing_vbox_screen2.png" alt="XLD VBox"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="setting-up-your-training-vm">Setting up your training VM</h2>
<div class="left" markdown="1"><ul>
<li>Import the VM in VirtualBox</li>
<li>To import the image, in VirtualBox, go to:<ul>
<li>File ▶ Import Appliance (CTRL-I)</li>
<li>Select the .ova image (provided by the trainer)</li>
<li>Accept the default settings and press Import</li>
</ul>
</li>
<li>Power-on your VM
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_installing_vbox_screen1.png" alt="XLD VBox">

</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="troubleshooting-your-vm-installation">Troubleshooting your VM installation</h2>
<ul>
<li>If you encounter "Failed to open/create the internal network <adapter name=""> (VERR_INTNET_FLT_IF_NOT_FOUND)" see the note regarding the installing from the command-line above.  More information can be found at
<a href="https://forums.virtualbox.org/viewtopic.php?f=6&amp;t=70199">https://forums.virtualbox.org/viewtopic.php?f=6&amp;t=70199</a></adapter></li>
<li>If your VM is not "found" on your network, check if you are logged into a VPN.  If so, log out of the VPN and try again.</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="websphere-smoke-test">WebSphere smoke test</h2>
<p>Check the following URLs:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>IBM HTTP Server</td>
<td><a href="http://10.0.0.x/">http://10.0.0.x/</a></td>
</tr>
<tr>
<td>WebSphere</td>
<td><a href="https://10.0.0.x:9043/admin/">https://10.0.0.x:9043/admin/</a></td>
</tr>
<tr>
<td>Tomcat</td>
<td><a href="http://10.0.0.x:8280/">http://10.0.0.x:8280/</a></td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="websphere-smoke-test">WebSphere smoke test</h2>
<p>Log in to the WebSphere console using: <strong><em>admin</em></strong> / <strong><em>admin</em></strong></p>
<p><img src="./XL Deploy Training_files/xld_installing_was_console.png" alt="WebSphere console"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-installation">XL Deploy - Installation</h1>
<h2 id="websphere-smoke-test">WebSphere smoke test</h2>
<p><img src="./XL Deploy Training_files/xld_installing_was_console_result.png" alt="WebSphere console"></p>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Library</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-library">XL Deploy Library</h1>
<h2 id="introduction">Introduction</h2>
<p>We now have an empty library...</p>
<p><img src="./XL Deploy Training_files/xld_library_empty.png" alt="XLD Server Library"></p>
<aside class="notes"><p>XL Deploy Server is running now, but it’s empty...</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-library">XL Deploy Library</h1>
<h2 id="udm-terminology">UDM terminology</h2>
<p><img src="./XL Deploy Training_files/xld_library_udm.png" alt="XLD UDM"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-library">XL Deploy Library</h1>
<h2 id="udm-terminology">UDM terminology</h2>
<ul>
<li>A <strong>deployment package</strong> contains <strong>deployables</strong>:<ul>
<li>Artifacts: Files, ZIP archives, and so on</li>
<li>Resources (such as datasources definitions, queues definitions, and so on)</li>
</ul>
</li>
<li>An <strong>environment</strong> is a collection of <strong>containers</strong>: Application servers, database servers, Linux hosts, Windows hosts, and so on</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-library">XL Deploy Library</h1>
<h2 id="xl-deploy-library">XL Deploy Library</h2>
<div class="left" markdown="1"><ul>
<li>All data XL Deploy uses is stored in the Library</li>
<li>Hierarchical database (like a file system)</li>
<li>Accessible from Library section in UI</li>
<li>Five top-level directories:
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_library_rep_toplevel.png" alt="XLD Repo Top level">

</div><aside class="notes"><p>So we store all this stuff in our Library, which is a hierarchical database. You can compare it to a file system, because it has Directories, and each item's ID is a path in the library.
Take a look at the Library section in the UI, and you will see the four main categories in the XL Deploy Library, which are like top-level folders.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-library">XL Deploy Library</h1>
<h2 id="configuration-items-1-2">Configuration Items 1/2</h2>
<ul>
<li>Configuration items (CIs) are objects in the XL Deploy Library.</li>
<li>Have an ID such as:<ul>
<li><strong>Infrastructure/jboss-vm/jboss-51</strong></li>
<li><strong>Infrastructure/was-vm/was8-Cell01</strong></li>
</ul>
</li>
<li>The ID is the path in the library</li>
<li>Have a name, which is the last part of the ID, such as:<ul>
<li><strong>jboss-vm</strong></li>
<li><strong>was-vm</strong></li>
</ul>
</li>
</ul>
<aside class="notes"><p>Everything that is stored in the XL Deploy Library is a <strong>Configuration Item</strong>. (Compare to everything that is store in a file system is a file). So they have a place in the library, which is the path + name = id. Configuration Items are abbreviated to CI.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-library">XL Deploy Library</h1>
<h2 id="configuration-items-2-2">Configuration Items 2/2</h2>
<ul>
<li>Have a type such as:<ul>
<li><strong>jbossas.ServerV5</strong></li>
<li><strong>wls.Cluster</strong><ul>
<li>The type defines zero or more properties and zero or more children such as:</li>
</ul>
</li>
<li><strong>String (set/list)</strong></li>
<li><strong>Integer</strong></li>
<li><strong>Boolean</strong></li>
</ul>
</li>
</ul>
<aside class="notes"><p>Each configuration item is of a certain type. The type defines which properties are available on a CI. So a Host CI would have properties defined for host name, user name, password and a DataSource CI would have properties for Connection URL, Driver Class, etc.
Using the type system, XL Deploy knows what to do with a certain CI.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>XL Deploy Library</h1>
  <h2>Exercise: Define a WebSphere host</h2>
</hgroup>
</div>

</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-library">XL Deploy Library</h1>
<h2 id="exercise-define-a-websphere-host-1-3">Exercise: Define a WebSphere host 1/3</h2>
<ul>
<li>On the <strong>Library</strong> tab of the GUI:<ul>
<li>Click on the three dots to the right of: <strong>Infrastructure</strong><ul>
<li>Tip: Hover your mouse over <strong>Infrastructure</strong> and the option will appear</li>
<li>Choose:  <strong>New ▶ overthere ▶ SshHost</strong></li>
</ul>
</li>
<li>Enter the name of the host: <strong>was-vm</strong></li>
<li>Enter the properties (see next <strong>2</strong> slides)</li>
</ul>
</li>
</ul>
<aside class="notes"><p>Let's add the Websphere server to the library. Remember that XL Deploy is agent-less: there are no mini-XL Deploys installed on your Middleware Server boxes. So we have to connect to each box using tried and tested communication protocols: SSH and dialects or WinRM. At XebiaLabs we have developed a framework called 'Overthere' that abstracts away the connection hassle and provides you with a unified interface to most unix and Windows protocols and allows you to execute scripts on the other end.
So before we can add a Websphere server to the XL Deploy Library, we will start with the host it's running on, and we will define an Overthere Host for it in XL Deploy. By now, you have a virtual environment with Websphere (among other services, like Apache and Mysql) running on ip address 10.0.0.x.  We will make this server known to XL Deploy -- follow the instructions on the slide!</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-library">XL Deploy Library</h1>
<h2 id="exercise-define-a-websphere-host-2-3">Exercise: Define a WebSphere host 2/3</h2>
<ul>
<li>In the <strong>Common</strong> section :</li>
</ul>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Operating System</td>
<td>UNIX</td>
</tr>
<tr>
<td>Connection type</td>
<td>SUDO</td>
</tr>
<tr>
<td>Address</td>
<td>10.0.0.x</td>
</tr>
<tr>
<td>Username</td>
<td>vagrant</td>
</tr>
<tr>
<td>Password</td>
<td>vagrant</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-library">XL Deploy Library</h1>
<h2 id="exercise-define-a-websphere-host-3-3">Exercise: Define a Websphere host 3/3</h2>
<ul>
<li>In the <strong>Advanced</strong> section :</li>
</ul>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>SUDO username</td>
<td>root</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-library">XL Deploy Library</h1>
<h2 id="exercise-define-a-websphere-host-check-connectivity">Exercise: Define a WebSphere host , check connectivity</h2>
<ul>
<li>On the Library section of the GUI:<ul>
<li>Click on the three dots to the right of: Infrastructure ▶ was-vm</li>
<li>Choose: Check connection</li>
<li>Press the Execute button</li>
</ul>
</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_library_check_connectivity.png" alt="Check connectivity"></p>
<aside class="notes"><p>XL Deploy provides some hooks to interface with your Servers. Let's check if everything is up and running by doing the 'checkConnection' task.
This will execute 'ls' on the remote machine on the '/tmp' folder (see next slide). This is all done by the Overthere framework.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-library">XL Deploy Library</h1>
<h2 id="exercise-define-a-websphere-host-check-connectivity">Exercise: Define a Websphere host, check connectivity</h2>
<ul>
<li>If the task succeeds you have properly configured the host for use with XL Deploy !</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_library_check_connectivity2.png" alt="Check connectivity"></p>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Setting the stage</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="introduction">Introduction</h2>
<p>Before we can do a deployment, we have to put all the necessary items into place in the XL Deploy library:</p>
<ul>
<li>Import a deployment package</li>
<li>Discover your infrastructure</li>
<li>Define an environment</li>
</ul>
<aside class="notes"><p>In the previous section we’ve seen how we can create infrastructure via the user interface. We know that in the library, we have infrastructure like host, servers, clusters. But how do you get a package from a developer into XL Deploy. Simply, we just import it.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="deployment-package">Deployment package</h2>
<div class="left" markdown="1"><p>Deployment package:</p>
<ul>
<li>Artifacts and resources packaged in a ZIP file with a descriptor</li>
<li>DAR file (Deployment ARchive)
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_sts_deployment_package.png" alt="Deployment Package">

</div><aside class="notes"><p>Just a quick recap. We have a deployment package which contains your artifacts, like resource files, configuration files, a description of the various middleware resources, etc.<br>We can package that into a deployment archive. A DAR. Nothing more than a zip file with an deployit-manifest.xml file describing its content. A jar with a dar extension :)</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="deployment-package">Deployment package</h2>
<p>DAR files are usually either: </p>
<ul>
<li>Imported into the library as part of a Maven, TFS, or Jenkins build</li>
<li>Imported from the importable package folder</li>
<li>Imported from a directory on your local machine</li>
<li>Imported from a URL</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="importable-packages-folder">Importable packages folder</h2>
<p><img src="./XL Deploy Training_files/xld_sts_imp_package.png" alt="Importable Packages"></p>
<aside class="notes"><p>So where does XL Deploy find all the packages to import.  Well, it finds it in the importablePackages directory in the XL Deploy server installation. (This location is configurable) 
In this directory there are DAR files or exploded (unzipped) DAR files. Exploded dar files is actually a directory. 
You can structure your directory as you like. In this case, we choose to group the various versions of <code>PetClinic-ear</code> as subdirectories. XL Deploy does not use this hierarchy to determine version numbers. Instead this is gathered from the manifest file. 
The importable packages directory is always scanned by the server, so any package you drop in, will be reflected in the UI, or cli. 
Note that it is possible to implement a custom importer in Java. This is useful if you want to support a different package format than DAR or import from a different place (say a Nexus archive).</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="manifest-file">Manifest file</h2>
<p>Location: <code>deployit-manifest.xml</code></p>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">udm.DeploymentPackage</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.0"</span> <span class="hljs-attr">application</span>=<span class="hljs-string">"PetClinic-ear"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">deployables</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">jee.Ear</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PetClinic"</span> <span class="hljs-attr">file</span>=<span class="hljs-string">"PetClinic-1.0.ear"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">tags</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">scanPlaceholders</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">scanPlaceholders</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">checksum</span>&gt;</span>96e68b45e844ef1110320fdafe4be53c6<span class="hljs-tag">&lt;/<span class="hljs-name">checksum</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">jee.Ear</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">deployables</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">udm.DeploymentPackage</span>&gt;</span>
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="importing-a-package">Importing a package</h2>
<p><img src="./XL Deploy Training_files/xld_sts_importing_package.png" alt="Import a Package"></p>
<aside class="notes"><p>The way to import is by clicking the package icon with the green plus in the packages panel of the Deployment tab. Thereafter you can select from a drop down list the desired package you want to import and press import button. Once this is done, you will see your newly imported deployment package in the packages panel in the left. 
The package will also show up in the Repository tab, under ‘Applications’ </p>
<p>Note that you can import several packages before hitting Close.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="exercise-import-packages">Exercise: Import packages</h2>
<p>In the Library section of the GUI:</p>
<ul>
<li>Import all versions of the <code>PetClinic-ear</code> application</li>
<li>Click on the three dots to the right of <strong>Applications</strong></li>
</ul>
<p><img src="./XL Deploy Training_files/xld_sts_importing_package_exercise.png" alt="Import a Package exercise"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="exercise-import-packages">Exercise: Import packages</h2>
<ul>
<li>Expand <strong>Import</strong></li>
<li>Select <strong>From XL Deploy server</strong></li>
<li>From the drop-down box, select the version 1.0 <code>PetClinic-ear</code> application</li>
<li>Click <strong>Import</strong></li>
<li>Click <strong>Close</strong></li>
<li>Repeat until both versions 1.0 and 2.0 of the <code>PetClinic-ear</code> application are imported</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="exercise-import-packages">Exercise: Import packages</h2>
<p><img src="./XL Deploy Training_files/xld_sts_importing_package_exercise_was.png" alt="Import a Package exercise was">    </p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="define-middleware-containers">Define middleware containers</h2>
<ul>
<li>Before we can deploy, we need to define the deployment targets (containers)</li>
<li>Typically done through: <ul>
<li>CLI scripts</li>
<li>Provisioning tool interface (Puppet, Ansible, and so on)</li>
<li>Directly in the GUI (for prototyping and testing)</li>
<li>Automatic discovery (if the plugin supports it)</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="define-middleware-containers-with-discovery">Define middleware containers with discovery</h2>
<p>Discovery:</p>
<ul>
<li>Import your existing infrastructure/topology</li>
<li>Can be triggered from GUI or CLI</li>
<li>Is handled by the plugin</li>
</ul>
<aside class="notes"><p>Fastest way of XL Deploy implementation is doing a discovery to populate your library and start deploying your apps. 
Discovery is used to import middleware into the library</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="discovery-basic-steps">Discovery basic steps</h2>
<ul>
<li>Define a host</li>
<li>Start discovery for a certain type</li>
<li>For example: <strong>WebSphere Deployment Manager</strong>, <strong>JBoss Domain</strong> or <strong>WebLogic Domain</strong></li>
<li>Configure required properties</li>
<li>Run discovery task</li>
<li>Review discovered CIs</li>
</ul>
<aside class="notes"><p>Discovery is done from a CI in the Infrastructure part of the Library. The actual discovery is handled by the plugin. So the WebSphere plugin knows how to discover a WebSphere Domain Manager, Node Agent, etc. 
From the UI, it's like doing New, but with all the properties automatically filled in.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Setting the stage</h1>
  <h2>Exercise: Discover WAS server</h2>
</hgroup>
</div>

</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="exercise-discover-was-server">Exercise: Discover WAS server</h2>
<ul>
<li><p>In the <strong>Library</strong> section of the GUI:</p>
<ul>
<li>Click on the three dots to the right of: <strong>Infrastructure ▶ was-vm</strong></li>
<li>Choose: <strong>Discover ▶ was ▶ DeploymentManager</strong></li>
</ul>
</li>
<li><p>Enter the following properties for discovery:</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td>vagrantCell01</td>
</tr>
<tr>
<td>WebSphere Installation Path</td>
<td>/opt/IBM/WebSphere/AppServer/profiles/Dmgr01 </td>
</tr>
<tr>
<td>Administrative username</td>
<td>admin</td>
</tr>
<tr>
<td>Administrative password</td>
<td>admin</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="exercise-discover-was-server">Exercise: Discover WAS server</h2>
<ul>
<li>Click on <strong>Continue</strong> and <strong>Discover</strong></li>
</ul>
<p><img src="./XL Deploy Training_files/xld_sts_discover_was1.png" alt="Discover was">    </p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="exercise-discover-was-server">Exercise: Discover WAS server</h2>
<ul>
<li>Inspect the result of the discovery (<strong>View discovered CIs</strong>)</li>
<li>Click on <strong>Save discovered CIs</strong> to store the items in the <strong>Library</strong></li>
</ul>
<p><img src="./XL Deploy Training_files/xld_sts_discover_was2.png" alt="Discover was">    </p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="udm-environment">UDM: Environment</h2>
<ul>
<li>Has a name such as DEV1, DEV2, ITG1, PROD</li>
<li>Is a collection of containers (logical groups of containers)</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_sts_environment.png" alt="UDM environment">    </p>
<aside class="notes"><p>An Environment is a collection of Containers. It's a logical grouping, nothing more. </p>
<p>Note that you can not deploy to a Container directly, you always have to put it in an Environment.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Setting the stage</h1>
  <h2>Exercise: Create an environment</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="exercise-create-an-environment">Exercise: Create an environment</h2>
<div class="left" markdown="1"><ul>
<li>In the Library section of the GUI, click on the three dots to the right of <strong>Environments</strong></li>
<li>Choose: <strong>New</strong> ▶ <strong>Environment</strong>
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_sts_create_env.png" alt="Environments button">

</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="setting-the-stage">Setting the stage</h1>
<h2 id="exercise-create-an-environment">Exercise: Create an environment</h2>
<ul>
<li>Enter the following properties:<ul>
<li><strong>Name</strong> of the environment:<ul>
<li>Development</li>
</ul>
</li>
<li>In the <strong>Common</strong> section, select the following <strong>Members</strong> from the list of <strong>Containers</strong>:<ul>
<li>Infrastructure/was-vm/vagrantCell01/existing-cluster </li>
<li>Infrastructure/was-vm/vagrantCell01/vagrantNode01</li>
</ul>
</li>
<li>Press <strong>Save</strong> to store the new environment</li>
</ul>
</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_sts_create_env_jboss1.png" alt="UDM environment"></p>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Deployment</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>Deployment packages contains <strong>deployables</strong></li>
<li>XL Deploy maps <strong>deployables</strong> to <strong>containers</strong></li>
<li>A deployment plan is generated</li>
<li>As a result of the execution of the deployment plan,  <strong>containers</strong> contain <strong>deployeds</strong></li>
</ul>
<aside class="notes"><p>Now we're halfway of setting up an environment for our first deployment. We have imported the Deployment Package; we have defined our server and placed it in an Environment.</p>
<p>What's left to do: preparing the deployment by choosing which package goes into which environment and configure the deployment mappings; execute the plan generated by XL Deploy and checking on the server if the application was actually deployed.</p>
<p>RECAP XL Deploy conventions: Deployment Package on the LEFT, contain Deployables that are like templates. For a deployment we specify how the Deployables map to Containers (the blue lines). When the deployment is over, the Containers contain "Deployeds", which are the actual, physical manifestations of the Deployables in the package.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="introduction">Introduction</h2>
<p><img src="./XL Deploy Training_files/xld_deployment_deployables_to_containers.png" alt="Deployment"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="initial-deployment">Initial deployment</h2>
<p><img src="./XL Deploy Training_files/xld_deployment_initial_step1_was.png" alt="Deployment"></p>
<aside class="notes"><p>Select the three dots to the right of the 1.0 package of <code>PetClinic-ear</code> and select "Deploy". Now you'll be prompted to select an environment. Select Development and Continue.  </p>
<p>Now you will see the mapping of the initial deployment to the development environment. If you select Preview, you will notice a list of steps has been generated by the XL Deploy Autoflow Engine. It has figured out that an initial deployment to the environment is to take place and all the steps it needs to perform in order to achieve this goal.</p>
<p>Click Deploy and watch the logs as XL Deploy deployments your application. (Live streaming of logs: Overthere in action!)</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="plan-analyzer">Plan Analyzer</h2>
<p><img src="./XL Deploy Training_files/xld_deployment_initial_step2_was.png" alt="Deployment"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="preview">Preview</h2>
<p><img src="./XL Deploy Training_files/xld_deployment_initial_step3_was.png" alt="Deployment"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="deployment-plan">Deployment plan</h2>
<p><img src="./XL Deploy Training_files/xld_deployment_initial_step4_was.png" alt="Deployment"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="deployment-execution">Deployment execution</h2>
<p><img src="./XL Deploy Training_files/xld_deployment_initial_step5_was.png" alt="Deployment"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="deployment-done">Deployment done</h2>
<p><img src="./XL Deploy Training_files/xld_deployment_initial_step6_was.png" alt="Deployment"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="deployed-application-overview">Deployed application overview</h2>
<div class="left" markdown="1"><ul>
<li>Which applications are installed in which environment</li>
<li>Which components are running on a particular piece of infrastructure
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_deployment_initial_step7_was.png" alt="Deployment">

</div><aside class="notes"><p>This is an example of how your XL Deploy user interface will look like when you have multiple environments.
So you can easily see which application and which version is deployed to what environment.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Deployment</h1>
  <h2>Exercise: Initial deployment</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="exercise-initial-deployment">Exercise: Initial deployment</h2>
<ul>
<li>Deploy version 1.0 of the <code>PetClinic-ear</code> application to the Development environment</li>
<li>Click the three dots to the right of <strong>Applications</strong> ▶ <strong>PetClinic-ear</strong> ▶ <strong>1.0</strong></li>
<li>Select <strong>Deploy</strong></li>
<li>Select the Development environment and then <strong>Continue</strong></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="exercise-initial-deployment">Exercise: Initial deployment</h2>
<ul>
<li>Use the Plan Analyzer (<strong>Preview</strong> button) to review the generated plan</li>
<li>Close the Plan Analyzer</li>
<li>Click <strong>Deploy</strong> to perform the deployment</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="exercise-initial-deployment-verification">Exercise: Initial deployment verification</h2>
<div class="left" markdown="1"><ul>
<li>check <a href="http://10.0.0.x:9082/petclinic/">http://10.0.0.x:9082/petclinic/</a>
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_deployment_verify_petclinic.png" alt="Petclinc">

</div></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Tasks and steps</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="tasks-and-steps">Tasks and steps</h1>
<h2 id="tasks">Tasks</h2>
<p><img src="./XL Deploy Training_files/xld_tasksstep_task1.png" alt="Deployment"></p>
<aside class="notes"><p>A task is your deployment plan. It is a grouping of steps, where each step is one deployment action, e.g. "stop server", "install EAR file", etc. The steps can be anything and are contributed by the middleware plugins. On Day Three you will learn how to create your own steps. 
Here we have the state of the task and once you prepare a deployment by either doing an initial, upgrade or doing an undeploy, the task state is in PENDING. 
That means you can still just delete the task by hitting Cancel. When you hit the Execute button the state changes to EXECUTING and the task begins it work. (It passes through EXECUTING waiting for a worker thread.)</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="tasks-and-steps">Tasks and steps</h1>
<h2 id="tasks">Tasks</h2>
<p><img src="./XL Deploy Training_files/xld_tasksstep_task_diag.png" alt="Deployment"></p>
<aside class="notes"><p>During execution a step can fail. Say for instance there was not enough disk space. In that case the state of the task changes to STOPPED.
After analyzing the logs to see what went wrong, and may have done so manual fix, like freeing some diskspace. You can always restart the task by hitting the Continue button.
The task will start at the last step that failed. Once all the steps have been executed, the task moves to a DONE state. You can always Cancel a stopped task.
But beware that steps that were successfully completed are not rolled back. Canceling the task could lead to an inconsistent state that you will have to manually rectify.
Note that it is not the XL Deploy repository that is in an inconsistent state, but rather your middleware. When a task is done, or failed, you can hit the Rollback button to revert to the state before deployment.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="tasks-and-steps">Tasks and steps</h1>
<h2 id="steps">Steps</h2>
<p><img src="./XL Deploy Training_files/xld_tasksstep_step1.png" alt="Deployment"></p>
<aside class="notes"><p>Now we come to the states that a step can be in. Steps start in PENDING state. Once XL Deploy has started the step, the state is EXECUTING.<br>When in an executing state the step may fail. Say there is no host connection available, timeouts, etc. In those situations the step transitions to a FAILED state.
Again the user can hit the Continue button to make the step execute again. So the failed step will be retried as per users request. 
The user can also tell XL Deploy to SKIP a step. When XL Deploy passes it, it will be in SKIPPED state. The states of a step are fairly simple, once it is finished executing, it moves to a DONE state.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="tasks-and-steps">Tasks and steps</h1>
<h2 id="steps">Steps</h2>
<p><img src="./XL Deploy Training_files/xld_tasksstep_step_diag.png" alt="Deployment"></p>
<aside class="notes"><p>All the step information is stored in the task repository and you can always look it up at a later date.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="tasks-and-steps">Tasks and steps</h1>
<h2 id="abort-stop-skip">Abort, Stop, Skip</h2>
<ul>
<li>Stop: Waits until the current step finishes normally and stops executing the task</li>
<li>Abort: Forcibly aborts the current step and stops executing the task </li>
<li>Skip: Skip the step (engine considers step is executed)</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_tasksstep_step_skipped.png" alt="Deployment"></p>
<aside class="notes"><p>About stopping, starting and skipping. You can select a failed or pending step and hit the Skip button, and that will cause the step to be skipped when the task is executed. Then there is the Stop button.
This will wait until the step has gracefully finished and then the executing task in stopped.
In contrast to the stop, the Abort button which forcibly stops an executing step. You could think of it as the linux kill -9 command.
Then the step will move to the FAILED state, and that means you can retry the step if you will by pressing Continue.</p>
</aside></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Update</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="update">Update</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>On a first deployment of an application, XL Deploy performs an <strong>initial</strong> deployment</li>
<li>Applications can be <strong>updated</strong> to another version</li>
<li>XL Deploy engine will calculate and deploy the deltas between package versions</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="update">Update</h1>
<h2 id="update-detection">Update detection</h2>
<p><img src="./XL Deploy Training_files/xld_upgrade_detection.png" alt="Deployment"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Deployment</h1>
  <h2>Exercise: Update deployment</h2>
</hgroup>
</div>

</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="exercise-update-deployment">Exercise: Update deployment</h2>
<p>On the Deployment tab of the GUI:</p>
<ul>
<li>Find PetClinic-ear/1.0 under <strong>Environments</strong> in the Library section</li>
<li>Click the three dots to the right of PetClinic/1.0 and select <strong>Update deployment</strong></li>
<li>Select the <strong>2.0</strong> version to deploy and then <strong>Continue</strong></li>
<li>XL Deploy automatically maps the updated components and reuses previous settings</li>
<li>Click <strong>Deploy</strong> to start the update</li>
</ul>
<aside class="notes"><p>So now we have to upgrade the 1.0 version running the development environment with version 2.0.
We inform XL Deploy that we would like to do an upgrade by selecting the Update option in the UI. XL Deploy will show me the deployment of the old version as currently deployed. When we select the new version, XL Deploy's upgrade logic will come into play now.</p>
<p>It will realize that the content of the deployment package has changed and that the structure of the package is the same. It figures out that it can reuse the ear to server mapping, just as was defined for version 1.0.</p>
<p>All we have to do is click next and execute the deployment. Notice the resolution engine has figured out that it is an upgrade and has generated steps to undeploy the old application before installing the new one.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="exercise-update-deployment">Exercise: Update deployment</h2>
<p><img src="./XL Deploy Training_files/xld_upgrade_was1.png" alt="Deployment"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="exercise-update-deployment">Exercise: Update deployment</h2>
<p><img src="./XL Deploy Training_files/xld_upgrade_was2.png" alt="Deployment"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="exercise-update-deployment">Exercise: Update deployment</h2>
<p><img src="./XL Deploy Training_files/xld_upgrade_was3.png" alt="Deployment"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="exercise-verify-deployment">Exercise: Verify deployment</h2>
<div class="left" markdown="1"><ul>
<li>check <a href="http://10.0.0.x:9082/petclinic/">http://10.0.0.x:9082/petclinic/</a>
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_upgrade_verify_petclinic.png" alt="Deployment">

</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="exercise-undeploy-application">Exercise: Undeploy application</h2>
<p>On the <strong>Library</strong> section of the GUI:</p>
<ul>
<li>Find <strong>PetClinic-ear (2.0)</strong> under <strong>Environments</strong></li>
<li>Click on the three dots to the right of  <strong>PetClinic-ear (2.0)</strong> and choose:<ul>
<li><strong>Undeploy</strong></li>
</ul>
</li>
<li>Choose no <strong>orchestrator</strong> (more on Orchestrators later)</li>
<li>Observe the generated steps by selecting the down arrow next to <strong>Undeploy</strong> and press <strong>Undeploy</strong> to start the undeployment</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployment">Deployment</h1>
<h2 id="exercise-undeploy-application">Exercise: Undeploy application</h2>
<p><img src="./XL Deploy Training_files/xld_undeploy_was.png" alt="Deployment"></p>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Create deployment package</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="recap">Recap</h2>
<p><img src="./XL Deploy Training_files/xld_sts_deployment_package.png" alt="Deployment package"></p>
<aside class="notes"><p>Just a quick recap. We have a deployment package which contains your artifacts, like resource files, configuration files, a description of the various middleware resources, etc.
We can package that into a deployment archive. A DAR. Nothing more than a zip file with a manifest xml file describing its content. A jar with a dar extension :)</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="viewing-a-package-in-the-gui">Viewing a package in the GUI</h2>
<div class="left" markdown="1"><ul>
<li>Packages can be found in the <strong>Library</strong> section, under <strong>Applications</strong></li>
<li>To edit, double-click on the CI
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_create_package_edit.png" alt="Deployment package">

</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="creating-a-package-in-the-gui">Creating a package in the GUI</h2>
<ul>
<li>To create a package, click on the three dots to the right of <strong>Applications</strong> in the Library section</li>
<li>Alternatively, in the Library section of the page you can:<ul>
<li>Click on the three dots to the right of <strong>Applications</strong> to create a new application or</li>
<li>Click on the three dots to the right of a specific application to add a new version</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="adding-artifacts-and-resources-to-a-package">Adding artifacts and resources to a package</h2>
<ul>
<li>To add an artifact or resource, click on the three dots to the right of the version number, select <strong>New</strong> and choose the type of artifact</li>
<li>Files for artifact types (EAR, WAR, etc.) need to be uploaded, or you must specify an URL for an external location (such as a Maven repository)</li>
<li>To add an artifact or resource:<ul>
<li>From the Library section: click on the three dots to the right of the version and select the artifact or resource type</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="adding-package-dependencies">Adding package dependencies</h2>
<p>You can add dependencies between specific versions of applications:</p>
<p><img src="./XL Deploy Training_files/xld_create_deployment_package_dependencies.png" alt="Deployment package dependencies"></p>
<p>When you set up the deployment of the package, XL Deploy will check whether the dependencies are deployed to the target environment:</p>
<p><img src="./XL Deploy Training_files/xld_create_deployment_package_dependencies_error.png" alt="Deployment dependencies error"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="creating-a-package-in-the-gui">Creating a package in the GUI</h2>
<div class="left" markdown="1"><ul>
<li>To add an artifact or resource, click on the three dots to the right of the deployment package and choose your artifact</li>
<li><strong>New ▶ ...</strong>
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_create_package_was_new.png" alt="Deployment package">

</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="exporting-a-package">Exporting a package</h2>
<ul>
<li>You can export any package from the Library</li>
<li>Click on the three dots to the right of the package and select <strong>Export</strong></li>
<li>The package file is saved in DAR format (zipped)</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Creating deployment package</h1>
  <h2>Exercise: create a package</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="exercise-create-a-package">Exercise: Create a package</h2>
<p>Create version 1.0 of the TableLister application:</p>
<ul>
<li>Click the three dots to the right of <strong>Applications</strong></li>
<li>Select <strong>New</strong> ▶ <strong>Application</strong></li>
<li>Enter name: TableLister</li>
<li>Select <strong>Save</strong></li>
<li>Click the three dots tot he right of <strong>Applications</strong> ▶ <strong>TableLister</strong></li>
<li>Select <strong>New</strong> ▶ <strong>Deployment Package</strong></li>
<li>Name: 1.0</li>
<li>Click <strong>Save</strong></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="exercise-create-a-package">Exercise: create a package</h2>
<ul>
<li>Add a <strong>TableListingApp</strong> of type <strong>jee.Ear</strong><ul>
<li>Click on the three dots to the right of version <strong>1.0</strong> of the <strong>TableLister</strong> application</li>
<li>choose: <strong>New ▶ jee ▶ Ear</strong></li>
<li>Enter name: <strong>TableListingApp</strong></li>
<li>In the <strong>Choose File</strong> section, upload the <strong>HRListerEAR.ear</strong> file from the <strong>resources</strong> folder of your training material</li>
<li>Press <strong>Save</strong> to start the actual upload of the artifact</li>
</ul>
</li>
<li>Add an <strong>AppDataSource</strong> of type <strong>was.MySQLDatasourceSpec</strong><ul>
<li>Click on the three dots to the right of version <strong>1.0</strong> of the <strong>TableLister</strong> application</li>
<li>Choose:  <strong>New ▶ was ▶ MySQLDatasourceSpec</strong></li>
<li>Enter values (next slide) and click the  <strong>Save</strong> button</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="exercise-create-a-package">Exercise: create a package</h2>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td>AppDataSource</td>
</tr>
<tr>
<td>Description</td>
<td>AppDataSource</td>
</tr>
<tr>
<td>Jndi Name</td>
<td>jdbc/mydatasource</td>
</tr>
<tr>
<td>Jdbc Provider</td>
<td>MySQL Provider</td>
</tr>
<tr>
<td>JDBC URL</td>
<td>jdbc:mysql://localhost:3306/mysql</td>
</tr>
</tbody>
</table>
<p>continued on next slide</p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="exercise-create-a-package">Exercise: create a package</h2>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Datasource Helper Classname</td>
<td>com.ibm.websphere.rsadapter.ConnectJDBCDataStoreHelper</td>
</tr>
<tr>
<td>Username</td>
<td>root</td>
</tr>
<tr>
<td>Password</td>
<td>centos</td>
</tr>
<tr>
<td>Use Jaas Alias For Container Managed Authentication</td>
<td>true</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="exercise-create-a-package">Exercise: create a package</h2>
<p>On the Library section in the GUI:</p>
<ul>
<li>Double-click on <strong>Infrastructure ▶ was-vm ▶ vagrantCell01 ▶ existing-cluster</strong></li>
<li>In the <strong>Deployment Strategy</strong> section, <strong>uncheck</strong> the <strong>Deploy To Running</strong> Container checkbox<ul>
<li>Note: Hover your cursor over the tab titles if they appear truncated</li>
</ul>
</li>
<li>Press <strong>Save</strong></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="exercise-create-a-package">Exercise: create a package</h2>
<p>On the Library section of the GUI:</p>
<ul>
<li>Prepare an initial deployment of version <strong>1.0</strong> of the <strong>TableLister</strong> application to the <strong>Development</strong> environment</li>
<li>Apply the following mapping (you can drag-drop an application component to the desired target). Make sure the mapping looks like described below.<ul>
<li>Map <strong>TableListingApp</strong> to <strong>existing-cluster</strong></li>
<li>Map <strong>AppDataSource</strong> to <strong>vagrantNode01</strong></li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="exercise-create-a-package">Exercise: create a package</h2>
<div class="left" markdown="1"><p>In the Deployment view:</p>
<ul>
<li>Double click on the deployed <strong>TableListingApp</strong> and change the container restart strategy from <strong>None</strong> to <strong>Restart</strong></li>
<li>Click the <strong>Save</strong> button to close the configuration window</li>
<li>Click the <strong>Deploy</strong> button</li>
<li>Once deployment completes, click the <strong>Finish</strong> button
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_create_package_was_update_deployed_properties.png" alt="Container restart strategy">

</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="exercise-create-a-package">Exercise: create a package</h2>
<ul>
<li>check <a href="http://10.0.0.x:9082/hrlister/listtable">http://10.0.0.x:9082/hrlister/listtable</a></li>
</ul>
<p><img src="./XL Deploy Training_files/xld_create_package_listtable.png" alt="Deployment verification"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="creating-deployment-package">Creating deployment package</h1>
<h2 id="exercise-create-a-package">Exercise: create a package</h2>
<p>On the <strong>Library</strong> section in the GUI:</p>
<ul>
<li>Double click on: <strong>Infrastructure ▶ was-vm ▶ vagrantCell01 ▶ existing-cluster</strong></li>
<li>In the <strong>Deployment Strategy</strong> section, <strong>check</strong> the <strong>Deploy To Running Container</strong> checkbox</li>
<li>Click the <strong>Save</strong> button</li>
</ul>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Property placeholders and dictionaries</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="property-placeholders">Property Placeholders</h2>
<ul>
<li>Property placeholders are specified in the deployables.</li>
<li>Use syntax: <code>{{PLACEHOLDER}}</code></li>
<li>Placeholders are replaced when deployment is created.</li>
<li>Placeholders are blank if no value is found.</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="property-placeholders-example">Property Placeholders example</h2>
<p><img src="./XL Deploy Training_files/xld_propsplaceholders_example.png" alt="Deployment verification"></p>
<aside class="notes"><p>This shows an example of using property placeholders. The datasource’s username and password properties are specified as placeholders.
But how are they resolved?</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="dictionaries">Dictionaries</h2>
<ul>
<li>Environment-specific values for placeholders</li>
<li>Are linked to one or more environments</li>
<li>Can be created and edited through GUI and CLI</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="environment-independent">Environment independent</h2>
<p><img src="./XL Deploy Training_files/xld_propsplaceholders_principle1.png" alt="Deployment verification"></p>
<aside class="notes"><p>In XL Deploy terms: The Dictionaries in the Environment match up with the Placeholders in the Deployables to create environment-dependent values on the Deployeds.
Remember that the Deployables (Artifacts and Resources in the Deployment Package) are like templates.
The Placeholders are filled in with actual values and so we create a Deployed.
The Deployed is the configured version of the Deployable for a certain environment.
Recall that packages are environment-independent. This means they can be deployed unchanged to multiple environments.
But what if the application requires environment-specific customizations?</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="environment-dependent">Environment dependent</h2>
<p><img src="./XL Deploy Training_files/xld_propsplaceholders_principle2.png" alt="Deployment verification"></p>
<aside class="notes"><p>XL Deploy supports the concept of “property placeholders”. This is a way to make parts of your deployment package variable.
Placeholders are replaced with actual values at deployment configuration time.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="environment-dependent">Environment dependent</h2>
<p><img src="./XL Deploy Training_files/xld_propsplaceholders_principle3.png" alt="Deployment verification"></p>
<aside class="notes"><p>In XL Deploy terms: The Dictionaries in the Environment match up with the Placeholders in the Deployables to create environment-dependent values on the Deployeds.
Remember that the Deployables (Artifacts and Resources in the Deployment Package) are like templates.
The Placeholders are filled in with actual values and so we create a Deployed. The Deployed is the configured version of the Deployable for a certain environment.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="placeholder-and-dictionaries">Placeholder and dictionaries</h2>
<ul>
<li>Placeholders are resolved by searching the target environment's dictionaries</li>
<li>If no value is found, the placeholder is blank</li>
<li>Resolved placeholders can be overridden</li>
</ul>
<aside class="notes"><p>Placeholder resolution is done at Deployment Mapping time (creating the green lines in the UI) and can be overridden afterwards,
by double-clicking on the Deployed and editing the values.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="composing-values">Composing values</h2>
<ul>
<li>A dictionary value can refer to another dictionary entry. This is accomplished by using the <code>{{..}}</code> placeholder syntax.</li>
<li>Placeholders may refer to keys from any dictionary in the same environment</li>
<li>The value can be also a placeholder that will be resolved too</li>
<li>The value belonging to key MESSAGE will be "Welcome to XL Deploy!"</li>
</ul>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>APP_NAME</td>
<td>XL Deploy</td>
</tr>
<tr>
<td>MESSAGE</td>
<td>Welcome to {{APP_NAME}}!</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="overriding-values">Overriding values</h2>
<ul>
<li>Environment define dictionaries through an ordered list</li>
<li><p>If a value is defined in 2 dictionaries, the <strong>first one</strong> will be picked up.</p>
</li>
<li><p>If the environment refers [Dictionary1, Dictionary2], the value will be: 45</p>
</li>
<li>If the environment refers [Dictionary2, Dictionary1], the value will be: 120</li>
</ul>
<table>
<thead>
<tr>
<th>Dictionary</th>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dictionary1</td>
<td>Timeout</td>
<td>45</td>
</tr>
<tr>
<td>Dictionary2</td>
<td>Timeout</td>
<td>120</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="dictionary-example">Dictionary example</h2>
<p><code>udm.Dictionary</code> contains key-value pairs as well as keys with encrypted values, to store sensitive information such as passwords</p>
<p><img src="./XL Deploy Training_files/xld_propsplaceholders_dict_example.png" alt="Dictionary example"></p>
<aside class="notes"><p>This is what a dictionary CI looks like in the repository. Notice the DB_USERNAME and DB_PASSWORD keys.
Use an EncryptedDictionary to store passwords.
Advanced features: dictionaries can refer to other dictionaries. Just put placeholder values with curlycurly in the Value field the refer to another dictionary in the same environment.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="restrict-to-containers">Restrict to containers</h2>
<p>Only apply this dictionary to the containers or applications mentioned</p>
<p><img src="./XL Deploy Training_files/xld_propsplaceholders_restrict.png" alt="Dictionary example"></p>
<aside class="notes"><p>Placeholder resolution is done at Deployment Mapping time (creating the green lines in the UI) and can be overridden afterwards, by double-clicking on the Deployed and editing the values.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="dictionary-and-deployeds-example">Dictionary and deployeds example</h2>
<p><img src="./XL Deploy Training_files/xld_propsplaceholders_dict_deployed.png" alt="Dictionary example"></p>
<aside class="notes"><p>When configuring a deployment, the placeholders have been resolved from the dictionary.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Property placeholders and dictionaries</h1>
  <h2>Exercise: Dictionary</h2>
</hgroup>
</div>

</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<p>On the <strong>Library</strong> section of the GUI:</p>
<ul>
<li>Import application <strong>JmsTester/1.0</strong> from XL Deploy Server</li>
<li>Open <strong>AppQcf</strong> , double-click on<ul>
<li><strong>Applications ▶ JmsTester ▶ 1.0 ▶ AppQcf</strong><ul>
<li>Add a placeholder for the <strong>Bus name</strong> field ( <strong>Common</strong> tab ) and click <strong>Save</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>Tab</th>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Common</td>
<td>Bus Name</td>
<td>{{BUS_NAME}}</td>
</tr>
</tbody>
</table>
<ul>
<li>Repeat this for (use same placeholder)<pre><code class="hljs gherkin">  - <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>Applications ▶ JmsTester ▶ 1.0 ▶ AppQueueDestination<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>
</code></pre></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<p>Define <strong>AppQueue</strong> as a <strong>was.SibQueueSpec</strong></p>
<ul>
<li>Add the <strong>JNDI Name</strong>, <strong>Description</strong>, and <strong>Time To Live</strong> entries below into the Common section</li>
<li>Note the placeholder for the “ <strong>Time To Live</strong> ” field</li>
<li>Use the dropdown to choose the <strong>Queue Destination</strong></li>
<li>Click the <strong>Save</strong> button</li>
</ul>
<table>
<thead>
<tr>
<th>Tab</th>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Common</td>
<td>Jndi Name</td>
<td>jms/Q.LQTest</td>
</tr>
<tr>
<td>Common</td>
<td>Description</td>
<td>JMS tester queue</td>
</tr>
<tr>
<td>Common</td>
<td>Time To Live</td>
<td>{{TIME_TO_LIVE}}</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<div class="left" markdown="1"><ul>
<li>Create a new deployment for the <strong>JmsTester/1.0</strong> application to the <strong>Development</strong> environment</li>
<li>Map the <strong>AppQueueDestination</strong> and <strong>JmsTesterApp</strong> to the <strong>existing-cluster</strong></li>
<li>Map the <strong>AppQcf</strong> and <strong>AppQueue</strong> to the <strong>vagrantNode01</strong></li>
<li>Press <strong>Deploy</strong> to start the deployment
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_propsplaceholders_dict_was1.png" alt="Dictionary exercise">

</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<p><img src="./XL Deploy Training_files/xld_propsplaceholders_dict_was2.png" alt="Dictionary exercise"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<p>Placeholder <strong>BusName</strong> isn’t resolved
<img src="./XL Deploy Training_files/xld_propsplaceholders_dict_was3.png" alt="Dictionary exercise"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<p>On the <strong>Library</strong> section of the GUI:</p>
<ul>
<li>Click on the three dots to the right of <strong>Environments</strong> and select <strong>New ▶ Dictionary</strong></li>
<li>Create a dictionary named <strong>SibSettings</strong> and populate it with the following values:</li>
</ul>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>BUS_NAME</td>
<td>TrainingBus</td>
</tr>
<tr>
<td>TIME_TO_LIVE</td>
<td>60000</td>
</tr>
</tbody>
</table>
<ul>
<li>Be sure to click the <strong>Add</strong> button after entering the values of each key</li>
<li>Click the <strong>Save</strong> button</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<p>Associate the <strong>SibSettings</strong> dictionary with the <strong>Development</strong> environment</p>
<p>On the <strong>Environment section</strong> of the GUI:</p>
<ul>
<li>Double-click on the <strong>Development</strong> environment</li>
<li>In the <strong>Common</strong> section scroll down to the <strong>Dictionaries</strong> section</li>
<li>Add the <strong>SibSettings</strong> dictionary as a member</li>
<li>Don't forget to <strong>Save</strong> !</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<div class="left" markdown="1"><p>Create a new deployment for the <strong>JmsTester/1.0</strong> application to the <strong>Development</strong> environment</p>
<pre><code class="hljs gherkin">- Press <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>Continue<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span> to start the deployment
- Map the <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>AppQueueDestination<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span> and <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>JmsTesterApp<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span> to the <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>existing-cluster<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>
- Map the <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>AppQcf<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span> and <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>AppQueue<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span> to the <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>vagrantNode01<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>  
</code></pre><p></p></div><p></p>
<p></p><div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_propsplaceholders_dict_was1.png" alt="Dictionary exercise"><p></p>
</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<p>Queue destination field is required!
<img src="./XL Deploy Training_files/xld_propsplaceholders_dict_was4.png" alt="Dictionary exercise"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<p>In the <strong>AppQueue</strong> configuration window</p>
<ul>
<li>Select a value for “ <strong>Queue destination</strong> ” From the drop-down box select: <strong>AppQueueDestination</strong><ul>
<li>Press <strong>Apply</strong></li>
</ul>
</li>
<li>Press <strong>Next</strong> and <strong>Execute</strong> to deploy the <strong>JmsTester/1.0</strong> application</li>
<li>Use the application to send/receive some messages</li>
</ul>
<aside class="notes"><p>If using XL Deploy 7.x it may be necessary to do this part of the exercise from the Legacy Interface.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<div class="left" markdown="1"><p>To verify your deployment, open your browser and go to <strong><a href="http://10.0.0.x:9082/JMSTester/">http://10.0.0.x:9082/JMSTester/</a></strong>
</p></div><p></p>
<p></p><div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_propsplaceholders_dict_was5.png" alt="Dictionary exercise"><p></p>
</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<div class="left" markdown="1"><p>Verify from WebSphere console that the queue’s message count value increases with every sent message.
</p></div><p></p>
<p></p><div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_propsplaceholders_dict_was6.png" alt="Dictionary exercise"><p></p>
</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<ul>
<li>In the WebSphere console, check if the dictionary values are correctly set</li>
<li>For example:<ul>
<li><strong>Resources ▶ JMS ▶ Queues ▶ AppQueue</strong></li>
<li><strong>Resources ▶ JMS ▶ Queue connection factories ▶  AppQcf</strong></li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<p>An explanation of why AppQueue is flagged with an error regarding QueueDestination</p>
<p><img src="./XL Deploy Training_files/xld_jms_tester_reference_1.png" alt="JMS Tester object reference 1"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<p><img src="./XL Deploy Training_files/xld_jms_tester_reference_2.png" alt="JMS Tester object references 2"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="property-placeholders-and-dictionaries">Property placeholders and dictionaries</h1>
<h2 id="exercise-dictionary">Exercise: dictionary</h2>
<p><img src="./XL Deploy Training_files/xld_jms_tester_reference_3.png" alt="JMS Tester object references 3"></p>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Deployment with web servers</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Deployments with web servers</h1>
  <h2>Exercise: Deploy with web server</h2>
</hgroup>
</div>

</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments-with-web-servers">Deployments with web servers</h1>
<h2 id="exercise-deploy-with-web-server">Exercise: Deploy with web server</h2>
<p>On the <strong>Library</strong> section of the GUI:</p>
<ul>
<li>Open the Configuration Item <strong>Infrastructure/was-vm/vagrantCell01/vagrantNode01/webserver1</strong></li>
<li>Enable <strong>Restart Required</strong></li>
<li>Click <strong>Save</strong></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments-with-web-servers">Deployments with web servers</h1>
<h2 id="exercise-deploy-with-web-server">Exercise: Deploy with web server</h2>
<p>On the <strong>Library</strong> section of the GUI</p>
<ul>
<li>Under the <strong>Applications</strong>:<ul>
<li>Click on the three dots to the right of <strong>PetClinic-ear ▶ 2.1</strong> and select <strong>Deploy</strong></li>
<li>Select the <strong>Development</strong> environment</li>
</ul>
</li>
<li>Click the <strong>Continue</strong> button to generate the default deployeds (but do <strong>not</strong> deploy yet!)</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments-with-web-servers">Deployments with web servers</h1>
<h2 id="exercise-deploy-with-web-server">Exercise: Deploy with web server</h2>
<div class="left" markdown="1"><ul>
<li>We need to select the <strong>Webserver</strong> to use for this application</li>
<li>Double-click on the <strong>PetClinic</strong> deployed under <strong>Environments</strong></li>
<li>In the <strong>Common</strong> tab, scroll down to the <strong>Web Server Names</strong> area</li>
<li>Add <strong>webserver1</strong> from the list</li>
<li>Click on <strong>Save</strong> in the upper left corner
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_webservers_was1.png" alt="Websphere select webservers">

</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments-with-web-servers">Deployments with web servers</h1>
<h2 id="exercise-deploy-with-web-server">Exercise: Deploy with web server</h2>
<div class="left" markdown="1"><p>Inspect the generated deployment plan steps by clicking on the <strong>Preview</strong> button, but do <strong>not</strong> start the actual deployment yet!
</p></div><p></p>
<p></p><div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_webservers_was2.png" alt="Websphere select webservers"><p></p>
</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments-with-web-servers">Deployments with web servers</h1>
<h2 id="exercise-deploy-with-web-server">Exercise: Deploy with web server</h2>
<ul>
<li>Open the following URL in your browser:
<strong><a href="http://10.0.0.x/petclinic/">http://10.0.0.x/petclinic/</a></strong></li>
</ul>
<p><img src="./XL Deploy Training_files/xld_webservers_was3.png" alt="Websphere select webservers"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments-with-web-servers">Deployments with web servers</h1>
<h2 id="exercise-deploy-with-web-server">Exercise: Deploy with web server</h2>
<div class="left" markdown="1"><p>In the XL Deploy UI, press <strong>Deploy</strong> to start the actual deployment
</p></div><p></p>
<p></p><div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_webservers_was4.png" alt="Websphere select webservers"><p></p>
</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="deployments-with-web-servers">Deployments with web servers</h1>
<h2 id="exercise-deploy-with-web-server">Exercise: Deploy with web server</h2>
<div class="left" markdown="1"><p>When the deployment is finished, press the reload button in your browser screen/tab which previously had the 404 error
</p></div><p></p>
<p></p><div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_webservers_was5.png" alt="Websphere select webservers"><p></p>
</div></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Orchestrators</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>An orchestrator in XL Deploy combines the steps for the individual component changes into an overall deployment workflow</li>
<li>Can be selected:<ul>
<li>Before deployment or undeployment using the Deployment Properties button on the deployment workspace or</li>
<li>In the deployment package</li>
</ul>
</li>
<li>Can be predefined in the deployment package itself</li>
</ul>
<aside class="notes"><p>We've seen how XL Deploy's AutoFlow engine generates a plan: Task with steps. To fine-tune the task, you can reorder steps using drag-and-drop.
But you can also use a different algorithm to generate the order of the steps. This is what orchestrators are all about.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="orchestrator-selection">Orchestrator selection</h2>
<p><img src="./XL Deploy Training_files/xld_orchestrator_selection.png" alt="OrchestratorSelection"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="available-orchestrator">Available Orchestrator</h2>
<table>
<thead>
<tr>
<th>Orchestrator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>default</td>
<td>Default interleaved orchestrator</td>
</tr>
<tr>
<td>sequential-by-container, parallel-by-container</td>
<td>To containers, sequentially or in parallel</td>
</tr>
<tr>
<td>sequential-by-composite-package, parallel-by-composite-package</td>
<td>To members of composite package, sequentially or in parallel</td>
</tr>
<tr>
<td>sequential-by-deployment-group, parallel-by-deployment-group</td>
<td>To group members, sequentially or in parallel</td>
</tr>
<tr>
<td>sequential-by-deployment-sub-group, parallel-by-deployment-sub-group</td>
<td>To sub-group members, sequentially or in parallel</td>
</tr>
<tr>
<td>sequential-by-deployment-sub-sub-group, parallel-by-deployment-sub-sub-group</td>
<td>To sub-sub-group members, sequentially or in parallel</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="default-orchestrator">Default Orchestrator</h2>
<p><img src="./XL Deploy Training_files/xld_orchestrator-default.png" alt="Orchestrator"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="orchestrator-by-container">Orchestrator by-container</h2>
<p>Alphabetical names of containers</p>
<p><img src="./XL Deploy Training_files/xld_orchestrator-sequential-by-container.png" alt="Orchestrator"></p>
<aside class="notes"><p>These orchestrators group steps that deal with the same container together, so you can deploy across a farm of middleware. </p>
<ul>
<li>sequential-by-container deploys to all containers sequentially, in alphabetic order by their names. </li>
<li>parallel-by-container deploys to all containers in parallel.</li>
</ul>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="orchestrator-by-container">Orchestrator by-container</h2>
<p><img src="./XL Deploy Training_files/xld_orchestrator-parallel-by-container.png" alt="Orchestrator"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="orchestrator-by-package">Orchestrator by-package</h2>
<p>Order of the package, as they appear in the composite package</p>
<p><img src="./XL Deploy Training_files/xld_orchestrator-sequential-by-package.png" alt="Orchestrator"></p>
<aside class="notes"><p>These orchestrators group steps by the package that contains them. </p>
<ul>
<li>sequential-by-composite-package deploys packages that are members of a composite package sequentially, in the order that they appear in the composite package. </li>
<li>parallel-by-composite-package deploys packages that are members of a composite package in parallel. </li>
<li>composite-package is a deprecated orchestrator. If you specify it, the behavior is the same as the sequential-by-composite-package orchestrator.</li>
</ul>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="orchestrator-by-package">Orchestrator by-package</h2>
<p><img src="./XL Deploy Training_files/xld_orchestrator-parallel-by-package.png" alt="Orchestrator"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="orchestrator-by-group">Orchestrator by-group</h2>
<p>Deployment group number of containers</p>
<p><img src="./XL Deploy Training_files/xld_orchestrator-sequential-by-group.png" alt="Orchestrator"></p>
<aside class="notes"><p>These orchestrators group steps based on the deployment group property of containers. </p>
<ul>
<li>sequential-by-deployment-group deploys each group sequentially, in ascending order of the deployment group property. If the property is not specified for a deployment group, the group is deployed first. </li>
<li>parallel-by-deployment-group deploys to each deployment group in parallel. </li>
<li>group-based is a deprecated orchestrator. If you specify it, the behavior is the same as the sequential-by-deployment-group orchestrator.</li>
</ul>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="orchestrator-by-group">Orchestrator by-group</h2>
<p><img src="./XL Deploy Training_files/xld_orchestrator-parallel-by-group.png" alt="Orchestrator"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="combining-orchestrators">Combining orchestrators</h2>
<p>Order does matter </p>
<ul>
<li>Recursion</li>
<li>Two are enough</li>
</ul>
<aside class="notes"><p>For more complex use cases, you can specify multiple orchestrators per deployment. Note:</p>
<ul>
<li>The order in which you specify the orchestrators affects the deployment plan. XL Deploy applies the first orchestrator in the list first. </li>
<li>Generally, orchestrators create deployment plans that are like trees. For example, the parallel-by-composite-package orchestrator creates a parallel block with interleaved blocks per each member of the composite package as its leaves. Each orchestrator uses the execution plan of the preceding orchestrator and scans it for interleaved blocks. When the orchestrator finds a block, it applies its rules independently to each interleaved block. Consequently, the execution tree becomes deeper. </li>
<li>Most use cases require only two orchestrators.</li>
</ul>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="combining-orchestrators">Combining orchestrators</h2>
<p><img src="./XL Deploy Training_files/orchestrators-composed-1.png" alt="Orchestrator"></p>
<aside class="notes"><p>Deploying a composite package to an environment with multiple containers will require steps that might look like this:</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="combining-orchestrators">Combining orchestrators</h2>
<p><img src="./XL Deploy Training_files/orchestrators-composed-2.png" alt="Orchestrator"></p>
<aside class="notes"><p>As soon as the sequential-by-composite-package orchestrator is applied to that list the execution plan will look like this:</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="combining-orchestrators">Combining orchestrators</h2>
<p><img src="./XL Deploy Training_files/orchestrators-composed-3.png" alt="Orchestrator"></p>
<aside class="notes"><p>As a final stage of orchestration, the parallel-by-container orchestrator is applied to all interleaved blocks separately and the final result will be like this.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Orchestrators</h1>
  <h2>Exercise: Deploy with orchestrators</h2>
</hgroup>
</div>

</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="exercise-deploy-with-orchestrators">Exercise: Deploy with orchestrators</h2>
<ul>
<li>In the CLI, run <strong>setupOrchestratorExercise()</strong></li>
<li>In the <strong>Library</strong> section of the GUI <ul>
<li>Inspect the newly created <strong>vagrantCell02</strong> and <strong>vagrantCell03</strong> topologies (under <strong>Infrastructure/was-vm</strong>) and the <strong>Test</strong> environment </li>
</ul>
</li>
<li>Compose an <strong>initial</strong> deployment of <strong>PetClinic-ear/2.1</strong> to <strong>Test</strong> (Don’t forget to specify a <strong>WebServer</strong> for both <strong>PetClinic</strong> applications)<ul>
<li><strong>server2 ▶ webserver2</strong> </li>
<li><strong>server3 ▶ webserver3</strong></li>
</ul>
</li>
<li>Generate the default deployeds</li>
<li>Click on the <strong>Preview</strong> button to inspect the steps (do not execute yet)</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="exercise-deploy-with-orchestrators">Exercise: Deploy with orchestrators</h2>
<ul>
<li>Select an alternative Orchestrator </li>
<li>Click on the <strong>Deployment Properties</strong> button <ul>
<li>Choose the <strong>sequential-by-container</strong> orchestrator </li>
</ul>
</li>
<li>Inspect the order of the steps </li>
<li>Close the plan analyzer and deployment </li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="exercise-deploy-with-orchestrators">Exercise: Deploy with orchestrators</h2>
<ul>
<li>default</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_orchestrator-was-default.png" alt="Orchestrator"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="exercise-deploy-with-orchestrators">Exercise: Deploy with orchestrators</h2>
<ul>
<li>sequential-by-container</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_orchestrator-was-sequential-by-container.png" alt="Orchestrator"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="exercise-deploy-with-group-based-orchestrators">Exercise: Deploy with group-based orchestrators</h2>
<ul>
<li>Create a plan that deploys <strong>PetClinic-ear/2.1</strong> in the following order to <strong>Test</strong>:<ul>
<li>server2/webserver2 <ul>
<li>server3/webserver3</li>
</ul>
</li>
</ul>
</li>
<li>Use the <strong>group-based</strong> orchestrator in combination with the <strong>deployment group number</strong> property of the used containers</li>
</ul>
<p>Hint : the deployment group number groups deployables and can be found in the deployment tab of the appropriate server. Deployments are executed in the numerical order of the deployment group they are member of.</p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="exercise-deploy-with-group-based-orchestrators">Exercise: Deploy with group-based orchestrators</h2>
<ul>
<li>default</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_orchestrator-was-default.png" alt="Orchestrator"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="orchestrators">Orchestrators</h1>
<h2 id="exercise-deploy-with-group-based-orchestrators">Exercise: Deploy with group-based orchestrators</h2>
<ul>
<li>group</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_orchestrator-was-group.png" alt="Orchestrator"></p>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Agenda</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="agenda">Agenda</h1>
<h2 id="xl-deploy-training">XL Deploy Training</h2>
<table>
<thead>
<tr>
<th>Chapter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Staging</td>
<td>Optimize deployments plan execution</td>
</tr>
<tr>
<td>Tags</td>
<td>Controlling deployable to container mapping</td>
</tr>
<tr>
<td>File placeholders</td>
<td>Variables in artifacts</td>
</tr>
</tbody>
</table>
<aside class="notes"><p>We will show how XL Deploy deals with a multitude of environments. We will also show advanced deployment techniques like Reports, Release Dashboard, Orchestrators, and optimizing the deployment plan. Also we'll explain the usage of tags, File Placeholders and Admin tasks like Security, CLI and the REST API.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="agenda">Agenda</h1>
<h2 id="xl-deploy-training">XL Deploy Training</h2>
<table>
<thead>
<tr>
<th>Chapter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Release dashboards</td>
<td>Controlling application promotion</td>
</tr>
<tr>
<td>Reports</td>
<td>Reporting features</td>
</tr>
<tr>
<td>Security</td>
<td>Managing roles and ACL. LDAP configuration</td>
</tr>
<tr>
<td>CLI</td>
<td>Using the command-line interface</td>
</tr>
<tr>
<td>REST</td>
<td>Introduction to XL Deploy REST API</td>
</tr>
</tbody>
</table>
<aside class="notes"><p>We will show how XL Deploy deals with a multitude of environments. We will also show advanced deployment techniques like Reports, Release Dashboard, Orchestrators, and optimizing the deployment plan. Also we'll explain the usage of tags, File Placeholders and Admin tasks like Security, CLI and the REST API.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="agenda">Agenda</h1>
<h2 id="xl-deploy-training">XL Deploy Training</h2>
<table>
<thead>
<tr>
<th>Chapter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Configuration</td>
<td>XL Deploy configuration</td>
</tr>
<tr>
<td>Compare feature</td>
<td>Live-to-live and repo-to-live comparisons</td>
</tr>
<tr>
<td>Community plugins</td>
<td>Introduction to community plugins</td>
</tr>
<tr>
<td>Satellite</td>
<td>How to deploy to multiple datacenters</td>
</tr>
<tr>
<td>Compare</td>
<td>How to compare two different CIs</td>
</tr>
<tr>
<td>Continuous Integration</td>
<td>Integration with Maven, Jenkins, Puppet, TFS</td>
</tr>
</tbody>
</table>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Staging</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="staging">Staging</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>Copies artifacts that will be deployed to the host before executing the real deployment</li>
<li>Ensures downtime of your application is minimized</li>
</ul>
<aside class="notes"><p>Copies artifacts that will be deployed to the host before executing the deployment.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="staging">Staging</h1>
<h2 id="requirements">Requirements</h2>
<ul>
<li>The <code>stagingDirectory</code> property must be set on the host(s)</li>
<li>The plugin you are using must support staging</li>
</ul>
<aside class="notes"><p>After the deployment has completed successfully, XL Deploy will clean-up the staging directories.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="staging">Staging</h1>
<h2 id="artifact-lifecycle">Artifact lifecycle</h2>
<p><img src="./XL Deploy Training_files/xld_artifact_lifecycle.png" alt="Artifact lifecycle"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="staging">Staging</h1>
<h2 id="exercise-use-staging">Exercise: Use staging</h2>
<p>On the <strong>Library</strong> section of the GUI</p>
<ul>
<li>Set the value of the <strong>Staging Directory Path</strong> (Advanced Tab) to <strong>/tmp</strong> on the following host:<ul>
<li><strong>Infrastructure/was-vm</strong></li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="staging">Staging</h1>
<h2 id="exercise-use-staging">Exercise: Use staging</h2>
<p>On the <strong>Library</strong> section of the GUI under <strong>Applications</strong></p>
<ul>
<li>Create a plan that deploys <strong>PetClinic-ear/2.1</strong> on the <strong>Test</strong> environment</li>
<li>Preview to generate the default <strong>deployeds</strong></li>
<li>Expand the <strong>Preview</strong> deploy tasks to view the generated steps</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="staging">Staging</h1>
<h2 id="exercise-use-staging">Exercise: Use staging</h2>
<p><img src="./XL Deploy Training_files/xld_staging_was1.png" alt="Staging"></p>
<aside class="notes"><p>that steps are added for staging and removing staged files</p>
</aside></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Tags</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="tags">Tags</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>Base mapping is done through a deployable-to-container relationship</li>
<li>Tags make it easier to configure deployments by marking which deployables should be mapped to which containers</li>
<li>Tags are specified on deployables and containers</li>
<li>Tags can be specified either in the imported package or by using the Library browser</li>
<li>Next slide presents matching rules used between deployables and containers</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="tags">Tags</h1>
<h2 id="introduction">Introduction</h2>
<table>
<thead>
<tr>
<th>Deployables/Containers</th>
<th>No tags</th>
<th>Tag *</th>
<th>Tag +</th>
<th>Tag A</th>
<th>Tag B</th>
<th>Tags A,B</th>
</tr>
</thead>
<tbody>
<tr>
<td>No tags</td>
<td>√</td>
<td>√</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>Tag *</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>√</td>
</tr>
<tr>
<td>Tag +</td>
<td>X</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>√</td>
</tr>
<tr>
<td>Tag A</td>
<td>X</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>X</td>
<td>√</td>
</tr>
<tr>
<td>Tag B</td>
<td>X</td>
<td>√</td>
<td>√</td>
<td>X</td>
<td>√</td>
<td>√</td>
</tr>
<tr>
<td>Tags A,B</td>
<td>X</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>√</td>
</tr>
</tbody>
</table>
<p>√ = mapped, X = blocked</p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="tags">Tags</h1>
<h2 id="deployment-without-tags">Deployment without tags</h2>
<div class="left" markdown="1"><ul>
<li>When preparing a deployment, XL Deploy will generate mappings for each combination of deployable and container</li>
<li>This can easily become cumbersome to manage for big packages/large environments, especially when using CLI scripts
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_tags_mapping1.png" alt="Deployment without tags">

</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="tags">Tags</h1>
<h2 id="tagging-a-deployable-and-container">Tagging a deployable and container</h2>
<div class="left" markdown="1"><p><img src="./XL Deploy Training_files/xld_tags_artifact.png" alt="Tagging an artifact">
</p></div><p></p>
<p></p><div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_tags_container.png" alt="Tagging a middleware container"><p></p>
</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="tags">Tags</h1>
<h2 id="deployment-with-tags">Deployment with tags</h2>
<ul>
<li>Tags must be defined on deployable and container</li>
<li>The deployed is generated only when both the deployable and container have a matching tag</li>
<li>No tag defined on both deployable and container: default type-based deployed generation</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Tags</h1>
  <h2>Exercise: Deploy with tags</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="tags">Tags</h1>
<h2 id="exercise-deploy-with-tags">Exercise: Deploy with tags</h2>
<ul>
<li>When deploying <strong>TableLister/1.0</strong> to <strong>Test</strong></li>
<li>Generate the default deployeds</li>
<li>Use tags to achieve the following mapping automatically<ul>
<li>TableListingApp<ul>
<li>Server2</li>
<li>Server3</li>
</ul>
</li>
<li>AppDataSource<ul>
<li>vagrantNode02</li>
<li>vagrantNode03</li>
</ul>
</li>
</ul>
</li>
</ul>
<aside class="notes"><p>Play around with tags and make sure you fulfill the requirements</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="tags">Tags</h1>
<h2 id="exercise-deploy-with-tags-mapping-without-tags-">Exercise: Deploy with tags (mapping without tags)</h2>
<p><img src="./XL Deploy Training_files/xld_tags_was_without.png" alt="Tags"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="tags">Tags</h1>
<h2 id="exercise-deploy-with-tags-mapping-with-tags-">Exercise: Deploy with tags (mapping with tags)</h2>
<p><img src="./XL Deploy Training_files/xld_tags_was_with.png" alt="Tags"></p>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>File placeholders</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders-and-dictionaries">File placeholders and dictionaries</h1>
<h2 id="environment-independent">Environment independent</h2>
<p><img src="./XL Deploy Training_files/xld_propsplaceholders_principle1.png" alt="Deployment verification"></p>
<aside class="notes"><p>In XL Deploy terms: The Dictionaries in the Environment match up with the Placeholders in the Deployables to create environment-dependent values on the Deployeds. 
Remember that the Deployables (Artifacts and Resources in the Deployment Package) are like templates. 
The Placeholders are filled in with actual values and so we create a Deployed.
The Deployed is the configured version of the Deployable for a certain environment. 
Recall that packages are environment-independent. This means they can be deployed unchanged to multiple environments. 
But what if the application requires environment-specific customizations?</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders-and-dictionaries">File placeholders and dictionaries</h1>
<h2 id="environment-dependent">Environment dependent</h2>
<p><img src="./XL Deploy Training_files/xld_propsplaceholders_principle2.png" alt="Deployment verification"></p>
<aside class="notes"><p>XL Deploy supports the concept of “property placeholders”. This is a way to make parts of your deployment package variable.
Placeholders are replaced with actual values at deployment configuration time.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders-and-dictionaries">File placeholders and dictionaries</h1>
<h2 id="environment-dependent">Environment dependent</h2>
<p><img src="./XL Deploy Training_files/xld_propsplaceholders_principle3.png" alt="Deployment verification"></p>
<aside class="notes"><p>In XL Deploy terms: The Dictionaries in the Environment match up with the Placeholders in the Deployables to create environment-dependent values on the Deployeds. 
Remember that the Deployables (Artifacts and Resources in the Deployment Package) are like templates. 
The Placeholders are filled in with actual values and so we create a Deployed. The Deployed is the configured version of the Deployable for a certain environment.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders-and-dictionaries">File placeholders and dictionaries</h1>
<h2 id="placeholder-and-dictionaries">Placeholder and dictionaries</h2>
<ul>
<li>Placeholders are resolved by searching the target environment's dictionaries</li>
<li>If no value is found, the placeholder is blank</li>
<li>Resolved placeholders can be overridden</li>
</ul>
<aside class="notes"><p>Placeholder resolution is done at Deployment Mapping time (creating the green lines in the UI) and can be overridden afterwards, 
by double-clicking on the Deployed and editing the values.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders">File placeholders</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>File placeholders:<ul>
<li>Are specified inside files</li>
<li>Are scanned when the package is imported</li>
<li>Are replaced when a deployment is executed</li>
<li><strong>Must be specified before deployment can be executed</strong></li>
</ul>
</li>
<li>Use syntax: <code>{{PLACEHOLDER}}</code></li>
</ul>
<aside class="notes"><p>XL Deploy scans packages that it imports for text files and searches these text files for file placeholders. The following items are scanned:</p>
<ul>
<li>File-type CIs</li>
<li>Folder-type CIs</li>
<li>Archive-type CIs</li>
</ul>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders">File placeholders</h1>
<h2 id="example">Example</h2>
<p><img src="./XL Deploy Training_files/xld_fileplaceholders_dictionary.png" alt="FilePlaceholders"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders">File placeholders</h1>
<h2 id="example">Example</h2>
<p><img src="./XL Deploy Training_files/xld_fileplaceholders_file_example1.png" alt="FilePlaceHolders"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders">File placeholders</h1>
<h2 id="example">Example</h2>
<p><img src="./XL Deploy Training_files/xld_fileplaceholders_file_example2.png" alt="FilePlaceHolders"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders">File placeholders</h1>
<h2 id="example">Example</h2>
<div class="left" markdown="1"><p><img src="./XL Deploy Training_files/xld_fileplaceholders_file_example3.png" alt="FilePlaceHolders">
</p></div><p></p>
<p></p><div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_fileplaceholders_file_example4.png" alt="FilePlaceHolders"><p></p>
</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders">File placeholders</h1>
<h2 id="file-plugin">File plugin</h2>
<ul>
<li>The File plugin contains logic for copying files and folders to a host</li>
<li>Provides:<ul>
<li><strong>file.File</strong></li>
<li><strong>file.Archive</strong></li>
<li><strong>file.Folder</strong> </li>
</ul>
</li>
<li>Supports deployment to <strong>overthere.Host</strong> containers</li>
<li>Included as standard plugin with XL Deploy</li>
</ul>
<aside class="notes"><p>The file plugin is one of the standard building blocks in XL Deploy for creating custom deployments. It is used to copy files, and supports file placeholders.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders">File placeholders</h1>
<h2 id="file-plugin">File plugin</h2>
<ul>
<li>Copied files are placeholder-aware (scanning, replacing)</li>
<li>Supports deep-scanning of archives</li>
<li>Files and folders are copied to target container on deployment</li>
<li>Files and folders are replaced on target container on upgrade</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders">File placeholders</h1>
<h2 id="file-plugin-example">File plugin example</h2>
<p><img src="./XL Deploy Training_files/xld_fileplaceholders_fileplugin_example1.png" alt="FilePlaceHolders"></p>
<aside class="notes"><p>So you specify file artifacts, for example configuration files, in the Deployment Package. Here we see an example of how you would do that in the importablePackages directory, by creating a DAR with files and a Manifest file. Alternatively, you can create a Deployment Package in the UI, and add file.File and file.Folder artifacts and upload the files. (Upload folders by zipping them first). A third way would be to have Maven create a DAR containing files. Maven will be explained shortly.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders">File placeholders</h1>
<h2 id="file-plugin-example-file-folder-">File plugin example (file.Folder)</h2>
<p><img src="./XL Deploy Training_files/xld_fileplaceholders_fileplugin_example2.png" alt="FilePlaceHolders"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders">File placeholders</h1>
<h2 id="file-plugin-example-file-file-">File plugin example (file.File)</h2>
<p><img src="./XL Deploy Training_files/xld_fileplaceholders_fileplugin_example3.png" alt="FilePlaceHolders"></p>
<aside class="notes"><p>XL Deploy terminology: file.File is the Deployable (in the package, left-hand side), which serves as a template to create the actual deployed file, which is of type file.DeployedFile.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>File placeholders</h1>
  <h2>Exercise: Deploy files with placeholders</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders">File placeholders</h1>
<h2 id="exercise-deploy-files-with-placeholders">Exercise: Deploy files with placeholders</h2>
<p><img src="./XL Deploy Training_files/xld_fileplaceholders_exercise1.png" alt="FilePlaceHolders"></p>
<aside class="notes"><p>So when the file is deployed all placeholder values are resolved.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders">File placeholders</h1>
<h2 id="exercise-deploy-files-with-placeholders">Exercise: Deploy files with placeholders</h2>
<ul>
<li>Define a package containing the following CIs:<ul>
<li><strong>file.File</strong></li>
<li><strong>file.Folder</strong></li>
<li><strong>file.Archive</strong></li>
</ul>
</li>
<li>Add some placeholders in your files, also to files in the ZIP archive</li>
<li>Define an environment with an <strong>overthere.Host</strong> container</li>
</ul>
<aside class="notes"><p>It's easiest to create a package in the UI. But you can also create a package on the server, in the importablePackages directory. You will have to write a Manifest file then. Look at the other packages (PetClinic, etc.) to see how it's done and refer to the Packaging Manual on docs.xebialabs.com for details.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="file-placeholders">File placeholders</h1>
<h2 id="exercise-deploy-files-with-placeholders">Exercise: Deploy files with placeholders</h2>
<ul>
<li>Deploy the package</li>
<li>Verify the generated steps</li>
<li>Check that the files are copied to the target directory and placeholders are replaced</li>
</ul>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Release dashboard</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="release-dashboard">Release dashboard</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>Overview of your application in the Deployment Pipeline</li>
<li>Promote applications through the pipeline</li>
<li>Checks: only allow deployments when prerequisites are met
<img src="./XL Deploy Training_files/xld_8.0.5_deployment_pipeline_petportal.png" alt="DeploymentPipeline"></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Release dashboard</h1>
  <h2>Exercise: configure release dashboard</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="release-dashboard">Release dashboard</h1>
<h2 id="exercise-configure-release-dashboard">Exercise: configure release dashboard</h2>
<ul>
<li>In the <strong>Library</strong> section of the GUI:<ul>
<li>Click on the three dots to the right of <strong>Configuration</strong> and select:</li>
<li><strong>New</strong> ▶ <strong>release</strong> ▶ <strong>DeploymentPipeline</strong></li>
</ul>
</li>
<li>Name the deployment pipeline: DTAP</li>
<li>Add the following members to the pipeline:<ul>
<li>Development</li>
<li>Test</li>
</ul>
</li>
</ul>
<aside class="notes"><p>that you can drag-and-drop the order of the pipelines in the UI editor. This can be done by drag-and-drop the items in the member section.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="release-dashboard">Release dashboard</h1>
<h2 id="exercise-configure-release-dashboard">Exercise: Configure release dashboard</h2>
<p>Associate the <strong>DTAP</strong> pipeline to the <strong>PetClinic-ear</strong> application</p>
<ul>
<li>In the <strong>Library</strong> section of the GUI under <strong>Applications</strong>
double-click the <strong>PetClinic-ear</strong> application, select the <strong>DTAP</strong> pipeline, save.</li>
<li>Click the three-dots and select Deployment Pipeline.</li>
<li><img src="./XL Deploy Training_files/xld_8.0.5_deployment_pipeline_petclinic_1.png" alt="ReleaseDashboard"></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="release-dashboard">Release dashboard</h1>
<h2 id="release-dashboard-checks">Release dashboard checks</h2>
<ul>
<li>All available checks are defined globally defined (in <strong>synthetic.xml</strong>, more on that later)</li>
<li>For each <strong>Environment</strong>, you can define which checks it requires from a <strong>Deployment Package</strong></li>
<li>Each <strong>Deployment Package</strong> maintains a list of checks it satisfies, i.e are ticked off.</li>
<li>Deployments are only allowed if the <strong>Deployment Package</strong> satisfies all the requirements configured on the <strong>Environment</strong></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Release dashboard</h1>
  <h2>Exercise: Complete the DTAP</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="release-dashboard">Release dashboard</h1>
<h2 id="exercise-complete-the-dtap">Exercise: Complete the DTAP</h2>
<p>Create an empty <strong>Acceptance</strong> and <strong>Production</strong> environments:</p>
<ul>
<li>On the <strong>Deployment</strong> tab, click the icon under <strong>Environments</strong></li>
<li>Click <strong>Create environment</strong></li>
<li>Set the name to Acceptance and click through the screens in the wizard to save the environment without adding any containers or dictionaries</li>
<li>Repeat for the Production environment</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="release-dashboard">Release dashboard</h1>
<h2 id="exercise-complete-the-dtap">Exercise: Complete the DTAP</h2>
<p>For the <strong>Acceptance</strong> and <strong>Production</strong> environments, enable the following checks in the  Release Checks tab:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Acceptance</th>
<th>Production</th>
</tr>
</thead>
<tbody>
<tr>
<td>Requires Release Notes</td>
<td>√</td>
<td>√</td>
</tr>
<tr>
<td>Requires Ticket Number</td>
<td>√</td>
<td>√</td>
</tr>
<tr>
<td>Requires Passed Functional Testing</td>
<td>√</td>
<td>√</td>
</tr>
<tr>
<td>Requires Passed Acceptance Testing</td>
<td></td>
<td>√</td>
</tr>
<tr>
<td>Requires Signed Off By Release Manager</td>
<td></td>
<td>√</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="release-dashboard">Release dashboard</h1>
<h2 id="exercise-complete-the-dtap">Exercise: Complete the DTAP</h2>
<ul>
<li>Add the newly created <strong>Acceptance</strong> and <strong>Production</strong> environments to the <strong>DTAP</strong> pipeline:</li>
<li>In the <strong>Library</strong> section of the GUI:<ul>
<li>Go to <strong>Configuration</strong> ▶ <strong>DTAP</strong> (double-click)</li>
</ul>
</li>
<li>Add the following members to the pipeline:<ul>
<li><strong>Acceptance</strong></li>
<li><strong>Production</strong></li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="release-dashboard">Release dashboard</h1>
<h2 id="exercise-complete-the-dtap">Exercise: Complete the DTAP</h2>
<ul>
<li>On the <strong>Release Dashboard</strong> tab, investigate the newly created pipeline for the application</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_8.0.5_deployment_pipeline_petclinic_2.png" alt="ReleaseDashboard"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="release-dashboard">Release dashboard</h1>
<h2 id="exercise-complete-the-dtap">Exercise: Complete the DTAP</h2>
<p>Verify the configured <strong>release checks</strong> by clicking on the <strong>Acceptance</strong> or <strong>Production</strong> environment in the <strong>Deployment Pipeline</strong>:</p>
<p><img src="./XL Deploy Training_files/xld_release_dashboard_checks.png" alt="ReleaseDashboard"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="release-dashboard">Release dashboard</h1>
<h2 id="exercise-configure-checks">Exercise: Configure checks</h2>
<ul>
<li>Checks are configured in <code>ext/synthetic.xml</code></li>
<li>Restart the XL Deploy server after editing <code>synthetic.xml</code></li>
</ul>
<aside class="notes"><p>The synthetic.xml contains additions to XL Deploy's internal type system. We have to restart server and UI if we make changes to it.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="release-dashboard">Release dashboard</h1>
<h2 id="exercise-checks-on-environments">Exercise: Checks on environments</h2>
<p>Guidelines:</p>
<ul>
<li>Check property names start with "requires"</li>
<li>Property <strong>kind</strong> is always "Boolean"</li>
<li>Property <strong>required</strong> is always "false"</li>
<li>Property <strong>category</strong> defines the UI tab ("Release Checks")</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="release-dashboard">Release dashboard</h1>
<h2 id="exercise-checks-on-environments">Exercise: Checks on environments</h2>
<p><strong>This is the list of all possible checks on all environments</strong></p>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-comment">&lt;!-- Release Dashboard checks for all environments ('requires') --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">type-modification</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"udm.Environment"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"requiresReleaseNotes"</span>              <span class="hljs-attr">kind</span>=<span class="hljs-string">"boolean"</span> <span class="hljs-attr">required</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">category</span>=<span class="hljs-string">"Release Checks"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"requiresTicketNumber"</span>              <span class="hljs-attr">kind</span>=<span class="hljs-string">"boolean"</span> <span class="hljs-attr">required</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">category</span>=<span class="hljs-string">"Release Checks"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"requiresPassedFunctionalTesting"</span>   <span class="hljs-attr">kind</span>=<span class="hljs-string">"boolean"</span> <span class="hljs-attr">required</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">category</span>=<span class="hljs-string">"Release Checks"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"requiresPassedAcceptanceTesting"</span>   <span class="hljs-attr">kind</span>=<span class="hljs-string">"boolean"</span> <span class="hljs-attr">required</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">category</span>=<span class="hljs-string">"Release Checks"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"requiresSignedOffByReleaseManager"</span> <span class="hljs-attr">kind</span>=<span class="hljs-string">"boolean"</span> <span class="hljs-attr">required</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">category</span>=<span class="hljs-string">"Release Checks"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">type-modification</span>&gt;</span>
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="release-dashboard">Release dashboard</h1>
<h2 id="exercise-checks-on-environments">Exercise: Checks on environments</h2>
<p>Guidelines:</p>
<ul>
<li>Name starts with "satisfies" and match "requires"</li>
<li>Property kind can be int, Boolean, or string</li>
<li>Required must be false</li>
<li>Label defines a readable label for the GUI</li>
<li>Can define validation rules</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="release-dashboard">Release dashboard</h1>
<h2 id="exercise-checks-on-deployment-packages">Exercise: Checks on deployment packages</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-comment">&lt;!-- Release Dashboard checks for individual application versions. ('satisfies') --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">type-modification</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"udm.Version"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"satisfiesReleaseNotes"</span>              <span class="hljs-attr">kind</span>=<span class="hljs-string">"boolean"</span> <span class="hljs-attr">required</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">category</span>=<span class="hljs-string">"Release Checks"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"Has..."</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"satisfiesTicketNumber"</span>              <span class="hljs-attr">kind</span>=<span class="hljs-string">"string"</span>  <span class="hljs-attr">required</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">category</span>=<span class="hljs-string">"Release Checks"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"Ticket..."</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">rule</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"regex"</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">"^PETCLINIC-[0-9]+$"</span> <span class="hljs-attr">message</span>=<span class="hljs-string">"Ticket number should be of the form PETCLINIC-XXXX"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"satisfiesPassedFunctionalTesting"</span>   <span class="hljs-attr">kind</span>=<span class="hljs-string">"boolean"</span> <span class="hljs-attr">required</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">category</span>=<span class="hljs-string">"Release Checks"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"Passed..."</span>  /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"satisfiesPassedAcceptanceTesting"</span>   <span class="hljs-attr">kind</span>=<span class="hljs-string">"boolean"</span> <span class="hljs-attr">required</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">category</span>=<span class="hljs-string">"Release Checks"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"Passed..."</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"satisfiesSignedOffByReleaseManager"</span> <span class="hljs-attr">kind</span>=<span class="hljs-string">"string"</span>  <span class="hljs-attr">required</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">category</span>=<span class="hljs-string">"Release Checks"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"Signed..."</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">type-modification</span>&gt;</span>
</span></code></pre></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Reports</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="reports">Reports</h1>
<h2 id="introduction">Introduction</h2>
<p>XL Deploy provides a dashboard and configurable reports out-of-the-box including:</p>
<ul>
<li>Dashboard </li>
<li>Deployed applications per environment </li>
<li>Deployments done in a certain data range </li>
<li>Key deployment indicators in date range</li>
</ul>
<aside class="notes"><p>Report section:</p>
<ul>
<li>Graphical dashboard to see deployment statistics at a glance </li>
<li>Actual deployments on a certain date </li>
<li>Log of deployments done (audit trail) </li>
<li>Statistics on successful / unsuccessful deployments</li>
</ul>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="reports">Reports</h1>
<h2 id="dashboard">Dashboard</h2>
<p><img src="./XL Deploy Training_files/reports-dashboard.png" alt="Dashboard"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="reports">Reports</h1>
<h2 id="deployments-report">Deployments report</h2>
<p><img src="./XL Deploy Training_files/reports-deployments.png" alt="Report"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="reports">Reports</h1>
<h2 id="deployed-applications-report">Deployed applications report</h2>
<p><img src="./XL Deploy Training_files/reports-deployed-applications.png" alt="Report"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="reports">Reports</h1>
<h2 id="key-deployment-indicators-report">Key deployment indicators report</h2>
<p><img src="./XL Deploy Training_files/reports-key-deployment-indicators-grid.png" alt="Report"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Reports</h1>
  <h2>Exercise: Use reports</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="reports">Reports</h1>
<h2 id="exercise-use-reports">Exercise: Use reports</h2>
<p>On the Reports tab:</p>
<ul>
<li>Choose the Deployments tab</li>
<li>Get a report of the deployments you did yesterday</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="reports">Reports</h1>
<h2 id="exercise-use-reports">Exercise: Use reports</h2>
<p><img src="./XL Deploy Training_files/report_exercise1.png" alt="Report"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="reports">Reports</h1>
<h2 id="exercise-use-reports">Exercise: Use reports</h2>
<p>Double-click a line in the report to get the deployment log</p>
<p><img src="./XL Deploy Training_files/report_exercise2.png" alt="Report"></p>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Security</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>Security is based on <strong>Roles</strong> and <strong>Permissions</strong></li>
<li><strong>Roles</strong> are associated with <strong>Principals</strong> (usually users or groups from LDAP)</li>
<li>Permissions are predefined at Global or CI-level</li>
</ul>
<aside class="notes"><p>Roles are defined in XL Deploy, but users are usually defined in an external store.</p>
<p>Note that although we usually connect to LDAP, the training runs against XL Deploy's built-in user repository.</p>
<p>One restriction on the security system is that you set permissions on Directories only. This means in practice that you will need to create directories in the Library to model your security setup.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>CI-level permissions can only be set on <strong>Directories</strong></li>
</ul>
<p><img src="./XL Deploy Training_files/xld_security_new_directory.png" alt="Security"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="inheritance">Inheritance</h2>
<ul>
<li>Children inherit parents permissions if they do not have permissions of their own.</li>
<li>If any permission is set on a directory, ALL permissions of the parent are overridden.</li>
<li>If you give permission to an environment, you have to give read permission to all of the referenced infrastructure members.</li>
</ul>
<aside class="notes"><p>Children inherit parents permissions if they do not have permissions of their own. If any permission is set on a directory, ALL permissions of the parent are overridden.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="global-permissions">Global permissions</h2>
<ul>
<li><strong>admin:</strong> Grants all rights within XL Deploy.</li>
<li><strong>discovery:</strong> Perform discovery of middleware.</li>
<li><strong>login:</strong> Allows user to Log into the XL Deploy application.<ul>
<li>This permission does not automatically allow the user access to nodes in the repository.</li>
</ul>
</li>
<li><strong>security edit:</strong> Allows administration of security permissions.</li>
<li><strong>task assign:</strong>    Grants ability to reassign any task to someone else.</li>
<li><strong>task takeover:</strong> Allows users to assign any task to yourself.</li>
<li><strong>task preview step:</strong> Allows inspection of scripts that will be executed within the deployment plan.</li>
<li><strong>report view:</strong> View all the reports. When granted, the UI will show the Reports tab.<ul>
<li>To view the full details of an archived task, users need read permissions on both the environment &amp; application.</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="local-permissions-1-3">Local permissions 1/3</h2>
<ul>
<li><strong>control task execute:</strong> Allows execution of control tasks on configuration items.</li>
<li><strong>deploy initial:</strong> Grants permission to perform an initial deployment of a package to an environment.<ul>
<li>Applies only for the Environment CIs within the containing directory.</li>
</ul>
</li>
<li><strong>deploy undeploy:</strong> Allows the undeploy of an application.<ul>
<li>Applies only for the Environment CIs within the containing directory.</li>
</ul>
</li>
<li><strong>deploy upgrade:</strong> Grants permission to perform an upgrade deployment on an environment.<ul>
<li>Does not allow deploying items from the package to new targets. Applies only to Environment CIs within the containing directory.</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="local-permissions-2-3">Local permissions 2/3</h2>
<ul>
<li><strong>import initial:</strong> Allows initial import of a package for a new application.</li>
<li><strong>import remove:</strong> Allows removal of an application or package.<ul>
<li>Applies only for Application and DeploymentPackage CIs within the containing directory.</li>
</ul>
</li>
<li><strong>import upgrade:</strong> Allows import of a package to upgrade an existing application.<ul>
<li>Applies only for Application CIs within the containing directory.</li>
</ul>
</li>
<li><strong>read:</strong> View CIs in the repository.</li>
<li><strong>repo edit:</strong> Allows editing (create and modify) CIs in the library.<ul>
<li>The user must also have read access to CIs to be able to edit them.</li>
<li>Applies only for the CIs within the containing directory.</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="local-permissions-3-3">Local permissions 3/3</h2>
<ul>
<li><strong>task assign:</strong>  Allows the transfer a task to another user.</li>
<li><strong>task move step:</strong> Allows moving of steps in the generated steplist before starting a deployment.<ul>
<li>Applies only for deployments executed on Environment CIs in the containing directory.</li>
</ul>
</li>
<li><strong>task skip step:</strong> Allows skipping steps in the generated steplist before starting a deployment.<ul>
<li>Applies only for deployments executed on Environment CIs in the containing directory.</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="a-few-remarks-on-permissions-">A few remarks on permissions...</h2>
<ul>
<li><strong>import upgrade</strong> is only applicable to an Applications</li>
<li><strong>deploy</strong> is only applicable to an Environment</li>
<li><strong>import initial</strong> allows user to create new udm.Application</li>
<li><strong>import upgrade</strong> allows users to create new udm.DeploymentPackages</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="security-roles-in-the-gui">Security roles in the GUI</h2>
<p><img src="./XL Deploy Training_files/xld_security_roles_gui.png" alt="Security"></p>
<aside class="notes"><p>In the UI, roles are displayed in the Admin / Roles tab. Here you can map "principals" to roles. A principal is an LDAP user or group or user from the XL Deploy built-in user store.
Specify principals as a comma-separated list.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="ci-level-permissions-in-the-gui">CI level permissions in the GUI</h2>
<p><img src="./XL Deploy Training_files/xld_security_cilevel_gui.png" alt="Security"></p>
<aside class="notes"><p>Permissions on a directory can be seen or edited by clicking on the three dots for the directory in the <strong>Library</strong> section and choosing <strong>Edit Permissions</strong>. The editing screen will show only the relevant permissions. For example, "import" permissions on an application and "deploy" permissions on an Environment.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Security</h1>
  <h2>Exercise: security</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="exercise-security">Exercise: security</h2>
<ul>
<li>Create a <strong>developer</strong> role (in GUI in the <strong>Admin</strong> tab)</li>
<li><p>Create a user, use any username you want, using the CLI</p>
<p>  <code>security.createUser("myUsername","myPassword")</code></p>
</li>
<li><p>Assign the <strong>developer</strong> role to the new user</p>
</li>
<li>Can you login with the newly created user?<ul>
<li>Use the gear icon | Logout to logout</li>
</ul>
</li>
</ul>
<aside class="notes"><p>This exercise is more free-form... experiment with adding directories in various places, logging in and out as different users.
<code>security.createUser</code> returns something that says "password=<null>". This is expected behavior. The password is set, but not sent back to the remote client for security reasons.
Note that normally you are connected to LDAP and you don't need to add users in the CLI.</null></p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="exercise-security">Exercise: security</h2>
<ul>
<li>On the XL Deploy GUI open the <strong>Admin</strong> tab</li>
<li>On the <strong>Admin</strong> tab, open the <strong>Roles</strong> tab</li>
<li>Add a new role named <strong>cli-users</strong></li>
<li>Specify the username you created through the CLI as a <strong>principal</strong> for the <strong>cli-users</strong> role</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_security_exercise_cliusers1.png" alt="Security"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="exercise-security">Exercise: security</h2>
<ul>
<li>On the XL Deploy GUI open the <strong>Admin</strong> tab</li>
<li>Open the <strong>Global Permissions</strong> tab</li>
<li>Reload the permissions</li>
<li>Select the <strong>cli-users</strong> role from the drop-down box</li>
<li>Grant the <strong>cli-users</strong> role the <strong>login</strong> permission</li>
<li>Try to login with the user created through the CLI</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_security_exercise_cliusers2.png" alt="Security"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="exercise-security">Exercise: security</h2>
<ul>
<li>Use <strong>Permissions</strong> and <strong>Directories</strong> to reorganize the Library, so that cli-users can only see the PetClinic-ear application and the Development environment</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_security_exercise_permissions.png" alt="Security"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="exercise-ldap-integration">Exercise: LDAP Integration</h2>
<ul>
<li>Integrates with<ul>
<li>Active directory</li>
<li>LDAP</li>
</ul>
</li>
<li>Configured in <strong><xldeploy-server-dir></xldeploy-server-dir></strong>/conf/deployit-security.xml</li>
</ul>
<pre><code class="hljs applescript">&lt;bean <span class="hljs-built_in">id</span>=<span class="hljs-string">"ldapServer"</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">"..."</span>&gt;
    &lt;constructor-arg value=<span class="hljs-string">"ldap://192.168.0.10:389/"</span> /&gt;
    &lt;<span class="hljs-keyword">property</span> <span class="hljs-built_in">name</span>=<span class="hljs-string">"userDn"</span> value=<span class="hljs-string">"cn=admin,dc=nodomain"</span> /&gt;
    &lt;<span class="hljs-keyword">property</span> <span class="hljs-built_in">name</span>=<span class="hljs-string">"password"</span> value=<span class="hljs-string">"secret"</span> /&gt;
    &lt;<span class="hljs-keyword">property</span> <span class="hljs-built_in">name</span>=<span class="hljs-string">"baseEnvironmentProperties"</span>&gt;
...
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Security</h1>
  <h2>Exercise: LDAP</h2>
</hgroup>
</div>

</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="exercise-ldap">Exercise: LDAP</h2>
<ul>
<li>LDAP structure<ul>
<li>Group: devgroup<ul>
<li>Members: james</li>
</ul>
</li>
<li>Group: opsgroup<ul>
<li>Members: john and brian</li>
</ul>
</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="exercise-ldap">Exercise: LDAP</h2>
<ul>
<li>Integrate XL Deploy with the OpenLDAP server running on your training VM</li>
<li>Backup your XL Deploy <strong>conf</strong> directory</li>
<li>Copy the <strong>deployit-security.xml</strong> from the ldap folder of your training material to the <strong>conf</strong> directory of you XL Deploy installation</li>
<li>Restart XL Deploy</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="exercise-ldap">Exercise: LDAP</h2>
<ul>
<li>On the XL Deploy GUI open the Admin tab</li>
<li>On the Admin tab, open the Roles tab</li>
<li>Add a new role named operators</li>
<li>Specify john as a principal for the operators role</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_security_exercise_ldap1.png" alt="Security"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="exercise-ldap">Exercise: LDAP</h2>
<ul>
<li>On the XL Deploy GUI open the Admin tab</li>
<li>Open the Global Permissions tab</li>
<li>Reload the permissions</li>
<li>Select the operators role from the drop-down box</li>
<li>Grant the operators role the login permission</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_security_exercise_ldap2.png" alt="Security"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="exercise-ldap">Exercise: LDAP</h2>
<ul>
<li>Logout from the XL Deploy GUI and try to logon as user john<ul>
<li>Use Help | Logout</li>
<li>password: john01</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="exercise-ldap">Exercise: LDAP</h2>
<ul>
<li>Change the security configuration to support LDAP groups</li>
<li>Open the file deployit-security.xml</li>
<li>Locate the commented out constructor-arg section and uncomment it</li>
<li>Restart XL Deploy</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="exercise-ldap">Exercise: LDAP</h2>
<ul>
<li>On the XL Deploy GUI open the Admin tab</li>
<li>On the Admin tab, open the Roles tab</li>
<li>Update the principal(s) of the operators role to match the groupname of users john and brian (opsgroup)</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_security_exercise_ldap3.png" alt="Security"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="exercise-ldap">Exercise: LDAP</h2>
<ul>
<li>Logout from the GUI and try to logon as a member of the opsgroup (john or brian)</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="exercise-ldap">Exercise: LDAP</h2>
<ul>
<li>On the XL Deploy GUI open the Admin tab</li>
<li>On the Admin tab, open the Roles tab</li>
<li>Update the principal(s) of the operators role to match the groupname of users john and brian (opsgroup) and (individual) user james</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_security_exercise_ldap4.png" alt="Security"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="security">Security</h1>
<h2 id="exercise-ldap">Exercise: LDAP</h2>
<ul>
<li>Logout from the XL Deploy GUI and try to logon as user james</li>
</ul>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>CLI</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>Remote client, uses http/https</li>
<li>Python-based (Jython)</li>
<li>Runs scripts or interactive command-line</li>
<li>starts with <strong><xldeploy_cli_home></xldeploy_cli_home></strong>/bin/cli.sh or cli.cmd</li>
<li>Jython API <a href="https://docs.xebialabs.com/jython-docs/#!/xl-deploy/5.1.x/">https://docs.xebialabs.com/jython-docs/#!/xl-deploy/5.1.x/</a></li>
<li>CLI Manual <a href="https://docs.xebialabs.com/xl-deploy/how-to/using-the-xl-deploy-cli.html">https://docs.xebialabs.com/xl-deploy/how-to/using-the-xl-deploy-cli.html</a></li>
</ul>
<aside class="notes"><p>The cli is jython based. Which means you can actually program in it. But you can also use it interactively. What we usually recommend is writing your scripts in a text editor, and then execute it by via the cli either by passing it to the cli startup shell script or using the jython execfile command in an already started cli session. You have already seen this option when we initialized our environment for the initial deployment and upgrade scenario.
CLI is for scripting and gluing!
Some things are easier to do in the UI, but you don't have the flexibility of a full-fledged scripting language.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="cli-shell-options">CLI shell options</h2>
<pre><code class="hljs http"><span class="hljs-attribute">Usage</span>: ./cli.sh [options] [[--] arguments]

<span class="haml">Options:

 -<span class="ruby"> configuration VAL <span class="hljs-symbol">:</span> Specify the location of the configuration directory. The CLI will look <span class="hljs-keyword">for</span> a deployit.conf <span class="hljs-keyword">in</span> this location.
</span> -<span class="ruby"> context VAL       <span class="hljs-symbol">:</span> Context url XL Deploy is running at, defaults to <span class="hljs-string">''</span>
</span> -<span class="ruby"> f (-source) VAL   <span class="hljs-symbol">:</span> Execute a specified python source file
</span> -<span class="ruby"> help              <span class="hljs-symbol">:</span> Prints this usage message
</span> -<span class="ruby"> host VAL          <span class="hljs-symbol">:</span> Connect to a specified host, defaults to <span class="hljs-number">127.0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span>
</span> -<span class="ruby"> password VAL      <span class="hljs-symbol">:</span> Connect with the specified password
</span> -<span class="ruby"> port N            <span class="hljs-symbol">:</span> Connect to a specified port, defaults to <span class="hljs-number">4516</span>
</span> -<span class="ruby"> proxyHost VAL     <span class="hljs-symbol">:</span> Proxy host
</span> -<span class="ruby"> proxyPort N       <span class="hljs-symbol">:</span> Proxy port
</span> -<span class="ruby"> q (-quiet)        <span class="hljs-symbol">:</span> Suppresses the welcome banner
</span> -<span class="ruby"> secure            <span class="hljs-symbol">:</span> Use https to connect to the XL Deploy server
</span> -<span class="ruby"> username VAL      <span class="hljs-symbol">:</span> Connect as the specified user
</span></span></code></pre><aside class="notes"><p>See also the CLI Manual.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="python-basics">Python basics</h2>
<ul>
<li>String<ul>
<li>'single quoted' or "double quoted"</li>
</ul>
</li>
<li>List<ul>
<li>[1, 2, 3, 4]</li>
</ul>
</li>
<li>Map<ul>
<li>{'key1':'value1', 'key2': 'value2'}</li>
</ul>
</li>
</ul>
<aside class="notes"><p>Bare minimum of Python syntax you need to know to read examples and write simple commands.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="python-basics">Python basics</h2>
<ul>
<li>Nested / mixed stuff<ul>
<li>a = {'list':[1, 2, 'a']}</li>
</ul>
</li>
<li>Variable assignment<ul>
<li>b = [1, {'a':'b'}]</li>
</ul>
</li>
<li>Lookup<ul>
<li>print a['list']; print b[0]</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="cli-objects">CLI Objects</h2>
<table>
<thead>
<tr>
<th>Object</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>deployit</td>
<td>The main gateway to interfacing with XL Deploy.</td>
</tr>
<tr>
<td>deployment</td>
<td>Perform tasks related to setting up deployments</td>
</tr>
<tr>
<td>factory</td>
<td>Helper that can construct Configuration Items (CI) and Artifacts</td>
</tr>
<tr>
<td>repository</td>
<td>Gateway to doing CRUD operations on all types of CIs</td>
</tr>
<tr>
<td>security</td>
<td>Access to the security settings of XL Deploy.</td>
</tr>
<tr>
<td>task2</td>
<td>Access to the task block engine of XL Deploy.</td>
</tr>
<tr>
<td>tasks</td>
<td>Access to the task engine of XL Deploy.</td>
</tr>
</tbody>
</table>
<aside class="notes"><p>The CLI has predefined objects that are used to interact with the XL Deploy server. 
Each of these objects have a help method that can be used to get a break down of the functions available in the object. There is also detailed help on the method level. 
We will look at each object next, starting with factory.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="cli-help">CLI Help</h2>
<p>To know more about a specific object, type :</p>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">objectname</span>&gt;</span>.help()
</span></code></pre><p>To get to know more about a specific method of an object, type :</p>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">objectname</span>&gt;</span>.help("<span class="hljs-tag">&lt;<span class="hljs-name">methodname</span>&gt;</span>")
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="factory-object">Factory object</h2>
<ul>
<li>factory.help()</li>
<li><p>factory: Helper that can construct Configuration Items (CI) and Artifacts</p>
</li>
<li><p>The methods available are:</p>
<ul>
<li>factory.artifact(String id, String ciType, Map values, byte[] data) : ArtifactAndData </li>
<li>factory.configurationItem(String id, String ciType, Map values) : ConfigurationItem </li>
<li>factory.configurationItem(String id, String ciType) : ConfigurationItem </li>
<li>factory.types() : void </li>
</ul>
</li>
</ul>
<aside class="notes"><p>The factory object is a helper that makes it easier to create configuration items and artifacts. 
The CLI is a 'remote client', so we're not hacking directly into the XL Deploy Repository. We compose objects, and when we're done we send them to the XL Deploy Server to be stored in the repository. 
Factory also has a method that list all type names in the system. To know which properties you can actually put in an object of a certain type you have to refer to the documentation on that type. Use the search function on docs.xebialabs.com to find the appropriate manual</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="factory-object-example-1">Factory object example 1</h2>
<pre><code class="hljs tcl"><span class="hljs-comment"># Create a dictionary</span>
<span class="hljs-keyword">dict</span> = factory.configurationItem(
  <span class="hljs-string">'Environments/sampleDict'</span>,
  <span class="hljs-string">'udm.Dictionary'</span>,
  {<span class="hljs-string">'entries'</span>:  {<span class="hljs-string">'key1'</span>:<span class="hljs-string">'value1'</span>,<span class="hljs-string">'key2'</span>:<span class="hljs-string">'value2'</span>}})
</code></pre><aside class="notes"><p>Check how you can get help on each method. 
Check the example on how Python syntax is used to create a CI. Compare with UI. Note that properties in the UI have a tooltip that shows property names in the CLI.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="factory-object-example-2">Factory object example 2</h2>
<pre><code class="hljs xl">from java.io <span class="hljs-keyword">import</span> File
from com.google.common.io <span class="hljs-keyword">import</span> Files

<span class="hljs-keyword">data</span> = Files.toByteArray(File(<span class="hljs-string">'/path/to/sql.zip'</span>))
sqlscripts = factory.artifact(<span class="hljs-string">'Applications/sqlApp/1.0/sql'</span>, <span class="hljs-string">'sql.SqlScripts'</span>, {}, <span class="hljs-keyword">data</span>)
sqlscripts.filename = <span class="hljs-string">'sql.zip'</span>
repository.create(sqlscripts)
</code></pre><aside class="notes"><p>We need some boiler-plate to upload a file for an artifact.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="repository-object">Repository object</h2>
<p>Use the repository object for CRUD operations on the XL Deploy repository</p>
<ul>
<li>repository.copy(String id, String newId) : ConfigurationItem </li>
<li>repository.create(ConfigurationItem ci) : ConfigurationItem </li>
<li>repository.create(List cis) : List </li>
<li>repository.create(ArtifactAndData artifact) : ConfigurationItem </li>
<li>repository.delete(String id) : void </li>
<li>repository.exists(String id) : boolean </li>
<li>repository.exportArchivedTasks(String filePath) : void </li>
<li>repository.exportArchivedTasks(String filePath, String beginDate, String endDate) : void </li>
<li>repository.exportDar(String directoryPath, String versionId) : void </li>
</ul>
<aside class="notes"><p>The repository is the CRUD interface to the XL Deploy Repository.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="repository-object">Repository object</h2>
<ul>
<li>repository.getArchivedTasks(String beginDate, String endDate) : FullTaskInfos </li>
<li>repository.getArchivedTasks() : FullTaskInfos </li>
<li>repository.move(ConfigurationItem ci, String newId) : ConfigurationItem </li>
<li>repository.move(String id, String newId) : ConfigurationItem </li>
<li>repository.read(String id) : ConfigurationItem </li>
<li>repository.read(List ids) : List </li>
<li>repository.rename(String id, String newName) : ConfigurationItem </li>
<li>repository.rename(ConfigurationItem ci, String newName) : ConfigurationItem </li>
<li>repository.search(String ciType, String parent) : List </li>
<li>repository.search(String ciType) : List </li>
<li>repository.search(String ciType, Calendar before) : List </li>
<li>repository.searchByName(String name) : List </li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="repository-object">Repository object</h2>
<ul>
<li>repository.update(List cis) : List </li>
<li>repository.update(ArtifactAndData artifact) : ConfigurationItem </li>
<li>repository.update(ConfigurationItem ci) : ConfigurationItem </li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="repository-examples-1-2">Repository examples 1/2</h2>
<p>Example 1:</p>
<pre><code class="hljs sql"># <span class="hljs-keyword">Create</span> a dictionary <span class="hljs-keyword">and</span> <span class="hljs-keyword">save</span> it <span class="hljs-keyword">in</span> XL Deploy
dict = factory.configurationItem(...)
repository.<span class="hljs-keyword">create</span>(dict)

# <span class="hljs-keyword">Create</span> several CIs <span class="hljs-keyword">at</span> once
repository.<span class="hljs-keyword">create</span>([ci1, ci2])
</code></pre><p>Example 2:</p>
<pre><code class="hljs stata"># <span class="hljs-keyword">Read</span> a <span class="hljs-keyword">CI</span> from the repository and <span class="hljs-keyword">update</span> it
petclinic = repository.<span class="hljs-keyword">read</span>(<span class="hljs-string">"Applications/PetClinic-ear/1.0"</span>)
deployit.<span class="hljs-keyword">print</span>(petclinic)
petclinic.satisfiesReleaseNotes = True
repository.<span class="hljs-keyword">update</span>(petclinic)
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="repository-examples-2-2">Repository examples 2/2</h2>
<pre><code class="hljs perl"><span class="hljs-comment"># Deletes a CI and all its children</span>
<span class="hljs-keyword">if</span> repository.<span class="hljs-keyword">exists</span>(<span class="hljs-string">"Applications/PetClinic-ear"</span>):
    repository.<span class="hljs-keyword">delete</span>(<span class="hljs-string">"Applications/PetClinic-ear"</span>)
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="repository-object-move-rename">Repository object: move/rename</h2>
<pre><code class="hljs vim">repository.<span class="hljs-built_in">rename</span>(<span class="hljs-string">"Infrastructure/ApacheHost"</span>,<span class="hljs-string">"WebserverHost"</span>)

repository.<span class="hljs-keyword">move</span>(<span class="hljs-string">"Infrastructure/WebserverHost"</span>,<span class="hljs-string">"Infrastructure/OpsNorth/ApacheHost"</span>)
</code></pre><aside class="notes"><p>In UI, rename is available under right-click, and move is done by way of drag-and-drop.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="repository-object-search">Repository object: search</h2>
<pre><code class="hljs stata"># <span class="hljs-keyword">Search</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">type</span>
allEnvironments = repository.<span class="hljs-keyword">search</span>(<span class="hljs-string">"udm.Environment"</span>)
<span class="hljs-keyword">for</span> id <span class="hljs-keyword">in</span> allEnvironments:
  <span class="hljs-keyword">print</span> id

# <span class="hljs-keyword">Search</span> <span class="hljs-keyword">for</span> children
children = repository.<span class="hljs-keyword">search</span>(None,<span class="hljs-string">"Applications/PetClinic-ear"</span>)
<span class="hljs-keyword">for</span> <span class="hljs-keyword">ci</span> <span class="hljs-keyword">in</span> children:
  <span class="hljs-keyword">print</span>(<span class="hljs-string">"Found CI with ID %s"</span> % (<span class="hljs-keyword">ci</span>))
</code></pre><aside class="notes"><p>Search by type and/or path in repository.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="repository-object-tasks-and-export">Repository object: Tasks and export</h2>
<pre><code class="hljs autoit"><span class="hljs-meta"># Inspect archived tasks</span>
repository.exportArchivedTasks(<span class="hljs-string">"exportedTasks.xml"</span>, <span class="hljs-string">"10/26/2012"</span>,<span class="hljs-string">"10/29/2012"</span>)
taskInfoContainer = repository.getArchivedTasks()
<span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> tasksInfoContainer.tasks:
  print t.id
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">step</span> <span class="hljs-keyword">in</span> t.steps:
    print <span class="hljs-keyword">step</span>.description

<span class="hljs-meta"># Export as DAR</span>
repository.exportDar(<span class="hljs-string">"/tmp"</span>, <span class="hljs-string">"Applications/PetClinic-ear/1.0"</span>)
</code></pre><aside class="notes"><p>Export (deployment) tasks. Can be used for reporting. Tasks + logs are also available in Reports tab in UI. 
Export DAR also available in CLI and UI.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Using the CLI</h1>
  <h2>Exercise: Import a properties files</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="exercise-import-a-properties-files">Exercise: Import a properties files</h2>
<ul>
<li>Create a file test.properties in the CLI directory with the following contents:</li>
</ul>
<pre><code class="hljs avrasm"><span class="hljs-meta"># Java properties file</span>
key1 = value
key2    anotherValue
<span class="hljs-symbol">key3:</span>overvalued
</code></pre><aside class="notes"><p>This exercise shows how you can easily write a script to import a properties file.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="exercise-import-a-properties-files">Exercise: Import a properties files</h2>
<ul>
<li>Load the properties file in the CLI using the following Jython snippet</li>
</ul>
<pre><code class="hljs tcl">from java.util import Properties
props = Properties()
<span class="hljs-keyword">file</span> = <span class="hljs-keyword">open</span>(<span class="hljs-string">'test.properties'</span>, <span class="hljs-string">'r'</span>)
props.<span class="hljs-keyword">load</span>(<span class="hljs-keyword">file</span>)
<span class="hljs-keyword">dict</span> = factory.configurationItem(<span class="hljs-string">"Environments/DemoDictionary"</span>,<span class="hljs-string">"udm.Dictionary"</span>,
                                {<span class="hljs-string">"entries"</span>:props})
repository.create(<span class="hljs-keyword">dict</span>)
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="exercise-import-a-properties-files">Exercise: Import a properties files</h2>
<ul>
<li>The script should create a dictionary <strong>Environments/testDict</strong> with the properties you just loaded.  </li>
<li>Create a <strong>importProperties.py</strong> script that contains the commands you just did as a script</li>
<li>Run <strong>importProperties.py</strong> using <strong>cli.sh -f</strong> and check the results.</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="deployment-object">Deployment Object</h2>
<ul>
<li>Prepare deployments using the deployment object<ul>
<li>Prepare initial or upgrade</li>
<li>Generate deployeds</li>
<li>Validate</li>
<li>Create deployment task</li>
</ul>
</li>
</ul>
<aside class="notes"><p>These are the steps you have to do in order to prepare a deployment and that will result in a task. The task can then be executed. The 'deployment' object helps you preparing a deployment. The 'deployit' object will execute the tasks. 
Here are the steps and how they relate to the UI: </p>
<ul>
<li>Prepare initial or upgrade: drag and drop package and environment or choose Update from the right-click menu </li>
<li>Generate deployeds: Click green 'automap' arrow or drag-and-drop Deployables onto Containers. Configure the deployeds by double-clicking and editing the values </li>
<li>Validate: click Next and resolve validation errors </li>
<li>Create deployment task: click Next and end up in the Task execution screen</li>
</ul>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="deployment-prepare">Deployment : prepare</h2>
<pre><code class="hljs stylus">d =deployment<span class="hljs-selector-class">.prepareInitial</span>
    (<span class="hljs-string">"Applications/PetClinic-ear/1.0"</span>,<span class="hljs-string">"Environments/Was-Dev"</span>)

d = deployment<span class="hljs-selector-class">.prepareUpgrade</span>
    (<span class="hljs-string">"Applications/PetClinic-ear/2.0"</span>,<span class="hljs-string">"Environments/Was-Dev/PetClinic-ear"</span>)
</code></pre><aside class="notes"><p>Step 1: prepare initial or upgrade deployment. Just pass the ID of the Deployment Package and Environment</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="deployment-generate">Deployment : generate</h2>
<pre><code class="hljs stata"><span class="hljs-keyword">d</span> = deployment.prepareAutoDeployeds(<span class="hljs-keyword">d</span>)

<span class="hljs-keyword">d</span> = deployment.generateSelectedDeployeds
    ([<span class="hljs-string">"Applications/PetClinic-ear/1.0/PetClinic"</span>], <span class="hljs-keyword">d</span>)

<span class="hljs-keyword">d</span> = deployment.generateSingleDeployed
    (<span class="hljs-string">"Applications/PetClinic-ear/1.0/PetClinic"</span>,
     <span class="hljs-string">"Infrastructure/was-70-nd/was-70Cell01/was-70Node01/existing-server"</span>,<span class="hljs-keyword">d</span>)

<span class="hljs-keyword">d</span> = deployment.generateSingleDeployed
    (<span class="hljs-string">"Applications/PetClinic-ear/1.0/PetClinic"</span>,
     <span class="hljs-string">"Infrastructure/was-70-nd/was-70Cell01/was-70Node01/existing-server"</span>,
     <span class="hljs-string">"was.EarModule"</span>,<span class="hljs-keyword">d</span>)
</code></pre><aside class="notes"><p>Step 2: Generate deployeds. Note that you pass in the 'd' variable and get it back. The 'd' variable stands for the deployment you are configuring. Do not name this variable 'deployment' as it then will override the built-in deployment object.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="deployment-validate">Deployment : validate</h2>
<pre><code class="hljs stylus">d = deployment.validate(d)
<span class="hljs-keyword">for</span> deployed <span class="hljs-keyword">in</span> d<span class="hljs-selector-class">.deployeds</span>:
    <span class="hljs-keyword">if</span> deployed<span class="hljs-selector-class">.validations</span> is not None and len(deployed.validations) &gt; <span class="hljs-number">1</span>:
        print deployed<span class="hljs-selector-class">.validations</span>
    <span class="hljs-keyword">else</span>:
        print <span class="hljs-string">"No validation Errors"</span>
</code></pre><aside class="notes"><p>Validation is done on the XL Deploy Server. You pass in your 'd' = deployment configuration. You will get the same object back, but now annotated with validation messages on the deployed. Loop over the validations to see if there is at least one, then the deployment is not valid. 
You can inspect the deployed by doing 'deployit.print(deployed)'</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="deployment-tasks">Deployment : tasks</h2>
<ul>
<li><p>Create the task, like clicking Next in the UI</p>
<p>  <code>task = deployment.createDeployTask(d)</code>    </p>
</li>
<li><p>The id will be needed to control the task via the deployit cli object</p>
<p>  <code>print task.id</code></p>
</li>
</ul>
<aside class="notes"><p>The deployment.deploy() method will return a task. The task is not started yet!</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="deployment-tasks2">Deployment : tasks2</h2>
<ul>
<li><p>Undeployments are started directly from a deployed application</p>
<p>  <code>task = deployment.undeploy("Environments/Was-Dev/PetClinic-ear")</code></p>
</li>
<li><p>Rollbacks are based on tasks</p>
<p>  <code>rollbackTask = deployment.rollbackTask(task.id)</code></p>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="deployit-object-1-3">Deployit Object 1/3</h2>
<ul>
<li>deployit.abortTask(String taskId) : void </li>
<li>deployit.assignTask(String taskId, String owner) : void </li>
<li>deployit.cancelTask(String taskId) : void </li>
<li>deployit.createControlTask(Control control) : String </li>
<li>deployit.createDiscoveryTask(ConfigurationItem ci) : String </li>
<li>deployit.describe(String shortName) : void </li>
<li>deployit.discover(ConfigurationItem ci) : List </li>
<li>deployit.executeControlTask(String taskName, ConfigurationItem ci) : void </li>
<li>deployit.importPackage(String importablePackage) : ConfigurationItem </li>
</ul>
<aside class="notes"><p>startTask will start a task in the background. Each time you want to see the status, call retrieveTaskInfo(). Note that tasks will also show up in the UI if you do a reload. 
startTaskAndWait() will start a task and block until the task stops: succeeds or fails. 
abortTask(), cancelTask(), skipSteps(), stopTask() are analogous to the buttons in the ui. See also the built-in documentation: deployit.help("stopTask") 
assignTask() can be used to give ownership of a task to somebody else. This is useful if one deployer has started a long running deployment, but her shift ends. Then she can assign the task to her colleague, who will be able to see the task from then on in the UI or in the CLI.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="deployit-object-2-3">Deployit Object 2/3</h2>
<ul>
<li>deployit.info() : ServerInfo </li>
<li>deployit.listAllUnfinishedTasks() : List </li>
<li>deployit.listImportablePackages() : List </li>
<li>deployit.listUnfinishedTasks() : List </li>
<li>deployit.prepareControlTask(ConfigurationItem ci, String taskName) : Control </li>
<li>deployit.print(ConfigurationItem ci) : void </li>
<li>deployit.retrieveDiscoveryResults(String taskId) : List </li>
<li>deployit.retrieveTaskInfo(String taskId) : TaskInfo </li>
<li>deployit.runGarbageCollector() : void </li>
<li>deployit.shutdown() : void </li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="deployit-object-3-3">Deployit Object 3/3</h2>
<ul>
<li>deployit.skipSteps(String taskId, Integer[] stepIds) : void </li>
<li>deployit.startTask(String taskId) : void </li>
<li>deployit.startTaskAndWait(String taskId) : void </li>
<li>deployit.stopTask(String taskId) : void </li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="xl-deploy-object-examples">XL Deploy Object examples</h2>
<ul>
<li><p>Print CI reference documentation</p>
<p>  <code>deployit.describe("udm.Environment")</code></p>
</li>
<li><p>Pretty print as tree structure</p>
<p>  <code>deployit.print(repository.read("Applications/PetClinic-ear/1.0")</code></p>
</li>
<li><p>Load from URL</p>
<p>  <code>deployit.importPackage("http://nexus/com/mydars/PetClinic-1.0.dar")</code></p>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="security-object">Security object</h2>
<ul>
<li>Access to security system in Deployit</li>
<li>User management when not connected to LDAP<ul>
<li>security.assignRole(String roleName, List principals) : void </li>
<li>security.createUser(String username, String password) : User </li>
<li>security.deleteUser(String username) : void </li>
<li>security.getPermissions() : Map </li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="security-object">Security object</h2>
<ul>
<li>security.getPermissions(String role) : Map </li>
<li>security.getRoleAssignments(String roleName) : List </li>
<li>security.getRoleNames() : List </li>
<li>security.grant(String permission, String roleName, List configurationItems) : void </li>
<li>security.grant(String permission, String roleName) : void </li>
<li>security.hasPermission(String permission, String id) : boolean </li>
<li>security.isGranted(String role, String permission) : boolean </li>
<li>security.isGranted(String role, String permission, String id) : boolean </li>
<li>security.login(String username, String password) : void </li>
<li>security.logout() : void </li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="security-object">Security object</h2>
<ul>
<li>security.modifyUser(User user) : void </li>
<li>security.printPermissions() : void </li>
<li>security.readUser(String username) : User </li>
<li>security.removeRole(String roleName) : void </li>
<li>security.revoke(String permission, String roleName, List configurationItems) : void </li>
<li>security.revoke(String permission, String roleName) : void </li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="security-object">Security object</h2>
<pre><code class="hljs nsis">security.createUser(<span class="hljs-string">"tom"</span>,<span class="hljs-string">"secret"</span>)
security.assignRole(<span class="hljs-string">"developer"</span>,[<span class="hljs-string">"tom"</span>])
<span class="hljs-comment"># Change password</span>
<span class="hljs-literal">user</span> = security.readUser(<span class="hljs-string">"tom"</span>)
<span class="hljs-literal">user</span>.password = <span class="hljs-string">"newSecret"</span>
security.modifyUser(<span class="hljs-literal">user</span>)
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="using-the-cli">Using the CLI</h1>
<h2 id="security-object">Security object</h2>
<pre><code class="hljs vala">security.logout()
security.login(<span class="hljs-string">"tom"</span>,<span class="hljs-string">"newSecret"</span>)
<span class="hljs-meta"># Login will fail, because user tom not </span>
<span class="hljs-meta"># granted login permission</span>
security.login(<span class="hljs-string">"admin"</span>,<span class="hljs-string">"admin"</span>)
security.deleteUser(<span class="hljs-string">"tom"</span>)
</code></pre></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>REST API</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rest-api">XL Deploy REST API</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>Another way to remotely drive XL Deploy</li>
<li>Uses HTTP / HTTPS</li>
<li>Basic Authentication</li>
<li>Content is XML</li>
<li>Returns HTTP status codes</li>
<li><a href="https://docs.xebialabs.com/xl-deploy/latest/rest-api/">https://docs.xebialabs.com/xl-deploy/latest/rest-api/</a></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rest-api">XL Deploy REST API</h1>
<h2 id="introduction">Introduction</h2>
<table>
<thead>
<tr>
<th>Service</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ControlService</td>
<td>Provides access to control methods defined on CIs</td>
</tr>
<tr>
<td>DeploymentService</td>
<td>Deployment management</td>
</tr>
<tr>
<td>InspectionService</td>
<td>Inspects middleware</td>
</tr>
<tr>
<td>MetadataService</td>
<td>Provides XL Deploy's metadata: available types, permissions, and orchestrators</td>
</tr>
<tr>
<td>PackageService</td>
<td>Manages deployment packages</td>
</tr>
<tr>
<td>PermissionService</td>
<td>Manages permissions in XL Deploy</td>
</tr>
<tr>
<td>RepositoryService</td>
<td>Provides access to the XL Deploy repository</td>
</tr>
</tbody>
</table>
<aside class="notes"><p>Let's not go into detail... the documentation is available on docs.xebialabs.com and feel free to browse it.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rest-api">XL Deploy REST API</h1>
<h2 id="introduction">Introduction</h2>
<table>
<thead>
<tr>
<th>Service</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>RoleService</td>
<td>Manages the roles in XL Deploy's security system</td>
</tr>
<tr>
<td>ServerService</td>
<td>Services related to the operation of the XL Deploy server process</td>
</tr>
<tr>
<td>TaskBlockService</td>
<td>Manages tasks with blocks on the XL Deploy Server</td>
</tr>
<tr>
<td>TaskService</td>
<td>Manages tasks on the XL Deploy Server</td>
</tr>
<tr>
<td>UserService</td>
<td>Manages users in XL Deploy's internal user repository</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rest-api">XL Deploy REST API</h1>
<h2 id="introduction">Introduction</h2>
<p>Configuration item</p>
<pre><code class="hljs nimrod">&lt;udm.<span class="hljs-type">DeploymentPackage</span> id=<span class="hljs-string">"Applications/AnimalZoo-ear/1.0"</span>
                       token=<span class="hljs-string">"032e29c4-94a0-4bdf-b489-a0c2fe5042a1"</span>
                       created-by=<span class="hljs-string">"admin"</span>
                       created-at=<span class="hljs-string">"2014-08-18T13:42:09.555+0200"</span>
                       last-modified-by=<span class="hljs-string">"admin"</span>
                       last-modified-at=<span class="hljs-string">"2014-08-18T13:42:09.555+0200"</span>&gt;
  &lt;application <span class="hljs-keyword">ref</span>=<span class="hljs-string">"Applications/AnimalZoo-ear"</span>/&gt;
  &lt;satisfiesReleaseNotes&gt;<span class="hljs-literal">true</span>&lt;/satisfiesReleaseNotes&gt;
  &lt;deployables&gt;
    &lt;ci <span class="hljs-keyword">ref</span>=<span class="hljs-string">"Applications/AnimalZoo-ear/1.0/AnimalZooWeb"</span>/&gt;
    &lt;ci <span class="hljs-keyword">ref</span>=<span class="hljs-string">"Applications/AnimalZoo-ear/1.0/AnimalZooFE"</span>/&gt;
    &lt;ci <span class="hljs-keyword">ref</span>=<span class="hljs-string">"Applications/AnimalZoo-ear/1.0/AnimalZooBE"</span>/&gt;
  &lt;/deployables&gt;
&lt;/udm.<span class="hljs-type">DeploymentPackage</span>&gt;
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rest-api">XL Deploy REST API</h1>
<h2 id="simple-properties-boolean-int-string-and-enum">Simple properties: Boolean, Int, String, and Enum</h2>
<pre><code class="hljs gherkin"><span class="hljs-variable">&lt;dummy.MyType id="...&gt;</span>
  <span class="hljs-variable">&lt;myBoolean&gt;</span>true<span class="hljs-variable">&lt;/myBoolean&gt;</span>
  <span class="hljs-variable">&lt;myInt&gt;</span>23<span class="hljs-variable">&lt;/myInt&gt;</span>
  <span class="hljs-variable">&lt;myString&gt;</span>XL Deploy<span class="hljs-variable">&lt;/myString&gt;</span>
  <span class="hljs-variable">&lt;myEnum&gt;</span>TELNET<span class="hljs-variable">&lt;/myEnum&gt;</span>
<span class="hljs-variable">&lt;/dummy.MyType id="...&gt;</span>
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rest-api">XL Deploy REST API</h1>
<h2 id="ci-reference">CI reference</h2>
<pre><code class="hljs nimrod">&lt;myCI <span class="hljs-keyword">ref</span>=<span class="hljs-string">"Infrastructure/LocalHost/"</span>&gt;
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rest-api">XL Deploy REST API</h1>
<h2 id="list-and-sets">List and Sets</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">mySetOfString</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>value1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>value2<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mySetOfString</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">myListOfString</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">myListOfString</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">mySetOfCi</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">ci</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"Infrastructure/LocalHost"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mySetOfCi</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">myListOfCi</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">ci</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"Infrastructure/LocalHost"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">myListOfCi</span>&gt;</span>
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rest-api">XL Deploy REST API</h1>
<h2 id="maps">Maps</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">myMapOfStringString</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"key1"</span>&gt;</span>value1<span class="hljs-tag">&lt;/<span class="hljs-name">entry</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"key2"</span>&gt;</span>value2<span class="hljs-tag">&lt;/<span class="hljs-name">entry</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">myMapOfStringString</span>&gt;</span>
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>XL Deploy REST API</h1>
  <h2>Exercise: REST API</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rest-api">XL Deploy REST API</h1>
<h2 id="exercise-rest-api">Exercise: REST API</h2>
<ul>
<li>You can query the XL Deploy repository using the following URL:<ul>
<li><a href="http://[xldeploy-server]/deployit/repository/ci/[PATH-IN-REPOSITORY">http://[XLDEPLOY-SERVER]/deployit/repository/ci/[PATH-IN-REPOSITORY</a>]</li>
</ul>
</li>
<li>For example, to view the details of the was-vm host definition go to the following URL:<ul>
<li><a href="http://localhost:4516/deployit/repository/ci/Infrastructure/was-vm/">http://localhost:4516/deployit/repository/ci/Infrastructure/was-vm/</a></li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rest-api">XL Deploy REST API</h1>
<h2 id="exercise-rest-api">Exercise: REST API</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">overthere.SshHost</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"Infrastructure/was-vm"</span>
    <span class="hljs-attr">token</span>=<span class="hljs-string">"b9c3c958-addf-471a-b543-388e4cc9b1ba"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tags</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">os</span>&gt;</span>UNIX<span class="hljs-tag">&lt;/<span class="hljs-name">os</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">connectionType</span>&gt;</span>SUDO<span class="hljs-tag">&lt;/<span class="hljs-name">connectionType</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">address</span>&gt;</span>10.0.0.x<span class="hljs-tag">&lt;/<span class="hljs-name">address</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span>22<span class="hljs-tag">&lt;/<span class="hljs-name">port</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">username</span>&gt;</span>vagrant<span class="hljs-tag">&lt;/<span class="hljs-name">username</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">password</span>&gt;</span></span><span class="hljs-template-variable">{b64}</span><span class="xml">igltsEeChmolDD6xZCEQww==<span class="hljs-tag">&lt;/<span class="hljs-name">password</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">sudoUsername</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-name">sudoUsername</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">overthere.SshHost</span>&gt;</span>
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rest-api">XL Deploy REST API</h1>
<h2 id="exercise-rest-api">Exercise: REST API</h2>
<ul>
<li>Try to query the repository for the details of:<ul>
<li>The <strong>vagrantCell01</strong><ul>
<li>The <strong>AppDataSource</strong> (part of the <strong>TableLister</strong> application)</li>
</ul>
</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rest-api">XL Deploy REST API</h1>
<h2 id="exercise-rest-api">Exercise: REST API</h2>
<p><a href="http://localhost:4516/deployit/repository/ci/Infrastructure/was-vm/vagrantCell01">http://localhost:4516/deployit/repository/ci/Infrastructure/was-vm/vagrantCell01</a></p>
<pre><code class="hljs nimrod">&lt;was.<span class="hljs-type">DeploymentManager</span> id=<span class="hljs-string">"Infrastructure/was-vm/vagrantCell01"</span>
 token=<span class="hljs-string">"bdbd46c1-293e-4cc1-8629-7878f7e28178"</span>&gt;
    &lt;tags/&gt;
    &lt;host <span class="hljs-keyword">ref</span>=<span class="hljs-string">"Infrastructure/was-vm"</span>/&gt;
    &lt;wasHome&gt;/opt/<span class="hljs-type">IBM</span>/<span class="hljs-type">WebSphere</span>/<span class="hljs-type">AppServer</span>/profiles/<span class="hljs-type">Dmgr01</span>&lt;/wasHome&gt;
    &lt;port&gt;<span class="hljs-number">0</span>&lt;/port&gt;
    &lt;username&gt;admin&lt;/username&gt;
    &lt;password&gt;{b64}igltsEeChmolDD6xZCEQww==&lt;/password&gt;
    &lt;version&gt;<span class="hljs-type">WAS_85</span>&lt;/version&gt;
    &lt;nodeAgents&gt;
        &lt;ci <span class="hljs-keyword">ref</span>=<span class="hljs-string">"Infrastructure/was-vm/vagrantCell01/vagrantNode01"</span>/&gt;
    &lt;/nodeAgents&gt;
    &lt;clusters&gt;
        &lt;ci <span class="hljs-keyword">ref</span>=<span class="hljs-string">"Infrastructure/was-vm/vagrantCell01/existing-cluster"</span>/&gt;
    &lt;/clusters&gt;
&lt;/was.<span class="hljs-type">DeploymentManager</span>&gt;
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rest-api">XL Deploy REST API</h1>
<h2 id="exercise-rest-api">Exercise: REST API</h2>
<p><a href="http://localhost:4516/deployit/repository/ci/Applications/TableLister/1.0/AppDataSource">http://localhost:4516/deployit/repository/ci/Applications/TableLister/1.0/AppDataSource</a></p>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">was.MySQLDatasourceSpec</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"Applications/TableLister/1.0/AppDataSource"</span>
 <span class="hljs-attr">token</span>=<span class="hljs-string">"bdbd46c1-293e-4cc1-8629-7878f7e28178"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tags</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>AppDataSource<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">jndiName</span>&gt;</span>jdbc/mydatasource<span class="hljs-tag">&lt;/<span class="hljs-name">jndiName</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">jdbcProvider</span>&gt;</span>MySQL Provider<span class="hljs-tag">&lt;/<span class="hljs-name">jdbcProvider</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">username</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-name">username</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">password</span>&gt;</span></span><span class="hljs-template-variable">{b64}</span><span class="xml">igltsEeChmolDD6xZCEQww==<span class="hljs-tag">&lt;/<span class="hljs-name">password</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">URL</span>&gt;</span>jdbc:mysql://localhost:3306/mysql<span class="hljs-tag">&lt;/<span class="hljs-name">URL</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">datasourceHelperClassname</span>&gt;</span>com.ibm.websphere.rsadapter.ConnectJDBCDataStoreHelper
    <span class="hljs-tag">&lt;/<span class="hljs-name">datasourceHelperClassname</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">was.MySQLDatasourceSpec</span>&gt;</span>
</span></code></pre></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Configuration</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-configuration">XL Deploy Configuration</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>Configuration on the CI-level properties</li>
<li>Configure deployeds for deployments</li>
<li>Configure other settings: Configuration node in Repository</li>
<li>Default values: <strong>deployit-defaults.properties</strong></li>
<li>Type system: <strong>ext/synthetic.xml</strong></li>
<li>Middleware Plugins</li>
</ul>
<aside class="notes"><p>XL Deploy can be configured on many levels. We have seen how to configure Deployment Packages and Servers by editing properties in the Repository editor. When you do a deployment, you can configure the deployeds before starting the actual deployment tasks. 
Tomorrow we will talk about how to configure the model XL Deploy uses, how we can adjust default values and type definitions. We will end tomorrow with writing our own plugin, showing you how you can use the power of XL Deploy's model based approach to extend it with support for new middleware. </p>
<p>But for now, we will dive into configuration on the more mundane level: email servers and triggers (notifications)</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-configuration">XL Deploy Configuration</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>Pipeline for Release Dashboard</li>
<li>Mail server setup</li>
<li>Triggers</li>
<li>Other configuration CI's (from additional plugins)</li>
</ul>
<p><img src="./XL Deploy Training_files/xld_configuration_menu.png" alt="Configuration"></p>
<aside class="notes"><p>All configuration that is not related to CIs or deployments directly is stored under the Configuration root node in the Repository browser. 
We've already encountered the Pipeline configuration, when we added the DTAP street to the Release Dashboard this morning. </p>
<p>What's left is mail servers and triggers. You can configure XL Deploy to send email alerts when a certain action occurs. Let's look into that in more detail.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-configuration">XL Deploy Configuration</h1>
<h2 id="example">Example</h2>
<ul>
<li>Trigger plugin</li>
<li>available-plugins/trigger-plugin-[versionNumber].jar</li>
<li>Step trigger</li>
<li>Task trigger</li>
</ul>
<aside class="notes"><p>The mechanism to send email is called 'triggers'. It can also used for other types of actions, which are fully customizable. XL Deploy ships with an email trigger plugin, so we will focus on email now. 
Triggers are configured on Environments, under the 'Triggers' tab. A trigger is nothing more then a condition, that says "When X happens during execution on a task, then do action Y". The actions are defined separately. 
To make it more concrete: 
First the action... the only action shipped with XL Deploy is the "EmailNotification", sending out an email. 
Then there are two types of triggers: StepTriggers and TaskTriggers. They respond to state changes in either a task or step. So you can configure a TaskTrigger to send an email when a task is started, by telling it that it should execute the EmailNotification action when it goes from PENDING to EXECUTING. 
StepTriggers work in the same way: they are fired upon Step state changes... useful to configure a trigger that says "Send an email when step fails"</p>
</aside></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Config compare</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="config-compare">Config Compare</h1>
<ul>
<li>Compare two or more configuration item (CI) trees.</li>
<li>Only compares discoverable CIs.</li>
<li>Two kinds of CI tree comparisons.<ul>
<li>Live-to-live</li>
<li>Repo-to-live</li>
</ul>
</li>
</ul>
<p><img src="./XL Deploy Training_files/live-2-live-compare.png" alt="Configuration Compare"></p>
<aside class="notes"><ul>
<li>Live-to-live: Compare multiple live discoverable CIs of the same type. For example, you can see how the WebSphere topology in your test environment compares to the one in your acceptance environment or production environment.</li>
<li>Repo-to-live: Compare a discoverable CI (and its children) present in the XL Deploy Repository to the one running on a physical machine and hosting your applications. This enables you to identify discrepancies between XL Deploy Repository CIs and the actual ones.</li>
</ul>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="config-compare">Config Compare</h1>
<h2 id="requirements">Requirements</h2>
<p>Web browser: The following web browsers are supported:</p>
<ul>
<li>IE 10.0 or up</li>
<li>Firefox</li>
<li>Chrome</li>
<li>Safari</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="config-compare">Config Compare</h1>
<h2 id="report">Report</h2>
<p><img src="./XL Deploy Training_files/compare-report-diff.png" alt="Configuration Compare"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="config-compare">Config Compare</h1>
<h2 id="report">Report</h2>
<ul>
<li>A <strong>check mark</strong> to the right a row indicates that the CIs are the same in all compared trees, while an exclamation mark indicates that there are differences.</li>
<li><strong>Discoverables and labels</strong>: The upper left table showing the selected configuration items and their labels</li>
<li><strong>Path</strong>: The ID of a configuration item relative to the ID of its root discoverable CI</li>
<li><strong>Dash (-)</strong>: The item is null or missing. For example, the Oracle JDBC Driver CI nativepath property under Cell1 has no value.</li>
<li><strong>Color and differences</strong>: Green underscore text indicates additional characters, while red striked-through texts indicates missing characters. The first available value is used as the benchmark for the comparison. For example, in the image above, the nativepath value under Cell2 is used as the benchmark.</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="config-compare">Config Compare</h1>
<h2 id="custom-matching-expressions">Custom Matching Expressions</h2>
<p><compare-configurations>
    <compare-configuration type="was.Server">
        <match-expression>
            lhs.name[:lhs.name.rindex("-")] == rhs.name[:rhs.name.rindex("-")]
        </match-expression>
    </compare-configuration>
    <compare-configuration type="was.Cluster">
        <match-expression>
            lhs.name[:lhs.name.rindex("-")] == rhs.name[:rhs.name.rindex("-")]
        </match-expression>
    </compare-configuration>
</compare-configurations></p>
<aside class="notes"><p>the following about compare-configuration.xml:</p>
<ul>
<li>Only one match expression per configuration item type is allowed.</li>
<li>Match expressions are Python expressions. You can use any Python expression that will return a Boolean result (matched or not matched).</li>
<li>At run time, the match expressions are evaluated against the CIs (lhs and rhs) to determine their comparability.</li>
</ul>
</aside></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Community plugins</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="community-plugins">Community plugins</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>Community plugins are not part of the standard XL Deploy product</li>
<li>Written by XebiaLabs, Xebia consultants and XL Deploy users</li>
<li>Check with author for support level</li>
<li>Open repository on GitHub<ul>
<li><a href="https://github.com/xebialabs-community">https://github.com/xebialabs-community</a></li>
</ul>
</li>
</ul>
<aside class="notes"><p>XL Deploy is very extensible. Over the years, very useful plugins have been written by clients and consultants or for demo purposes. We have put them in an open repository on GitHub, so you can browse the source, download them, build them and extend them yourself. You may also add useful plugins you have written yourself!</p>
<p>(Why are they not part of the standard product? Sometimes it's only one customer that needed it; we don't have the resources to rigorously test them; some are proof-of-concept; some are not written by XebiaLabs; some are platform-specific or rely on installed tools)</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="community-plugins">Community plugins</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>Examples<ul>
<li>xld-docker-plugin</li>
<li>xld-liquibase-plugin</li>
<li>xld-smoke-test-plugin</li>
<li>lock plugin</li>
<li>manual-step plugin</li>
<li>xld-puppet-plugin</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Community plugins</h1>
  <h2>Exercise: Smoketest</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="community-plugins">Community plugins</h1>
<h2 id="exercise-exercise-smoketest">Exercise: Exercise: Smoketest</h2>
<ul>
<li>Copy the xld-smoke-test-plugin into <strong><server>/plugins</server></strong><ul>
<li>Create a new <strong>smoketest.Runner</strong> under <strong>Infrastructure/<your-vm></your-vm></strong></li>
<li>Add the new Container to the <strong>Development</strong> environment</li>
<li>Duplicate the last deployment package and rename it to 5.x</li>
<li>Add a deployable <strong>smoketest.HttpRequestTest</strong></li>
<li>Update the deployed application to 5.x and make sure the smoketest is successful.</li>
</ul>
</li>
</ul>
<aside class="notes"><ul>
<li>Tips<ul>
<li>You might have to install the correct version of wget</li>
<li><a href="http://gnuwin32.sourceforge.net/packages/wget.html">http://gnuwin32.sourceforge.net/packages/wget.html</a></li>
<li>Use smokeTest.ExecutedHttpRequestTest.classpathResources to set the correct path to the wget executable</li>
<li>More information <a href="https://github.com/xebialabs-community/xld-smoke-test-plugin">https://github.com/xebialabs-community/xld-smoke-test-plugin</a></li>
</ul>
</li>
</ul>
</aside></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Compare</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="compare">Compare</h1>
<h2 id="comparing-cis">Comparing CIs</h2>
<ul>
<li>The repository acts as a version control system </li>
<li>Every change to every object in the repository is logged and stored. </li>
<li>Compare a history of all changes to every CI in the repository. </li>
<li>XL Deploy also retains the history of all changes to deleted CIs.</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="compare">Compare</h1>
<h2 id="comparing-cis">Comparing CIs</h2>
<p>Two variants:</p>
<ul>
<li>Compare against other CIs <ul>
<li><strong>Repository Browser &gt; Right Click &gt; Compare &gt; With other CI</strong></li>
<li>Drag Comparison CIs into the comparison tab </li>
</ul>
</li>
<li>Compare against previous versions <ul>
<li><strong>Repository Browser &gt; Right Click &gt; Compare &gt; With previous Version</strong></li>
<li>Select different versions </li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Compare</h1>
  <h2>Exercise: Compare CIs</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="compare">Compare</h1>
<h2 id="comparing-cis">Comparing CIs</h2>
<p>Part 1 </p>
<ul>
<li>Go into the Repository View </li>
<li>Find a dictionary and change some values. </li>
<li>Select Compare with previous version. </li>
</ul>
<p>Part 2 </p>
<ul>
<li>Go into the Repository View </li>
<li>Duplicate a dictionary and change some values </li>
<li>Select Compare with other CI </li>
</ul>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Satellite</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="satellite-feature">Satellite feature</h1>
<div class="left" markdown="1"><p>The XL Deploy satellite feature lets you to execute deployments on remote data centers. It includes:</p>
<ul>
<li>An efficient system for transferring files</li>
<li>Executing deployment tasks transparently on satellite servers</li>
<li>Light process execution on data centers</li>
<li>Secure communication between XL Deploy and satellite servers based on Transport Layer Security (TLS)
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_satellite_diagram.png" alt="Satellite">

</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="satellite-feature">Satellite feature</h1>
<h2 id="using-xl-deploy-satellites">Using XL Deploy satellites</h2>
<p>XL Deploy satellites can be used to:</p>
<ul>
<li>Deploy an application in a cluster that is located around the world</li>
<li>Deploy to production servers in a dedicated subnet that XL Deploy would normally not be allowed access for security reasons</li>
<li>Deploy to an infrastructure that contains both Unix and Microsoft Windows hosts, with easier authentication between them</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="satellite-feature">Satellite feature</h1>
<h2 id="configuring-a-satellite">Configuring a satellite</h2>
<p>Options are configured in the <code>conf/application.conf</code> file on the satellite server:</p>
<ul>
<li><code>akka.remote.netty.tcp.hostname</code>: Command handling channel</li>
<li><code>akka.remote.netty.tcp.port</code>: Command handling port (default 8380)</li>
<li><code>satellite.streaming.port</code>: File streaming port (this is automatically exchanged between XL Deploy and the satellite)</li>
<li><code>satellite.timeout.upload.idle</code>: File upload idle timeout (in milliseconds or seconds)</li>
<li><code>satellite.streaming.chunk-size</code>: File streaming chunk size (in bytes)</li>
<li><code>throttle</code> and <code>throttle-speed</code>: Streaming bandwidth limitation</li>
<li><code>satellite.workdir</code>: Directory where XL Deploy copies files</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="satellite-feature">Satellite feature</h1>
<h2 id="adding-a-satellite-to-the-repository">Adding a satellite to the Repository</h2>
<p>To add a satellite server to XL Deploy:</p>
<ul>
<li>In the Repository, right-click <strong>Infrastructure</strong> and select <strong>New</strong> &gt; <strong>xl</strong> &gt; <strong>satellite</strong></li>
<li>Enter the <strong>Address</strong> and <strong>Port</strong>; these must exactly match the <code>akka.remote.netty.tcp.hostname</code> and <code>akka.remote.netty.tcp.port</code> settings on the satellite server</li>
</ul>
<p>To test the connection, right-click the satellite and select <strong>Ping the satellite</strong>.</p>
<p><img src="./XL Deploy Training_files/xld_satellite_ping.png" alt="Ping a satellite"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="satellite-feature">Satellite feature</h1>
<h2 id="synchronizing-satellites">Synchronizing satellites</h2>
<p>Before XL Deploy executes a deployment plan on a satellite, it checks if any plugins are missing or out-of-date. If any are, XL Deploy stops the deployment, and you must synchronize the satellite before continuing.</p>
<p>To synchronize a satellite, right-click it in the Repository and select <strong>Synchronize plugins satellite</strong>.</p>
<p><img src="./XL Deploy Training_files/xld_satellite_sync_plugins.png" alt="Synchronizing a satellite"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="satellite-feature">Satellite feature</h1>
<h2 id="assigning-a-satellite-to-a-host">Assigning a satellite to a host</h2>
<div class="left" markdown="1"><ul>
<li>In the Repository, double-click and host and go to the <strong>Advanced</strong> tab</li>
<li>Select the satellite
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_satellite_assign_to_host.png" alt="Assign a satellite to a host">

</div></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Continuous Integration</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>Maven</li>
<li>Jenkins</li>
<li>Puppet</li>
<li>TFS</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="maven">Maven</h2>
<p>Maven plugin features:</p>
<ul>
<li>Import a generated DAR file into a remote XL Deploy server</li>
<li>Deploy the DAR to a single environment</li>
<li>Undeploy the deployment package from the target environment</li>
<li>Test mode</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="maven">Maven</h2>
<p><code>~/.m2/settings.xml</code>:</p>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">servers</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">server</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>nexus-dexter-releases<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">server</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">server</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>deployit-credentials<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">server</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">servers</span>&gt;</span>
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="maven">Maven</h2>
<p><code>pom.xml</code> (parent):</p>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">pluginRepositories</span>&gt;</span>
  ...
    <span class="hljs-tag">&lt;<span class="hljs-name">pluginRepository</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>nexus-dexter-releases<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://nexus.xebialabs.com/nexus/content/repositories/releases<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">pluginRepository</span>&gt;</span>
....
<span class="hljs-tag">&lt;/<span class="hljs-name">pluginRepositories</span>&gt;</span>    
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="maven-pom-xml-1-5">Maven pom.xml 1/5</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.xebialabs.deployit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-deployit-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.5.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>deployit-plugin-test<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">phase</span>&gt;</span>pre-integration-test<span class="hljs-tag">&lt;/<span class="hljs-name">phase</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>deploy<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>    
    <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span> 
        <span class="hljs-tag">&lt;<span class="hljs-name">environmentId</span>&gt;</span>Environments/continuous-int<span class="hljs-tag">&lt;/<span class="hljs-name">environmentId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="maven-pom-xml-2-5">Maven pom.xml 2/5</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">environmentId</span>&gt;</span>Environments/continuous-int<span class="hljs-tag">&lt;/<span class="hljs-name">environmentId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">generateDeployedOnUpgrade</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">generateDeployedOnUpgrade</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">deletePreviouslyDeployedDar</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">deletePreviouslyDeployedDar</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span>4516<span class="hljs-tag">&lt;/<span class="hljs-name">port</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">serverAddress</span>&gt;</span>localhost<span class="hljs-tag">&lt;/<span class="hljs-name">serverAddress</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">applicationName</span>&gt;</span>$</span><span class="hljs-template-variable">{project.artifactId}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">applicationName</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">deploymentPackageProperties</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Enter any deployment package level properties --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">orchestrator</span>&gt;</span>default<span class="hljs-tag">&lt;/<span class="hljs-name">orchestrator</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">someCustomUdmVersionProperty</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">someCustomUdmVersionProperty</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">deploymentPackageProperties</span>&gt;</span>
    ...
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="maven-pom-xml-3-5">Maven pom.xml 3/5</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">deployables</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">jee.War</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"petclinic"</span> <span class="hljs-attr">groupId</span>=<span class="hljs-string">"org.xebialabs.training"</span> <span class="hljs-attr">artifactId</span>=<span class="hljs-string">"petclinicwar"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tags</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>front-server<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tags</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">jee.War</span>&gt;</span>
    ...
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="maven-pom-xml-4-5">Maven pom.xml 4/5</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">glassfish.JdbcConnectionPoolSpec</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"xlvalidation_pool"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">datasourceclassname</span>&gt;</span>oracle.jdbc.pool.OracleDataSource<span class="hljs-tag">&lt;/<span class="hljs-name">datasourceclassname</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>this is my connection pool<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">driverclassname</span>&gt;</span>oracle.jdbc.driver.OracleDriver<span class="hljs-tag">&lt;/<span class="hljs-name">driverclassname</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">datasourceName</span>&gt;</span>OracleConnectionPoolDataSource<span class="hljs-tag">&lt;/<span class="hljs-name">datasourceName</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">statementTimeout</span>&gt;</span>180<span class="hljs-tag">&lt;/<span class="hljs-name">statementTimeout</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">restype</span>&gt;</span>javax_sql_DataSource<span class="hljs-tag">&lt;/<span class="hljs-name">restype</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>jdbc\:oracle\:thin\:@//</span><span class="hljs-template-variable">{{MY_ORACLE_HOST}</span><span class="xml">}\:</span><span class="hljs-template-variable">{{MY_ORACLE_PORT}</span><span class="xml">}/myOracle<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">glassfish.JdbcConnectionPoolSpec</span>&gt;</span>
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="maven-pom-xml-5-5">Maven pom.xml 5/5</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">myext.CommonPropertiesSpec</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"xld_example.properties"</span> 
    <span class="hljs-attr">location</span>=<span class="hljs-string">"$</span></span></span><span class="hljs-template-variable">{project.build.directory}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">/../xld_example.properties"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">myext.CommonPropertiesSpec</span>&gt;</span>
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="maven-goals">Maven goals</h2>
<table>
<thead>
<tr>
<th>Goal</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>deployit:clean</td>
<td>Clean (Undeploy) the target environment</td>
</tr>
<tr>
<td>deployit:deploy</td>
<td>Deploy artifacts to the target environment</td>
</tr>
<tr>
<td>deployit:generate-deployment-package</td>
<td>Build up the XL Deploy deployment package</td>
</tr>
<tr>
<td>deployit:import</td>
<td>Import a deployment package into an XL Deploy server</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="puppet">Puppet</h2>
<div class="left" markdown="1"><ul>
<li>Manages infrastructure throughout its lifecycle:<ul>
<li>Provisioning</li>
<li>Configuration</li>
<li>Patch management</li>
<li>Compliance</li>
</ul>
</li>
<li>Availability:<ul>
<li>Open source</li>
<li>Commercial</li>
</ul>
</li>
</ul>
<p><a href="https://puppetlabs.com/">https://puppetlabs.com</a>
</p></div><p></p>
<p></p><div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_continuous_puppet_logo.png" alt="Puppet"><p></p>
</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="puppet">Puppet</h2>
<p><img src="./XL Deploy Training_files/xld_continuous_puppet_overview.png" alt="Puppet"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="puppet-module-for-xl-deploy-community-">Puppet module for XL Deploy (community)</h2>
<ul>
<li>Used to interact with XL Deploy from Puppet</li>
<li>Allows puppet scripts to register CIs in an XL Deploy server</li>
<li>Support for:<ul>
<li>Installing the XL Deploy server and CLI</li>
<li>Starting and stopping the XL Deploy server</li>
<li>Running a CLI script using the XL Deploy CLI</li>
<li>Registering a provisioned host/container and adding it to an environment</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="puppet-module-for-xl-deploy-registering-cis">Puppet module for XL Deploy, registering CIs</h2>
<p><img src="./XL Deploy Training_files/xld_continuous_puppet_module1.png" alt="Puppet"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="jenkins">Jenkins</h2>
<div class="left" markdown="1"><ul>
<li>Executes build jobs (Maven/Ant/Ivy)</li>
<li>Monitors the execution and result</li>
<li>Availability:<ul>
<li>Open source</li>
<li>Commercial</li>
</ul>
</li>
</ul>
<p><a href="http://jenkins-ci.org/">http://jenkins-ci.org</a>
</p></div><p></p>
<p></p><div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_continuous_jenkins_logo.png" alt="Jenkins"><p></p>
</div><aside class="notes"><p>Application that monitors executions of repeated jobs, such as building a software project or jobs run by cron. Among those things, current Jenkins focuses on the following two jobs: </p>
<ul>
<li>Building/testing software projects continuously, </li>
<li>Monitoring executions of externally-run jobs,</li>
</ul>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="jenkins-xl-deploy-plugin">Jenkins XL Deploy plugin</h2>
<ul>
<li>Integrates in Jenkins GUI</li>
<li>XL Deploy actions are added as <strong>post-build action</strong> to an existing job</li>
<li>Support for:<ul>
<li>Package</li>
<li>Import</li>
<li>Deploy</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="continuous-build-integration">Continuous build/integration</h1>
<h2 id="tfs">TFS</h2>
<ul>
<li>Handles build process</li>
<li>Workflow<ul>
<li>XAML</li>
</ul>
</li>
<li>Custom activities<ul>
<li>Build controller</li>
</ul>
</li>
<li>Support for<ul>
<li>Import</li>
<li>Deploy</li>
</ul>
</li>
</ul>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Agenda</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="agenda">Agenda</h1>
<h2 id="xl-deploy-training">XL Deploy Training</h2>
<table>
<thead>
<tr>
<th>Chapter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Unified Deployment Engine</td>
<td>Introduction to engine phases</td>
</tr>
<tr>
<td>Using the rules engine</td>
<td>Writing an extension (rules engine)</td>
</tr>
<tr>
<td>Create your UI extensions</td>
<td>Extending the UI</td>
</tr>
<tr>
<td>Default properties</td>
<td>Using default properties</td>
</tr>
<tr>
<td>Type definition</td>
<td>Creating new synthetic types</td>
</tr>
<tr>
<td>Type modification</td>
<td>Extending synthetic types</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="agenda">Agenda</h1>
<h2 id="xl-deploy-training">XL Deploy Training</h2>
<table>
<thead>
<tr>
<th>Chapter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Control Task</td>
<td>Create your own control tasks</td>
</tr>
<tr>
<td>UDM plugin API</td>
<td>UDM plugin API introduction</td>
</tr>
<tr>
<td>XML and script based extension</td>
<td>Generic plugin and script-based plugins</td>
</tr>
<tr>
<td>Plugin by example</td>
<td>Writing an extension (generic plugin)</td>
</tr>
<tr>
<td>Links</td>
<td>Useful links</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-sample-code">XL Deploy sample code</h1>
<h2 id="a-note-on-copy-paste">A note on copy/paste</h2>
<ul>
<li>Copying and pasting the text from the slides into your xl-rules.xml or synthetic.xml files tends to corrupt the single- and double-quote characters on many systems.  </li>
<li>If you cut-and-paste the examples in today's slides, we recommend backspacing over each single- or double-quote and retyping it from your keyboard.</li>
<li>Also, be wary of differences in the end-of-line characters on Linux and Windows systems.  Because the scripts in these exercises will run on a Linux system, they must use Linux-style end-of-line characters.</li>
<li>Using an editor that knows the difference is highly recommended (e.g. Notepad ++).</li>
</ul>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>UDM Engine</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-engine">UDM Engine</h1>
<h2 id="deployment-steps">Deployment steps</h2>
<p>A deployment involves the following phases:</p>
<ul>
<li>Specification</li>
<li>Delta analysis</li>
<li>Orchestration</li>
<li>Planning</li>
<li>Execution</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-engine">UDM Engine</h1>
<h2 id="deployment-specification">Deployment specification</h2>
<p>Deployment begins with a deployment specification, where the engine gets the mapping of deployables to containers</p>
<p><img src="./XL Deploy Training_files/xld_udm_engine_depl_spec.png" alt="UDMEngine"></p>
<aside class="notes"><p>RECAP: when we do a deployment, we map Deployables (dark brown boxes) to Containers (dark green boxes) and configure the resulting Deployeds (grey arrows)</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-engine">UDM Engine</h1>
<h2 id="deployment-delta-analysis">Deployment – Delta analysis</h2>
<p>Step 2: XL Deploy performs delta analysis to determine which deployeds need to be created, modified, destroyed, or left as-is by comparing the current state with the specified state</p>
<p><img src="./XL Deploy Training_files/xld_udm_engine_delta_spec.png" alt="UDMEngine"></p>
<aside class="notes"><p>When we create a task, the XL Deploy AutoFlow engine kicks in. It first compares the desired deployment with the known state in its repository. It then calculates the difference between the actual state and the desired state.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-engine">UDM Engine</h1>
<h2 id="deployment-orchestration">Deployment – Orchestration</h2>
<p>Step 3: One or multiple orchestrators are invoked to build the deployment plan (and sub-plans)</p>
<p><img src="./XL Deploy Training_files/xld_udm_engine_orchestration.png" alt="UDMEngine"></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-engine">UDM Engine</h1>
<h2 id="deployment-planning">Deployment – Planning</h2>
<p>Step 4: The delta specification is translated into a deployment plan by invoking the plugins</p>
<p><img src="./XL Deploy Training_files/xld_udm_engine_planning.png" alt="UDMEngine"></p>
<aside class="notes"><p>So some deployeds will not be touched, some will be added, some will be modified and some will be deleted. Based on this information, the actual plan will be generated</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-engine">UDM Engine</h1>
<h2 id="deployment-planning">Deployment – Planning</h2>
<ul>
<li>Every deployed specifies what steps need to be performed to create, modify or destroy them; for example, deploy an EAR on WAS cluster, configure a datasource, or copy a folder to a host.</li>
<li>A contributor can define steps that concern more than one deployed; for example, synchronize nodes in a WAS cell or restart WLS servers after a deployment</li>
</ul>
<aside class="notes"><p>Now for each Deployed, the AutoFlow engine will ask the corresponding plugin what to do.
For example, for an EAR deployment to WebSphere, XL Deploy will ask the was-plugin: "What do I have to do to add an EAR to WebSphere?"</p>
<p>A plugin may also have contributors, that will contribute steps to the plan that concern more than one deployed.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-engine">UDM Engine</h1>
<h2 id="deployment-execution">Deployment – Execution</h2>
<p>Step 5: The steps in the deployment plan are executed, in order</p>
<p><img src="./XL Deploy Training_files/xld_udm_engine_execution.png" alt="UDMEngine"></p>
<aside class="notes"><p>When the XL Deploy AutoFlow Engine has gathered all the steps for all deployeds, it will put them in the right order (using the Orchestrator). The result is the task that can be executed.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-engine">UDM Engine</h1>
<h2 id="step-orders">Step orders</h2>
<ul>
<li>PRE_FLIGHT (0)</li>
<li>STOP_ARTIFACTS (10)</li>
<li>STOP_CONTAINERS (20)</li>
<li>UNDEPLOY_ARTIFACTS (30)</li>
<li>DESTROY_RESOURCES (40)</li>
<li>CREATE_RESOURCES (60)</li>
<li>DEPLOY_ARTIFACTS (70)</li>
<li>START_CONTAINERS (80)</li>
<li>START_ARTIFACTS (90)</li>
<li>POST_FLIGHT (100)</li>
</ul>
<aside class="notes"><p>Each step has an order between 0-100. The Orchestrator uses this value to put the steps in the right order. This list shows predefined orders that are used throughout XL Deploy and the plugins.</p>
</aside></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Rules</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rule-system">XL Deploy Rule System</h1>
<h2 id="rule-definitions-1-2-">Rule definitions (1/2)</h2>
<p>XL Deploy's rules system allows you to use XML or Jython to specify the steps that belong in a deployment plan and how the steps are configured.</p>
<ul>
<li>Defined in <code>xl-rules.xml</code> (in <code>SERVER_HOME/ext</code> or in plugin JAR files)</li>
<li>To reload rule definitions on the fly, set the <code>file-watch</code> &gt; <code>interval</code> property in <code>conf/planner.conf</code></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rule-system">XL Deploy Rule System</h1>
<h2 id="rule-definitions-2-2-">Rule definitions (2/2)</h2>
<p>Each rule:</p>
<ul>
<li>Must have a name that is unique across the whole system</li>
<li>Must have a scope</li>
<li>Must define the conditions under which it will run</li>
<li>Can use the planning context to influence the resulting plan</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rule-system">XL Deploy Rule System</h1>
<h2 id="rule-scope">Rule scope</h2>
<ul>
<li>Pre-plan</li>
<li>Deployed</li>
<li>Plan</li>
<li>Post-plan</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rule-system">XL Deploy Rule System</h1>
<h2 id="rule-types">Rule types</h2>
<ul>
<li>XML</li>
<li>Script</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rule-system">XL Deploy Rule System</h1>
<h2 id="xml-rules">XML rules</h2>
<ul>
<li>XML<ul>
<li>Rule</li>
<li>Condition<ul>
<li>Type</li>
<li>Operation</li>
<li>Expression</li>
</ul>
</li>
<li>Steps</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rule-system">XL Deploy Rule System</h1>
<h2 id="xml-rule-example-1-2-">XML rule example (1/2)</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">rules</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.xebialabs.com/xl-deploy/xl-rules"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">rule</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"SuccessBaseDeployedArtifact"</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">"deployed"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">conditions</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>udm.BaseDeployedArtifact<span class="hljs-tag">&lt;/<span class="hljs-name">type</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>udm.BaseDeployed<span class="hljs-tag">&lt;/<span class="hljs-name">type</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">operation</span>&gt;</span>CREATE<span class="hljs-tag">&lt;/<span class="hljs-name">operation</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">conditions</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">steps</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">noop</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">order</span>&gt;</span>60<span class="hljs-tag">&lt;/<span class="hljs-name">order</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">description</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">"true"</span>&gt;</span>'Dummy step for %s' % deployed.name<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">noop</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">steps</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">rule</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">rules</span>&gt;</span>
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rule-system">XL Deploy Rule System</h1>
<h2 id="xml-rule-example-2-2-">XML rule example (2/2)</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">rules</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.xebialabs.com/xl-deploy/xl-rules"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">rule</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"SuccessProductionEnvironment"</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">"post-plan"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">conditions</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">expression</span>&gt;</span>
        "Production" in context.deployedApplication.environment.name
      <span class="hljs-tag">&lt;/<span class="hljs-name">expression</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">conditions</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">steps</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">noop</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">order</span>&gt;</span>60<span class="hljs-tag">&lt;/<span class="hljs-name">order</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>Success step in Production environment<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">noop</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">steps</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">rule</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">rules</span>&gt;</span>
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rule-system">XL Deploy Rule System</h1>
<h2 id="script-rules">Script rules</h2>
<ul>
<li>XML<ul>
<li>Rule</li>
<li>Condition<ul>
<li>Type</li>
<li>Operation</li>
<li>Expression</li>
</ul>
</li>
<li>planning-script-path</li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rule-system">XL Deploy Rule System</h1>
<h2 id="script-rule-example">Script rule example</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">rules</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.xebialabs.com/xl-deploy/rules"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">rule</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"SuccessBaseDeployedArtifactPy"</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">"deployed"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">conditions</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>udm.BaseDeployedArtifact<span class="hljs-tag">&lt;/<span class="hljs-name">type</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">operation</span>&gt;</span>CREATE<span class="hljs-tag">&lt;/<span class="hljs-name">operation</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">conditions</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">planning-script-path</span>&gt;</span>planning/SuccessBaseDeployedArtifact.py<span class="hljs-tag">&lt;/<span class="hljs-name">planning-script-path</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">rule</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">rules</span>&gt;</span>
</span></code></pre><p>Content of <code>planning/SuccessBaseDeployedArtifact.py</code>:</p>
<pre><code class="hljs nix"><span class="hljs-attr">step</span> = steps.noop(<span class="hljs-attr">description</span> = <span class="hljs-string">"A dummy step to indicate that some new 
       artifact was created on the target environment"</span>, <span class="hljs-attr">order</span> = <span class="hljs-number">100</span>)
context.addStep(step)
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>XL Deploy Rule System</h1>
  <h2>Exercise</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rule-system">XL Deploy Rule System</h1>
<h2 id="rule-exercise">Rule exercise</h2>
<p>Create a rules that adds a step to the deployment plan when an application is deployed to an environment with "Production" in its name.</p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rule-system">XL Deploy Rule System</h1>
<h2 id="rule-exercise-preparation">Rule Exercise Preparation</h2>
<ul>
<li>Copy <code>rules-demo-plugin</code> from the <code>&lt;XLDEPLOY_SERVER&gt;/samples</code> to <code>&lt;XLDEPLOY_SERVER&gt;/plugins</code></li>
<li>Configure the file poller to poll the <code>xl-rules.xml</code> file for updates</li>
<li>Restart XL Deploy</li>
<li>Create a (dummy) environment with "production" in its name</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rule-system">XL Deploy Rule System</h1>
<h2 id="xml-rule-exercise-solution">XML rule exercise solution</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">rules</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.xebialabs.com/xl-deploy/xl-rules"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">rule</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"SuccessBaseDeployedArtifact"</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">"post-plan"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">conditions</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">expression</span>&gt;</span>"Production" in context.deployedApplication.environment.name
      <span class="hljs-tag">&lt;/<span class="hljs-name">expression</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">conditions</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">steps</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">noop</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">order</span>&gt;</span>60<span class="hljs-tag">&lt;/<span class="hljs-name">order</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>Success step in Production environment
        <span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">noop</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">steps</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">rule</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">rules</span>&gt;</span>
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xl-deploy-rule-system">XL Deploy Rule System</h1>
<h2 id="enhance-your-rules-to-accommodate-rollbacks">Enhance your rules to accommodate rollbacks</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">rules</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.xebialabs.com/xl-deploy/xl-rules"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">rule</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"SuccessBaseDeployedArtifact"</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">"post-plan"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">conditions</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">expression</span>&gt;</span>context.deployedApplication is not None and \
      "Production" in context.deployedApplication.environment.name
      <span class="hljs-tag">&lt;/<span class="hljs-name">expression</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">conditions</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">steps</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">noop</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">order</span>&gt;</span>60<span class="hljs-tag">&lt;/<span class="hljs-name">order</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>Success step in Production environment
        <span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">noop</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">steps</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">rule</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">rules</span>&gt;</span>
</span></code></pre></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>UI Extensions</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="ui-extensions">UI Extensions</h1>
<p></p><div class="left" markdown="1">
You can extend XL Deploy by creating:<p></p>
<ul>
<li>Endpoints backed by Jython scripts</li>
<li>UI screens that use these endpoints</li>
</ul>
<p>The following XML files tell XL Deploy where to find and how to interpret the content of an extension:</p>
<ul>
<li><code>xl-rest-endpoints.xml</code> for adding new REST endpoints</li>
<li><code>xl-ui-plugins.xml</code> for adding new top-menu items</li>
</ul>
</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="ui-extensions">UI Extensions</h1>
<h2 id="plugin-structure">Plugin structure</h2>
<p>It is <strong>recommended</strong> that you create a folder under web with an unique name for each UI extension plugin, to avoid file name collisions.</p>
<p></p>
<div class="right" markdown="1"><p><img src="./XL Deploy Training_files/ui-extension-plugin-structure.png" alt="UI Extension plugin structure"></p>
</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="ui-extensions">UI Extensions</h1>
<h2 id="adding-menu-items">Adding menu items</h2>
<p><code>xl-ui-plugins.xml</code>:</p>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.xebialabs.com/deployit/ui-plugin"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.xebialabs.com/deployit/ui-plugin xl-ui-plugin.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">menu</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"test.demo"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"Demo"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"demo.html"</span> <span class="hljs-attr">weight</span>=<span class="hljs-string">"12"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
</span></code></pre><p>The URI property is the path name relative to the web directory at the root of the classpath.  In this example, the demo.html file would need to be located at either <plugin_root>/web/demo.html or <xl_deploy_server>/ext/web/demo.html.</xl_deploy_server></plugin_root></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="ui-extensions">UI Extensions</h1>
<h2 id="declaring-server-endpoints">Declaring server endpoints</h2>
<p><code>xl-rest-endpoints.xml</code>:</p>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">endpoints</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
           <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.xebialabs.com/deployit/endpoints"</span>
           <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.xebialabs.com/deployit/endpoints endpoints.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">endpoint</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/test/demo"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"GET"</span> <span class="hljs-attr">script</span>=<span class="hljs-string">"demo.py"</span> /&gt;</span>
    <span class="hljs-comment">&lt;!-- ... more endpoints can be declared in the same way ... --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">endpoints</span>&gt;</span>
</span></code></pre><p>After processing this file, XL Deploy creates a new REST endpoint, which is accessible via <code>http://{xl-deploy-hostname}:{port}/{[context-path]}/api/extension/test/demo</code>.</p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="ui-extensions">UI Extensions</h1>
<h2 id="declaring-server-endpoints">Declaring server endpoints</h2>
<p>In a script you have access to the following objects:</p>
<ul>
<li>Request: <code>JythonRequest</code></li>
<li>Response: <code>JythonResponse</code></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="ui-extensions">UI Extensions</h1>
<h2 id="declaring-server-endpoints-example-1-2-">Declaring server endpoints: Example (1/2)</h2>
<pre><code class="hljs nix"><span class="hljs-comment"># This script is invoked when /api/extension/test/cis URL is requested</span>

<span class="hljs-comment"># We can split our code into modules</span>
from ui_extension_demo.modules <span class="hljs-built_in">import</span> repo

<span class="hljs-comment"># repositoryService is one of the available XL Deploy services.</span>
<span class="hljs-attr">repository_helper</span> = repo.RepositoryHelper(repositoryService)

<span class="hljs-attr">root</span> = request.query[<span class="hljs-string">"root"</span>]

<span class="hljs-comment"># You can use logger object to output messages to XL Deploy log</span>
logger.info(<span class="hljs-string">"Requesting all the CIs under %s from the repository."</span> % root)
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="ui-extensions">UI Extensions</h1>
<h2 id="declaring-server-endpoints-example-2-2-">Declaring server endpoints: Example (2/2)</h2>
<pre><code class="hljs nix"><span class="hljs-comment"># response.entity is what will be returned to the client as JSON</span>
<span class="hljs-comment"># XL Deploy can automatically serialize list of ConfigurationItem objects which</span>
<span class="hljs-comment"># will be returned by the helper.</span>
response.<span class="hljs-attr">entity</span> = repository_helper.get_all_cis(root)
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="ui-extensions">UI Extensions</h1>
<h2 id="hooking-it-together">Hooking it together</h2>
<p>You can call two types of XL Deploy REST services from HTML pages:</p>
<ul>
<li>XL Deploy REST API</li>
<li>REST endpoints created by your extension (it is described below how to declare them)</li>
</ul>
<p>Authentication is not needed under HTML5.  For legacy:</p>
<pre><code class="hljs php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">authorize</span><span class="hljs-params">(xhr)</span> </span>{
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">parent</span> &amp;&amp; <span class="hljs-keyword">parent</span>.getAuthToken) {
     <span class="hljs-keyword">var</span> base64 = <span class="hljs-keyword">parent</span>.getAuthToken();
     xhr.setRequestHeader(<span class="hljs-string">"Authorization"</span>, base64);
 }
</code></pre><p> }</p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>UI Extensions</h1>
  <h2>Exercise (advanced)</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="ui-extensions">UI Extensions</h1>
<h2 id="exercise-advanced-">Exercise (advanced)</h2>
<p>Copy the ui_extension_demo plugin from XL_DEPLOY_SERVER/samples directory to the plugins directory.  Then create a UI extension called 'Environments' that lists all environments you can deploy something to.</p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="ui-extensions">UI Extensions</h1>
<h2 id="exercise-solution-xl-ui-plugin-xml">Exercise solution, xl-ui-plugin.xml</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-comment">&lt;!-- in xl-ui-plugin.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
<span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.xebialabs.com/deployit/ui-plugin"</span>
<span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.xebialabs.com/deployit/ui-plugin xl-ui-plugin.xsd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">menu</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"demo.environments"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"Environments"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"environments.html"</span> <span class="hljs-attr">weight</span>=<span class="hljs-string">"12"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="ui-extensions">UI Extensions</h1>
<h2 id="exercise-solution-web-environments-html">Exercise solution, web/environments.html</h2>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"//code.jquery.com/jquery-1.10.2.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"//code.jquery.com/ui/1.11.1/jquery-ui.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"environments.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>UI Extension to list Environments<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"getEnvironments();"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Get environments"</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="ui-extensions">UI Extensions</h1>
<h2 id="exercise-solution-web-environments-js">Exercise solution, web/environments.js</h2>
<pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getEnvironments</span>(<span class="hljs-params"></span>) </span>{
  $.ajax({
    datatype: <span class="hljs-string">"json"</span>,
    url: <span class="hljs-string">"/api/extension/test/cis?root=Environments"</span>,
    crossDomain: <span class="hljs-literal">true</span>,
    <span class="hljs-comment">// beforeSend: authorize,</span>
    success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{
      $.each(data.entity, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">idx, val</span>) </span>{
        <span class="hljs-keyword">if</span> (val.type == <span class="hljs-string">"udm.Environment"</span>) {
          <span class="hljs-built_in">document</span>.write (<span class="hljs-string">"&lt;span&gt;"</span> + val.id + <span class="hljs-string">"&lt;/span&gt;&lt;br&gt;&lt;br&gt;"</span>);
        }
      });
    }
 })
}
</code></pre></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Types introduction</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="types-and-type-modifications">Types and Type Modifications</h1>
<h2 id="introduction">Introduction</h2>
<p>Properties can be defined with the following declarations in <code>synthetic.xml</code>:</p>
<ul>
<li><strong>type</strong> (new type)</li>
<li><strong>type-modification</strong>  </li>
</ul>
<pre><code class="hljs lasso">&lt;<span class="hljs-keyword">type</span> <span class="hljs-keyword">type</span>=<span class="hljs-string">"myPrefix.myNewType"</span> <span class="hljs-attr">...</span>&gt;
    &lt;property name=<span class="hljs-string">"myProperty"</span> <span class="hljs-attr">...</span>/&gt;
&lt;/<span class="hljs-keyword">type</span>&gt;

&lt;<span class="hljs-keyword">type</span><span class="hljs-attr">-modification</span> <span class="hljs-keyword">type</span>=<span class="hljs-string">"myPrefix.myAlreadyDefinedType"</span>&gt;
    &lt;property name=<span class="hljs-string">"myNewProperty"</span> <span class="hljs-attr">...</span>/&gt;
    &lt;property name=<span class="hljs-string">"myAlreadyDefinedProperty"</span> <span class="hljs-attr">...</span>/&gt;
&lt;/<span class="hljs-keyword">type</span><span class="hljs-attr">-modification</span>&gt;
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="types-and-type-modifications">Types and Type Modifications</h1>
<h2 id="property-definition-1-4">Property definition 1/4</h2>
<table>
<thead>
<tr>
<th>Property</th>
<th>Required</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Yes</td>
<td>The name of the property to modify</td>
</tr>
<tr>
<td>kind</td>
<td>No</td>
<td>The type of the property to modify. Possible values are: <code>enum</code>, <code>boolean</code>, <code>integer</code>, <code>string</code>, <code>ci</code>, <code>set_of_ci</code>, <code>set_of_string</code>, <code>map_string_string</code>, <code>list_of_ci</code>, <code>list_of_string</code>, <code>date</code> (internal use only)</td>
</tr>
<tr>
<td>description</td>
<td>No</td>
<td>Describes the property</td>
</tr>
<tr>
<td>category</td>
<td>No</td>
<td>Categorizes the property. Each category is shown in a separate tab in the XL Deploy GUI</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="types-and-type-modifications">Types and Type Modifications</h1>
<h2 id="property-definition-2-4">Property definition 2/4</h2>
<table>
<thead>
<tr>
<th>Property</th>
<th>Required</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>label</td>
<td>No</td>
<td>Sets the property's label. If set, the label is shown in the XL Deploy GUI instead of the name</td>
</tr>
<tr>
<td>required</td>
<td>No</td>
<td>Indicates whether the property is required or not</td>
</tr>
<tr>
<td>password</td>
<td>No</td>
<td>Indicates whether the property stores a password. If so, the property value is masked in the XL Deploy GUI and CLI</td>
</tr>
<tr>
<td>size</td>
<td>No</td>
<td>Only relevant for properties of kind <code>string</code>. Specifies the property size. Possible values are: <code>default</code>, <code>small</code>, <code>medium</code>, <code>large</code>. Large text fields will be shown as a text area in the XL Deploy GUI</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="types-and-type-modifications">Types and Type Modifications</h1>
<h2 id="property-definition-3-4">Property definition 3/4</h2>
<table>
<thead>
<tr>
<th>Property</th>
<th>Required</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>default</td>
<td>No</td>
<td>Specifies the default value of the property</td>
</tr>
<tr>
<td>enum-class</td>
<td>No</td>
<td>Only relevant for properties of kind <code>enum</code>. The enumeration class that contains the possible values for this property</td>
</tr>
<tr>
<td>referenced-type</td>
<td>No</td>
<td>The type of the referenced CI, relevant for properties of kind <code>ci</code>, <code>set_of_ci</code> or <code>list_of_ci</code>.</td>
</tr>
<tr>
<td>as-containment</td>
<td>No</td>
<td>Only relevant for properties of kind <code>ci</code>, <code>set_of_ci</code> or <code>list_of_ci</code>. Indicates whether the property is modeled as containment in the repository. If true, the referenced CI or CIs are stored under the parent CI</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="types-and-type-modifications">Types and Type Modifications</h1>
<h2 id="property-definition-4-4">Property definition 4/4</h2>
<table>
<thead>
<tr>
<th>Property</th>
<th>Required</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>hidden</td>
<td>No</td>
<td>Indicates whether the property is hidden. Hidden properties don't show up in the XL Deploy GUI. Note that a hidden property must have a default value</td>
</tr>
<tr>
<td>transient</td>
<td>No</td>
<td>Indicates whether the property is persisted in the repository or not</td>
</tr>
<tr>
<td>inspectionProperty</td>
<td>No</td>
<td>Indicates that this property is used for inspection (discovery).</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="types-and-type-modifications">Types and Type Modifications</h1>
<h2 id="property-definition-example">Property definition example</h2>
<p>Extending a CI with a "notes" properties</p>
<pre><code class="hljs haskell">&lt;<span class="hljs-class"><span class="hljs-keyword">type</span>-modification <span class="hljs-keyword">type</span>="overthere.<span class="hljs-type">Host</span>"&gt;</span>
    &lt;property name=<span class="hljs-string">"notes"</span> kind=<span class="hljs-string">"string"</span>/&gt;
&lt;/<span class="hljs-class"><span class="hljs-keyword">type</span>-modification&gt;</span>
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="types-and-type-modifications">Types and Type Modifications</h1>
<h2 id="property-definition-example">Property definition example</h2>
<p>Hiding a CI property</p>
<pre><code class="hljs haskell">&lt;<span class="hljs-class"><span class="hljs-keyword">type</span>-modification <span class="hljs-keyword">type</span>="base.<span class="hljs-type">Host</span>"&gt;</span>
    &lt;property name=<span class="hljs-string">"connectionTimeoutMillis"</span> kind=<span class="hljs-string">"integer"</span> <span class="hljs-keyword">default</span>="1200000"
    hidden=<span class="hljs-string">"true"</span> /&gt;
&lt;/<span class="hljs-class"><span class="hljs-keyword">type</span>-modification&gt;</span>
</code></pre></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Type definitions</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-definition">Type definition</h1>
<h2 id="extension-mechanism">Extension mechanism</h2>
<ul>
<li>Type definitions allow you to create new types based on existing types:<ul>
<li>By introducing declarations in <code>synthetic.xml</code></li>
<li>By introducing new types in Java code</li>
</ul>
</li>
<li>Works by subclassing existing types</li>
<li>Most new extensions should leverage the synthetic type system and the rules engine</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-definition">Type definition</h1>
<h2 id="synthetic-xml">synthetic.xml</h2>
<ul>
<li>Extension point is located at <code>&lt;XLDEPLOY_SERVER&gt;/ext/synthetic.xml</code></li>
<li>Can be packaged in a JAR file and dropped into <code>&lt;XLDEPLOY_SERVER&gt;/plugins</code> directory<ul>
<li>Add <code>version.properties file</code></li>
</ul>
</li>
</ul>
<pre><code class="hljs ini"><span class="hljs-attr">plugin</span>=database-plugin
<span class="hljs-attr">version</span>=<span class="hljs-number">4.0</span>.<span class="hljs-number">1</span>
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-definition">Type definition</h1>
<h2 id="containers-deployables-and-deployeds">Containers, deployables and deployeds</h2>
<div class="left" markdown="1"><p>UDM basic principles:</p>
<ul>
<li>Deployables are packaged in deployment packages, and they act as a template or input definition for deployeds</li>
<li>Related to each other through a deployed-container-deployed definition</li>
<li>Deployable-to-deployed relationship is one-to-many
</li></ul></div>
<div class="right" markdown="1">
<img src="./XL Deploy Training_files/xld_type_definition_one-deployable-different-deployed-types.png" alt="TypeDefinition">

</div></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-definition">Type definition</h1>
<h2 id="containers-deployables-and-deployeds-in-synthetic-xml">Containers, deployables, and deployeds in synthetic.xml</h2>
<p>The relationship among deployed, deployable, and container is specified through the type definition:</p>
<pre><code class="hljs scala">  <span class="hljs-keyword">extends</span>=<span class="hljs-string">"myDeployedAncestorType"</span>
  deployable-<span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"myDeployableType"</span>
  container-<span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"myContainerType"</span>&gt;
  ...
/&gt;      
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Type definition</h1>
  <h2>Exercise: Add a type</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-definition">Type definition</h1>
<h2 id="exercise-add-a-type">Exercise: Add a type</h2>
<ul>
<li>Go to the <strong>ext</strong> subdirectory of the XL Deploy server installation</li>
<li>Edit the file called <strong>synthetic.xml</strong> and add these lines</li>
</ul>
<pre><code class="hljs scala">&lt;<span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">type=</span>"<span class="hljs-title">was</span>.<span class="hljs-title">NodeGroup</span>" <span class="hljs-keyword">extends</span></span>=<span class="hljs-string">"was.Resource"</span>
    deployable-<span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"was.NodeGroupSpec"</span> container-<span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"was.DeploymentManager"</span>&gt;
 &lt;generate-deployable <span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"was.NodeGroupSpec"</span> <span class="hljs-keyword">extends</span>=<span class="hljs-string">"was.Deployable"</span> /&gt;
 &lt;property name=<span class="hljs-string">"createScript"</span> hidden=<span class="hljs-string">"true"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"was/container/create-nodegroup.py"</span> /&gt;
 &lt;property name=<span class="hljs-string">"destroyScript"</span> hidden=<span class="hljs-string">"true"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"was/container/destroy-nodegroup.py"</span> /&gt;
 &lt;property name=<span class="hljs-string">"description"</span> required=<span class="hljs-string">"false"</span> /&gt;
 &lt;property name=<span class="hljs-string">"nodeList"</span> kind=<span class="hljs-string">"list_of_ci"</span> referenced-<span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"was.NodeAgent"</span> /&gt;
&lt;/<span class="hljs-class"><span class="hljs-keyword">type</span><span class="hljs-title">&gt;</span></span>
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-definition">Type definition</h1>
<h2 id="exercise-add-a-type">Exercise: Add a type</h2>
<ul>
<li>Create a new file called <strong>create-nodegroup.py</strong> and add these lines:</li>
</ul>
<pre><code class="hljs crmsh">AdminTask.createNodeGroup(deployed.name, 
  '[-shortName -description %s]' % deployed.description)
for <span class="hljs-keyword">node</span> <span class="hljs-title">in</span> deployed.nodeList:
  AdminTask.addNodeGroupMember(deployed.name, '[-nodeName %s]' % <span class="hljs-keyword">node</span>.<span class="hljs-title">name</span>)
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-definition">Type definition</h1>
<h2 id="exercise-add-a-type">Exercise: Add a type</h2>
<ul>
<li>Create a new file called <strong>destroy-nodegroup.py</strong> and add these lines:</li>
</ul>
<pre><code class="hljs crmsh">for <span class="hljs-keyword">node</span> <span class="hljs-title">in</span> deployed.nodeList:
  AdminTask.removeNodeGroupMember(deployed.name, '[-nodeName %s]' % <span class="hljs-keyword">node</span>.<span class="hljs-title">name</span>)
AdminTask.removeNodeGroup(deployed.name)
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-definition">Type definition</h1>
<h2 id="exercise-add-a-type">Exercise: Add a type</h2>
<ul>
<li>Restart the XL Deploy server.</li>
<li>Reload the XL Deploy GUI.</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-definition">Type definition</h1>
<h2 id="exercise-add-a-type">Exercise: Add a type</h2>
<ul>
<li>Go to the <strong>Library</strong> browser section</li>
<li>Create a new <strong>udm.Application</strong> with the name <strong>WASNODEGROUP</strong></li>
<li>Create a new <strong>udm.DeploymentPackage</strong> with the name <strong>WASNODEGROUP/1.0</strong></li>
<li>Under <strong>WASNODEGROUP/1.0</strong>, create a new <strong>was.NodeGroupSpec</strong> called <strong>DemoNodegroup</strong></li>
<li>Edit the WAS environment to add the vagrantCell01 container to it</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-definition">Type definition</h1>
<h2 id="exercise-add-a-type">Exercise: Add a type</h2>
<ul>
<li>Go back to the <strong>Deployment</strong> tab</li>
<li>Configure the deployment of the <strong>WASNODEGROUP/1.0</strong> package to the WAS environment</li>
<li>Map the <strong>was.NodeGroupSpec</strong> to a server to get a <strong>was.NodeGroup</strong></li>
<li>Edit the deployed to add vagrantNode01 to the nodeList</li>
<li>Start the deployment</li>
<li>Verify the created Nodegroup in the WAS console</li>
</ul>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Type modifications</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-modification">Type modification</h1>
<h2 id="extension-mechanism">Extension mechanism</h2>
<p>Type modifications allow you to modify existing types:</p>
<ul>
<li>By introducing new properties</li>
<li>By modifying existing properties</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Type modification</h1>
  <h2>Exercise: Add a property</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-modification">Type modification</h1>
<h2 id="exercise-add-a-property">Exercise: Add a property</h2>
<ul>
<li>Go to the <strong>ext</strong> subdirectory of the XL Deploy server installation.</li>
<li>Edit the file called <strong>synthetic.xml</strong> and add these lines:<pre><code class="hljs haskell">&lt;<span class="hljs-class"><span class="hljs-keyword">type</span>-modification <span class="hljs-keyword">type</span>="was.<span class="hljs-type">WmqQueue</span>"&gt;</span>
  &lt;property name=<span class="hljs-string">"specifiedPriority"</span> kind=<span class="hljs-string">"integer"</span> /&gt;
&lt;/<span class="hljs-class"><span class="hljs-keyword">type</span>-modification&gt;</span>
</code></pre></li>
<li>Restart the XL Deploy server.</li>
<li>Reload the XL Deploy GUI.</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-modification">Type modification</h1>
<h2 id="exercise-add-a-property">Exercise: Add a property</h2>
<p>Go to the <strong>Repository</strong> tab.</p>
<ul>
<li>Create a new <strong>udm.Application</strong> named <strong>WASQ</strong></li>
<li>Create a new <strong>udm.DeploymentPackage</strong> named <strong>1.0</strong></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-modification">Type modification</h1>
<h2 id="exercise-add-a-property">Exercise: Add a property</h2>
<ul>
<li>Under <strong>WASQ/1.0</strong>, create a new <strong>was.WmqQueueSpec</strong> called <strong>appointments</strong> with the following properties:</li>
</ul>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Queue name</td>
<td>APPOINTMENTS.QUEUE</td>
</tr>
<tr>
<td>Priority</td>
<td>SPECIFIED</td>
</tr>
<tr>
<td>Specified priority</td>
<td>5</td>
</tr>
<tr>
<td>JNDI name</td>
<td>jms/appointments</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-modification">Type modification</h1>
<h2 id="exercise-add-a-property">Exercise: Add a property</h2>
<ul>
<li>Go back to the <strong>Deployment</strong> tab.</li>
<li>Configure the deployment of the <strong>WASQ/1.0</strong> package to the WAS environment.</li>
<li>Map the <strong>was.WmqQueueSpec</strong> to a server to get a <strong>was.WmqQueue</strong></li>
<li>Start the deployment!</li>
<li>Verify the created queue in the WAS console and check that the specified priority is set to <strong>42</strong>.</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="type-modification">Type modification</h1>
<h2 id="exercise-expand-deployedstodiscover">Exercise: Expand deployedsToDiscover</h2>
<ul>
<li>Add this code to XL_DEPLOY_SERVER/ext/synthetic.xml.<pre><code class="hljs haskell">&lt;<span class="hljs-class"><span class="hljs-keyword">type</span>-modification <span class="hljs-keyword">type</span>="was.<span class="hljs-type">DeploymentManager</span>"&gt;</span>
&lt;property name=<span class="hljs-string">"deployedsToDiscover"</span> kind=<span class="hljs-string">"set_of_string"</span>
  <span class="hljs-keyword">default</span>="was.<span class="hljs-type">VirtualHost</span>,was.<span class="hljs-type">SharedLibrary</span>,was.<span class="hljs-type">DerbyDatasource</span>" /&gt;
&lt;/<span class="hljs-class"><span class="hljs-keyword">type</span>-modification&gt;</span>
</code></pre></li>
<li>Restart the XL Deploy Server and re-discover vagrantCell01.</li>
</ul>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Working with properties</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="working-with-properties">Working with properties</h1>
<h2 id="extension-mechanism">Extension mechanism</h2>
<ul>
<li>Properties can be defined on a new type through a <strong>type</strong> definition</li>
<li>Properties can be added or modified on an existing type through a <strong>type modification</strong> </li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="working-with-properties">Working with properties</h1>
<h2 id="property-default-value">Property default value</h2>
<ul>
<li>Properties default values can be defined in the type definition </li>
<li>Default values can be overridden in <code>conf/deployit-defaults.properties</code><ul>
<li>Easy way to change a default value without a type modification</li>
<li>Interesting for temporary behavior modification</li>
<li><strong>Do not forget to carry back if you use multiple XL Deploy instances!</strong></li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Working with properties</h1>
  <h2>Exercise: change a default value</h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="working-with-properties">Working with properties</h1>
<h2 id="exercise-change-a-default-value">Exercise: change a default value</h2>
<ul>
<li>The Remoting plugin defines the <code>SshHost</code> type </li>
<li>Observe the <code>connectionType</code> definition and specifically the <code>default</code> attribute</li>
</ul>
<pre><code class="hljs scala">&lt;<span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">type=</span>"<span class="hljs-title">overthere</span>.<span class="hljs-title">SshHost</span>" <span class="hljs-keyword">extends</span></span>=<span class="hljs-string">"overthere.RemoteHost"</span> ... &gt;
...
    &lt;property name=<span class="hljs-string">"connectionType"</span> kind=<span class="hljs-string">"enum"</span> 
        enum-<span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"com.xebialabs.overthere.ssh.SshConnectionType"</span> 
        required=<span class="hljs-string">"true"</span> 
        <span class="hljs-keyword">default</span>=<span class="hljs-string">"SFTP"</span>
        description=<span class="hljs-string">"Type of SSH connection to create"</span>/&gt;
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="working-with-properties">Working with properties</h1>
<h2 id="exercise-change-a-default-value">Exercise: Change a default value</h2>
<ul>
<li>Stop the XL Deploy server</li>
<li>Open <code>conf/deployit-defaults.properties</code> in your XL Deploy server installation directory</li>
<li><p>Locate the line that reads:</p>
<pre><code class="hljs stylus">  <span class="hljs-selector-id">#overthere</span><span class="hljs-selector-class">.SshHost</span><span class="hljs-selector-class">.connectionType</span>=SFTP
</code></pre></li>
<li><p>Change it to:</p>
<pre><code class="hljs stylus">  overthere<span class="hljs-selector-class">.SshHost</span><span class="hljs-selector-class">.connectionType</span>=SCP
</code></pre></li>
<li><p>Start the XL Deploy server</p>
</li>
<li>Reload the XL Deploy user interface</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="working-with-properties">Working with properties</h1>
<h2 id="exercise-change-a-default-value">Exercise: Change a default value</h2>
<ul>
<li>In the GUI, go to the Repository tab</li>
<li>Under the Infrastructure tree, create an <code>overthere.SshHost</code></li>
<li>The default value for the connection type is now SCP</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" class="future" aria-hidden="true" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Working with properties</h1>
  <h2>Exercise: Add a default value</h2>
</hgroup>
</div>

</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="working-with-properties">Working with properties</h1>
<h2 id="exercise-add-a-default-value">Exercise: Add a default value</h2>
<ul>
<li>Go to the <strong>Library</strong> browser section</li>
<li>Create a new application with the name <strong>WASDS</strong></li>
<li>Under <strong>WASDS</strong>, create a new DeploymentPackage with the name 1.0</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="working-with-properties">Working with properties</h1>
<h2 id="exercise-add-a-default-value">Exercise: Add a default value</h2>
<p>Under <strong>WASDS/1.0</strong>, create a new <code>was.DB2Type2DatasourceSpec</code> called <strong>pets</strong> with the following properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Database Name</td>
<td>pets</td>
</tr>
<tr>
<td>JNDI Name</td>
<td>jdbc/pets</td>
</tr>
<tr>
<td>JDBC Provider</td>
<td>DB2 Universal JDBC Driver Provider</td>
</tr>
<tr>
<td>Username</td>
<td>scott</td>
</tr>
<tr>
<td>Password</td>
<td>tiger</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="working-with-properties">Working with properties</h1>
<h2 id="exercise-add-a-default-value">Exercise: Add a default value</h2>
<ul>
<li>Go to the Deployment tab</li>
<li>Set up the deployment of the <strong>WASDS/1.0</strong> application to your WAS environment</li>
<li>Map the <strong>pets</strong> datasource to a server and double click the Deployed.</li>
<li>You’ll notice that you’ll have to enter a value for the <strong>Datasource Helper Classname</strong> property before you can proceed.</li>
<li>Close the tab to cancel the deployment.</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="working-with-properties">Working with properties</h1>
<h2 id="exercise-add-a-default-value">Exercise: Add a default value</h2>
<ul>
<li>Open <code>conf/deployit-defaults.properties</code> in your XL Deploy server installation directory.</li>
<li>Add the following line (one line):
was.DB2Type2Datasource.datasourceHelperClassname=
com.ibm.db2.jcc.DB2ConnectionPoolDataSource</li>
<li>Restart the XL Deploy server.</li>
<li>Reload the XL Deploy user interface.</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="working-with-properties">Working with properties</h1>
<h2 id="exercise-add-a-default-value">Exercise: Add a default value</h2>
<ul>
<li>Go back to the <strong>Deployment</strong> tab.</li>
<li>Configure the deployment of the <strong>WASDS/1.0</strong> application to your WAS environment.</li>
<li>Map the <strong>pets</strong> datasource to a server and double click the Deployed.</li>
<li>The <strong>Datasource Helper Classname</strong> property will now have the default value.</li>
</ul>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Control tasks</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="control-task">Control Task</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>Actions that can be performed on middleware or middleware resources.</li>
<li>To trigger a control task on a CI in the repository, do the following:<ul>
<li><strong>List the Control Tasks for a CI.</strong></li>
<li><strong>Execute the Control Task on a CI.</strong></li>
<li><strong>Fill in parameters.</strong></li>
</ul>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="control-task">Control Task</h1>
<h2 id="introduction">Introduction</h2>
<pre><code class="hljs nimrod">class <span class="hljs-type">MyControlTasks</span> {
    public <span class="hljs-type">MyControlTasks</span>() {}
    @<span class="hljs-type">Delegate</span>(name=<span class="hljs-string">"startApache"</span>)
    public <span class="hljs-type">List</span>&lt;<span class="hljs-type">Step</span>&gt; start(<span class="hljs-type">ConfigurationItem</span> ci,
                 <span class="hljs-type">String</span> <span class="hljs-keyword">method</span>,
                 <span class="hljs-type">Map</span>&lt;<span class="hljs-type">String</span>, <span class="hljs-type">String</span>&gt; arguments) {
        // <span class="hljs-type">Should</span> <span class="hljs-keyword">return</span> actual steps here
        <span class="hljs-keyword">return</span> newArrayList();
    }
}

&lt;<span class="hljs-keyword">type</span>-modification <span class="hljs-keyword">type</span>=<span class="hljs-string">"www.ApacheHttpdServer"</span>&gt;
 &lt;<span class="hljs-keyword">method</span> name=<span class="hljs-string">"startApache"</span> label=<span class="hljs-string">"Start the Apache webserver"</span>    
  delegate=<span class="hljs-string">"startApache"</span> argument1=<span class="hljs-string">"value1"</span> argument2=<span class="hljs-string">"value2"</span>/&gt;
&lt;/<span class="hljs-keyword">type</span>-modification&gt;
</code></pre><aside class="notes"><p>On the bottom you can see how to implement a control task using xml. On the top you can see how a Control Task can be implemented using Java code.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="control-task">Control Task</h1>
<h2 id="introduction">Introduction</h2>
<p><img src="./XL Deploy Training_files/xld_control_task.png" alt="Control Tasks"></p>
</section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Plugin API</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-plugin-api">UDM Plugin API</h1>
<h2 id="introduction">Introduction</h2>
<p><img src="./XL Deploy Training_files/xld_plugin_api_arch.png" alt="UDMPluginAPI"></p>
<aside class="notes"><p>Here's a layered view of XL Deploy's plugin architecture and the most popular plugins. As said, the XL Deploy Autoflow Engine does not know anything about specific middleware plugins. It uses a plugin architecture to delegate work to the plugins. The contract between the XL Deploy Engine and the plugins is the UDM Plugin API . This API defines all deployment concepts and the desired behavior of the plugins.</p>
<p>The middle layer contains some 'building block' plugins: the Python plugin is used for WebLogic and WebSphere, since they have a Python-based admin interface. The Generic Plugin defines operations with files and scripts and is the basis for plugins that are file-based, like JBoss, Tomcat and the File plugin. Then there is also Overthere, our open source remote execution framework. It is used by all plugins.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-plugin-api">UDM Plugin API</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li>Java Plugin API built around UDM concepts.</li>
<li>Configuration items implement <strong>ConfigurationItem</strong> interface.</li>
<li>Properties are annotated with <strong>@Property</strong> annotation.</li>
<li>Steps implement the <strong>Step</strong> interface.</li>
<li>Contributors are methods with an annotation <strong>@Create</strong>, <strong>@Modify</strong>, <strong>@Destroy</strong> or <strong>@Contributor</strong>. </li>
</ul>
<aside class="notes"><p>The UDM Plugin API is based on Java and defines the ConfigurationItem concept. You can write CIs in Java, and then you will use annotations to expose the properties and behavior of a CI to XL Deploy.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-plugin-api">UDM Plugin API</h1>
<h2 id="example-ci-definition">Example CI definition</h2>
<pre><code class="hljs scala"><span class="hljs-meta">@Metadata</span>(description=<span class="hljs-string">"A simple example container that defines a host and port"</span>)
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ContainerExample</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseContainer</span> <span class="hljs-title">implements</span> <span class="hljs-title">HostContainer</span>  </span>{

    <span class="hljs-meta">@Property</span>(description=<span class="hljs-string">"Host on which the container resides"</span>, asContainment = <span class="hljs-literal">true</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-type">Host</span> host;

    <span class="hljs-meta">@Property</span>(label=<span class="hljs-string">"administrative port"</span>, 
              description=<span class="hljs-string">"Host on which the container resides"</span>, 
              defaultValue=<span class="hljs-string">"8080"</span>)
    <span class="hljs-keyword">private</span> int  port;
</code></pre><aside class="notes"><p>Here's a sample Java snippet. Note the gray @Property annotations. They are defined by XL Deploy and tell the XL Deploy engine which properties are available. Note that we don't use Java class definitions directly . We have our own type-system layer that connects to Java. We do that because XL Deploy does not only connect to Java, but also to Python, XML, ActionScript, FreeMarker template language and we defined a unified type system that is portable across all languages and environments</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-plugin-api">UDM Plugin API</h1>
<h2 id="example-contributor-definition">Example contributor definition</h2>
<pre><code class="hljs nimrod">   public class <span class="hljs-type">DeployedYakFile</span> extends <span class="hljs-type">BaseDeployedArtifact</span>&lt;<span class="hljs-type">YakFile</span>, <span class="hljs-type">TheServer</span>&gt; {

   @<span class="hljs-type">Modify</span>
   @<span class="hljs-type">Destroy</span>
   public <span class="hljs-built_in">void</span> stop(<span class="hljs-type">DeploymentPlanningContext</span> <span class="hljs-literal">result</span>) {
     <span class="hljs-literal">result</span>.addStep(new <span class="hljs-type">StopDeployedYakFileStep</span>(this));
   }

   @<span class="hljs-type">Create</span>
   @<span class="hljs-type">Modify</span>
   public <span class="hljs-built_in">void</span> start(<span class="hljs-type">DeploymentPlanningContext</span> <span class="hljs-literal">result</span>) {
     <span class="hljs-literal">result</span>.addStep(new <span class="hljs-type">StartDeployedYakFileStep</span>(this));
   }
</code></pre><aside class="notes"><p>Here's a Java snippet of a Deployed and how it contributed steps to a plan. Note the @Create , @Modify and @Destroy annotations (there is also a @Noop ). They indicate what is happening with the deployed.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-plugin-api">UDM Plugin API</h1>
<h2 id="example-contributor-definition">Example contributor definition</h2>
<pre><code class="hljs nimrod">   @<span class="hljs-type">Create</span>
   public <span class="hljs-built_in">void</span> deploy(<span class="hljs-type">DeploymentPlanningContext</span> <span class="hljs-literal">result</span>) {
     <span class="hljs-literal">result</span>.addStep(new <span class="hljs-type">DeployYakFileToServerStep</span>(this));
   }

   @<span class="hljs-type">Modify</span>
   public <span class="hljs-built_in">void</span> upgrade(<span class="hljs-type">DeploymentPlanningContext</span> <span class="hljs-literal">result</span>) {
     <span class="hljs-literal">result</span>.addStep(new <span class="hljs-type">UpgradeYakFileOnServerStep</span>(this));
   }

   @<span class="hljs-type">Destroy</span>
   public <span class="hljs-built_in">void</span> destroy(<span class="hljs-type">DeploymentPlanningContext</span> <span class="hljs-literal">result</span>) {
     <span class="hljs-literal">result</span>.addStep(new <span class="hljs-type">RemoveYakFileFromServerStep</span>(this));
   }
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-plugin-api">UDM Plugin API</h1>
<h2 id="example-step">Example step</h2>
<pre><code class="hljs actionscript"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> com.xebialabs.deployit.plugin.api.flow.Step;</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> com.xebialabs.deployit.plugin.api.flow.StepExitCode;</span>

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DeployYakFileToServerStep</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Step</span></span>{

    <span class="hljs-keyword">public</span> DeployYakFileToServerStep(DeployedYakFile file){
        ...
    }
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-plugin-api">UDM Plugin API</h1>
<h2 id="example-step">Example step</h2>
<pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> StepExitCode <span class="hljs-title">execute</span><span class="hljs-params">(ExecutionContext exCtx)</span> <span class="hljs-keyword">throws</span> Exception </span>{
    <span class="hljs-keyword">return</span> StepExitCode.SUCCESS;
}

<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getDescription</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">"Step DeployYakFileToServerStep "</span>;
}

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getOrder</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-number">40</span>;
}
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-plugin-api">UDM Plugin API</h1>
<h2 id="type-definition-in-xml">Type definition in XML</h2>
<ul>
<li>New types can be defined in <code>synthetic.xml</code></li>
<li>Note: New types must extend an existing type!</li>
</ul>
<pre><code class="hljs scala">&lt;<span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">type=</span>"<span class="hljs-title">overthere</span>.<span class="hljs-title">SshHost</span>" <span class="hljs-keyword">extends</span></span>=<span class="hljs-string">"overthere.RemoteHost"</span> 
    description=<span class="hljs-string">"Machine that can be connected to using SSH"</span>&gt;
        &lt;property name=<span class="hljs-string">"protocol"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"ssh"</span> hidden=<span class="hljs-string">"true"</span>/&gt;
        &lt;property name=<span class="hljs-string">"connectionType"</span> kind=<span class="hljs-string">"enum"</span> 
            enum-<span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"com.xebialabs.overthere.ssh.SshConnectionType"</span> 
            required=<span class="hljs-string">"true"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"SFTP"</span>
            description=<span class="hljs-string">"Type of SSH connection to create"</span>/&gt;
        &lt;property name=<span class="hljs-string">"address"</span> kind=<span class="hljs-string">"string"</span> required=<span class="hljs-string">"true"</span> description=<span class="hljs-string">"Address..."</span>/&gt;
        &lt;property name=<span class="hljs-string">"port"</span> kind=<span class="hljs-string">"integer"</span> required=<span class="hljs-string">"true"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"22"</span> /&gt;
        &lt;property name=<span class="hljs-string">"username"</span> kind=<span class="hljs-string">"string"</span> required=<span class="hljs-string">"true"</span> description=<span class="hljs-string">"..."</span>/&gt;
        &lt;property name=<span class="hljs-string">"password"</span> kind=<span class="hljs-string">"string"</span> required=<span class="hljs-string">"false"</span> password=<span class="hljs-string">"true"</span> /&gt;
</code></pre><aside class="notes"><p>Enough about Java: we can also define and modify types in XML! This makes XL Deploy very flexible. It's easy to add types when creating a plugin, or to modify existing types when tweaking XL Deploy's behavior.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-plugin-api">UDM Plugin API</h1>
<h2 id="type-modification-in-xml">Type modification in XML</h2>
<p>Properties can be added to an existing type in <code>synthetic.xml</code></p>
<pre><code class="hljs vim">&lt;<span class="hljs-built_in">type</span>-modification <span class="hljs-built_in">type</span>=<span class="hljs-string">"overthere.Host"</span>&gt;
    &lt;property name=<span class="hljs-string">"tmpDeleteOnDisconnect"</span> category=<span class="hljs-string">"Advanced"</span> kind=<span class="hljs-string">"boolean"</span> 
            required=<span class="hljs-string">"false"</span> default=<span class="hljs-string">"true"</span> hidden=<span class="hljs-string">"true"</span>
            description=<span class="hljs-string">"If true, delete the temporary connection 
</span>                directory when the connection <span class="hljs-keyword">is</span> closed<span class="hljs-string">"/&gt;
</span>        &lt;property name=<span class="hljs-string">"tmpFileCreationRetries"</span> category=<span class="hljs-string">"Advanced"</span> kind=<span class="hljs-string">"integer"</span> 
            default=<span class="hljs-string">"1000"</span> hidden=<span class="hljs-string">"true"</span>
             description=<span class="hljs-string">"Number of times Overthere attempts to create 
</span>             <span class="hljs-keyword">a</span> temporary <span class="hljs-keyword">file</span> with <span class="hljs-keyword">a</span> unique name<span class="hljs-string">"/&gt;
</span>&lt;/<span class="hljs-built_in">type</span>-modification&gt;
</code></pre><aside class="notes"><p>Here's a snippet that shows how an existing Java type can be modified using XML. We can add new properties and modify some aspects of existing properties.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-plugin-api">UDM Plugin API</h1>
<h2 id="hidden-properties-and-default-values">Hidden properties and default values</h2>
<ul>
<li>Hidden properties are not shown in the user interface or the CLI.</li>
<li>Hidden properties are not stored per configuration item; they are always assigned their default value.</li>
<li>Default values are defined in <code>conf/deployit-defaults.properties</code>.</li>
<li>Default values can be changed by editing that file.</li>
</ul>
<aside class="notes"><p>Properties can be hidden: then they are not shown in the UI and are not editable. Since hidden properties always take the default value, they are like static fields in Java.</p>
</aside></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="udm-plugin-api">UDM Plugin API</h1>
<h2 id="examples-of-default-values">Examples of default values</h2>
<ul>
<li>Default SSH connection type (not a hidden field!): <code>overthere.SshHost.connectionType=SFTP</code></li>
<li>Regular expression used to find the password for interactive SUDO:  <code>overthere.SshHost.sudoPasswordPromptRegex=.*[Pp]assword.*</code></li>
<li>Scripts used to deploy an application in WAS: <code>was.Module.createScript=was/application/deploy-application.py</code></li>
</ul>
<p>Open <code>conf/deployit-defaults.properties</code> to see all 200+ properties!</p>
<aside class="notes"><p>Easiest way to tweak XL Deploy's behavior is to edit deployit-defaults.properties</p>
</aside></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Extensions</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xml-and-script-based-extensions">XML and script-based extensions</h1>
<h2 id="extension-mechanism">Extension mechanism</h2>
<ul>
<li><code>wsadmin</code> for IBM WebSphere (WAS)</li>
<li><code>wlst</code> for Oracle WebLogic (WLS)</li>
<li><code>PowerShell</code> for Windows</li>
<li><code>XML and FreeMarker</code> for the Generic plugin</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xml-and-script-based-extensions">XML and script-based extensions</h1>
<h2 id="example-from-the-was-plugin">Example from the WAS plugin</h2>
<p>Types are defined in XML, including what Python script to invoke:</p>
<pre><code class="hljs scala">&lt;<span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">type=</span>"<span class="hljs-title">was</span>.<span class="hljs-title">JmsResource</span>" <span class="hljs-keyword">extends</span></span>=<span class="hljs-string">"was.Resource"</span> virtual=<span class="hljs-string">"true"</span> ...&gt;
        &lt;property name=<span class="hljs-string">"additionalPropertiesNotToExpose"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"..."</span>/&gt;
        &lt;property name=<span class="hljs-string">"createScript"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"was/jms/create-jms-object.py"</span> /&gt;
        &lt;property name=<span class="hljs-string">"destroyScript"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"was/jms/destroy-jms-object.py"</span> /&gt;
        &lt;property name=<span class="hljs-string">"modifyScript"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"was/jms/modify-jms-object.py"</span> /&gt;
        ...
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xml-and-script-based-extensions">XML and script-based extensions</h1>
<h2 id="example-from-the-was-plugin">Example from the WAS plugin</h2>
<ul>
<li>Behavior is defined in Python</li>
<li>Part of library invoked by <code>create-jms-object.py</code> for WAS plugin</li>
</ul>
<pre><code class="hljs perl">jmsProviderContainmentPath = <span class="hljs-string">'%s/JMSProvider:%s'</span> 
    % (deployed.container.containmentPath, provider)
jmsProviderId = validateNotEmpty(AdminConfig.getid(jmsProviderContainmentPath), 
            <span class="hljs-string">"Cannot locate WebSphere JMS Provider '%s' in container '%s'"</span> ...
<span class="hljs-keyword">print</span> <span class="hljs-string">"Creating '%s' for JMS provider '%s' with args '%s' in container '%s'"</span> 
    % (deployed.wasType, jmsProviderId, args, deployed.container.name)
jmsId = AdminConfig.create(deployed.wasType, jmsProviderId, args)
<span class="hljs-keyword">if</span> hasattr(deployed, <span class="hljs-string">'customProperties'</span>):
    createJ2EEResourceProperties(jmsId, deployed)
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xml-and-script-based-extensions">XML and script-based extensions</h1>
<h2 id="generic-model-plugin-container">Generic model plugin - Container</h2>
<p>Container types (sample)</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>generic.Container</td>
<td>A generic container defined on a host</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xml-and-script-based-extensions">XML and script-based extensions</h1>
<h2 id="generic-model-plugin-deployables">Generic model plugin - Deployables</h2>
<p>Deployable types (samples)</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>generic.Archive</td>
<td>A generic, compressed binary artifact</td>
</tr>
<tr>
<td>generic.File</td>
<td>A generic binary artifact</td>
</tr>
<tr>
<td>generic.Folder</td>
<td>A generic folder artifact</td>
</tr>
<tr>
<td>generic.Resource</td>
<td>A generic resource specification</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xml-and-script-based-extensions">XML and script-based extensions</h1>
<h2 id="generic-model-plugin-deployeds">Generic model plugin - Deployeds</h2>
<p>Deployed types (samples)</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>generic.CopiedArtifact</td>
<td>an artifact copied to the container, e.g. a Tomcat WAR deployment.</td>
</tr>
<tr>
<td>generic.ProcessedTemplate</td>
<td>a file generated from a template and then copied to the container e.g. a JBoss datasource.</td>
</tr>
<tr>
<td>generic.ExecutedScript</td>
<td>a resource or artifact deployed by executing a command, e.g. WebSphere Portal xml access import.</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xml-and-script-based-extensions">XML and script-based extensions</h1>
<h2 id="generic-model-plugin-container-example">Generic model plugin - Container example</h2>
<p>From the Database plugin:</p>
<pre><code class="hljs scala">&lt;<span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">type=</span>"<span class="hljs-title">sql</span>.<span class="hljs-title">SqlClient</span>" <span class="hljs-keyword">extends</span></span>=<span class="hljs-string">"generic.Container"</span> 
    description=<span class="hljs-string">"Generic SQL client"</span> virtual=<span class="hljs-string">"true"</span>&gt;
        &lt;property name=<span class="hljs-string">"clientWrapperScript"</span> required=<span class="hljs-string">"false"</span> 
            description=<span class="hljs-string">"The OS-specific wrapper script that calls the SQL client"</span> /&gt;
...
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xml-and-script-based-extensions">XML and script-based extensions</h1>
<h2 id="generic-model-plugin-template-example">Generic model plugin - Template example</h2>
<p>From the JBossAs plugin:</p>
<pre><code class="hljs scala">&lt;<span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">type=</span>"<span class="hljs-title">jbossas</span>.<span class="hljs-title">Datasource</span>" <span class="hljs-keyword">extends</span></span>=<span class="hljs-string">"jbossas.Resource"</span> ... &gt;
        &lt;property name=<span class="hljs-string">"targetFile"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"${deployed.deployable.name}-ds.xml"</span> ... /&gt;
        &lt;property name=<span class="hljs-string">"template"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"jboss/datasource/template.xml.ftl"</span> ... /&gt;
        &lt;property name=<span class="hljs-string">"inspectTemplate"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"jboss/datasource/inspect.sh.ftl"</span> ... /&gt;
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xml-and-script-based-extensions">XML and script-based extensions</h1>
<h2 id="generic-model-plugin-freemarker">Generic model plugin - FreeMarker</h2>
<p>The Generic plugin leverages FreeMarker: <a href="http://freemarker.sourceforge.net/docs/">http://freemarker.sourceforge.net/docs/</a></p>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="xml-and-script-based-extensions">XML and script-based extensions</h1>
<h2 id="generic-model-plugin-template-example">Generic model plugin - Template example</h2>
<p>From the JBossAs plugin, <code>jboss/datasource/template.xml.ftl</code>:</p>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">datasources</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">$</span></span></span><span class="hljs-template-variable">{deployed.dsType}</span><span class="xml"><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">#list</span> <span class="hljs-attr">deployed.parameters</span> <span class="hljs-attr">as</span> <span class="hljs-attr">dsp</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">#if</span> (<span class="hljs-attr">dsp</span> =<span class="hljs-string">=</span> "<span class="hljs-attr">xaDatasourceProperties</span>")&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">#assign</span> <span class="hljs-attr">dsProps</span>=<span class="hljs-string">deployed.xaDatasourceProperties</span> /&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">#list</span> <span class="hljs-attr">dsProps</span>?<span class="hljs-attr">keys</span> <span class="hljs-attr">as</span> <span class="hljs-attr">dsProp</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">xa-datasource-property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"$</span></span></span><span class="hljs-template-variable">{dsProp}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>$</span><span class="hljs-template-variable">{dsProps[dsProp]?string}</span><span class="xml">
                <span class="hljs-tag">&lt;/<span class="hljs-name">xa-datasource-property</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">#list</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">#elseif</span> (<span class="hljs-attr">dsp</span> =<span class="hljs-string">=</span> "<span class="hljs-attr">connectionProperties</span>")&gt;</span>
          ...
</span></code></pre></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Plugin by example</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="use-case">Use case</h2>
<p>Develop a Tomcat plugin that:</p>
<ul>
<li>Deploys a WAR to a custom directory other than default <code>webapps</code> directory in the Tomcat installation</li>
<li>Has the ability to specify the context root for the WAR</li>
<li>Does not unzip the WAR</li>
<li>Handles <code>jee.War</code> as deployable</li>
<li>Can stop/start the Tomcat server for WAR deployments</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="standard-tomcat-behavior">Standard Tomcat behavior</h2>
<ul>
<li>WARs are copied to <code>&lt;TC&gt;/webapps</code></li>
<li>Automatically unpacks the WARs</li>
<li>The context root is the same as the WAR file name</li>
<li><p>To specify custom context root, create file in <code>&lt;TC&gt;/conf/Catalina/localhost</code> (such as <code>petclinic.xml</code>) with content:</p>
<p>  <code>&lt;Context unpackWAR="false" docBase="/apps/Petclinic-1.war"/&gt;</code></p>
</li>
<li><p>The path may be <code>&lt;TC&gt;/Catalina/localhost</code> depending on the installation</p>
</li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="generic-plugin-features">Generic plugin features</h2>
<p>The Generic plugin contains the following building blocks for defining deployment types:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>generic.CopiedArtifact</td>
<td>To copy files and folders</td>
</tr>
<tr>
<td>generic.ProcessedTemplate</td>
<td>FreeMarker template</td>
</tr>
<tr>
<td>generic.ExecutedScript</td>
<td>To execute a script on the target machine</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="generic-plugin-features">Generic plugin features</h2>
<p>Basic support for container operations:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>generic.Container</td>
<td>Supports start/stop scripts and wait steps</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="design-tomcat-plugin-with-generic-plugin">Design Tomcat plugin with Generic plugin</h2>
<p>What can we use from the Generic plugin:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>generic.CopiedArtifact</td>
<td>Copy the WAR to the custom directory</td>
</tr>
<tr>
<td>generic.ProcessedTemplate</td>
<td>Generate context XML</td>
</tr>
<tr>
<td>generic.ExecutedScript</td>
<td>Generate the context XML and do custom coping in the associated script to install the artifacts in the correct place</td>
</tr>
<tr>
<td>generic.Container</td>
<td>Model Tomcat and provide stop/start functionality</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="generic-container">generic.Container</h2>
<p><a href="https://docs.xebialabs.com/xl-deploy/5.0.x/genericPluginManual.html#genericcontainer"><code>generic.container</code></a>:</p>
<ul>
<li>A container to which generic CIs can be deployed. Start, stop and restart behavior of this container can be controlled using the corresponding script properties.</li>
<li>Type hierarchy: <code>generic.BaseGenericContainer</code> &gt;&gt; <code>udm.BaseContainer</code> &gt;&gt; <code>udm.BaseConfigurationItem</code></li>
<li>Interfaces: <code>udm.Taggable</code>, <code>udm.ConfigurationItem</code>, <code>udm.Container</code>, <code>generic.GenericContainer</code>, <code>overthere.HostContainer</code></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="generic-container-key-properties">generic.Container key properties</h2>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type/value</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>restartScript</td>
<td>STRING</td>
<td>Classpath to the script used to restart the generic container. </td>
</tr>
<tr>
<td>startScript</td>
<td>STRING</td>
<td>Classpath to the script used to start the generic container.</td>
</tr>
<tr>
<td>stopScript</td>
<td>STRING</td>
<td>Classpath to the script used to stop the generic container.</td>
</tr>
<tr>
<td>restartOrder</td>
<td>INTEGER  = 90</td>
<td>The order of the restart container step in the step list.</td>
</tr>
<tr>
<td>startOrder</td>
<td>INTEGER  = 90</td>
<td>The order of the start container step in the step list.</td>
</tr>
<tr>
<td>stopOrder</td>
<td>INTEGER  = 10</td>
<td>The order of the stop container step in the step list.</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="model-the-tomcat-server">Model the Tomcat server</h2>
<p><code>synthetic.xml</code>:</p>
<pre><code class="hljs scala">&lt;<span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">type=</span>"<span class="hljs-title">tc</span>.<span class="hljs-title">Tomcat</span>" <span class="hljs-keyword">extends</span></span>=<span class="hljs-string">"generic.Container"</span>&gt;
    &lt;property name=<span class="hljs-string">"startScript"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"tc/start-tc"</span> hidden=<span class="hljs-string">"true"</span>/&gt;
    &lt;property name=<span class="hljs-string">"stopScript"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"tc/stop-tc"</span> hidden=<span class="hljs-string">"true"</span>/&gt;
    &lt;property name=<span class="hljs-string">"home"</span>/&gt;
&lt;/<span class="hljs-class"><span class="hljs-keyword">type</span><span class="hljs-title">&gt;</span></span>
</code></pre><p><code>tc/start-tc.sh</code>:</p>
<pre><code class="hljs swift">/etc/<span class="hljs-keyword">init</span>.d/tomcat6 start
</code></pre><p><code>tc/stop-tc.sh</code>:</p>
<pre><code class="hljs sqf">/etc/init.d/tomcat6 <span class="hljs-built_in">stop</span>
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="generic-copiedartifact">generic.CopiedArtifact</h2>
<p><a href="https://docs.xebialabs.com/xl-deploy/5.0.x/genericPluginManual.html#genericcopiedartifact"><code>generic.CopiedArtifact</code></a>:</p>
<ul>
<li>An artifact deployed on a generic container</li>
<li>Type hierarchy: <code>generic.AbstractDeployedArtifact</code> &gt;&gt; <code>generic.AbstractDeployed</code> &gt;&gt; <code>udm.BaseDeployed</code> &gt;&gt; <code>udm.BaseConfigurationItem</code></li>
<li>Interfaces: <code>udm.EmbeddedDeployedContainer</code>, <code>udm.Artifact</code>, <code>udm.Deployed</code>, <code>udm.ConfigurationItem</code>, <code>udm.DerivedArtifact</code></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="generic-copiedartifact-key-properties">generic.CopiedArtifact key properties</h2>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type/value</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>deployable</td>
<td>CI<udm.deployable></udm.deployable></td>
<td>The deployable that this deployed is derived from.</td>
</tr>
<tr>
<td>placeholders</td>
<td>MAP_STRING_STRING</td>
<td>A Map containing all the placeholders mapped to their values. Special values are <code>&lt;ignore&gt;</code> or <code>&lt;empty&gt;</code></td>
</tr>
<tr>
<td>targetFile</td>
<td>STRING</td>
<td>Name of the artifact on the generic server.</td>
</tr>
<tr>
<td>targetDirectory</td>
<td>STRING</td>
<td>Path to which artifact must be copied on the generic server.</td>
</tr>
<tr>
<td>createTargetDirectory</td>
<td>BOOLEAN  = false</td>
<td>Create the target directory on the generic server if it does not exist.</td>
</tr>
<tr>
<td>restartRequired</td>
<td>BOOLEAN  = false</td>
<td>The generic container requires a restart for the action performed by this deployed.</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="model-the-war">Model the WAR</h2>
<pre><code class="hljs scala">&lt;<span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">type=</span>"<span class="hljs-title">tc</span>.<span class="hljs-title">SimpleWarModule</span>" <span class="hljs-keyword">extends</span></span>=<span class="hljs-string">"generic.CopiedArtifact"</span> 
    deployable-<span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"jee.War"</span> container-<span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"tc.Tomcat"</span>&gt;
    &lt;property name=<span class="hljs-string">"targetDirectory"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"${deployed.container.home}/ctxwebapps"</span> 
        hidden=<span class="hljs-string">"true"</span>/&gt;
    &lt;property name=<span class="hljs-string">"targetFile"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"${deployed.name}.war"</span> hidden=<span class="hljs-string">"true"</span>/&gt;
    &lt;property name=<span class="hljs-string">"createTargetDirectory"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"true"</span> kind=<span class="hljs-string">"boolean"</span> 
        hidden=<span class="hljs-string">"true"</span> required=<span class="hljs-string">"false"</span>/&gt;
&lt;/<span class="hljs-class"><span class="hljs-keyword">type</span><span class="hljs-title">&gt;</span></span>
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="generic-processedtemplate">generic.ProcessedTemplate</h2>
<p><a href="https://docs.xebialabs.com/xl-deploy/5.0.x/genericPluginManual.html#genericprocessedtemplate"><code>generic.ProcessedTemplate</code></a></p>
<ul>
<li>A template deployed to a generic container</li>
<li>Type hierarchy: <code>generic.AbstractDeployedArtifact</code> &gt;&gt; <code>generic.AbstractDeployed</code> &gt;&gt; <code>udm.BaseDeployed</code> &gt;&gt; <code>udm.BaseConfigurationItem</code></li>
<li>Interfaces: <code>udm.EmbeddedDeployedContainer</code>, <code>udm.Deployed</code>, <code>udm.ConfigurationItem</code></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="generic-processedtemplate-key-properties">generic.ProcessedTemplate key properties</h2>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type/value</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>targetDirectory</td>
<td>STRING</td>
<td>Path to which artifact must be copied to on the generic server.</td>
</tr>
<tr>
<td>template</td>
<td>STRING</td>
<td>Classpath to the FreeMarker template used to generate the content of the final text base artifact.</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="model-the-context-1-2">Model the context 1/2</h2>
<pre><code class="hljs scala">&lt;<span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">type=</span>"<span class="hljs-title">tc</span>.<span class="hljs-title">DeployedContext</span>" <span class="hljs-keyword">extends</span></span>=<span class="hljs-string">"generic.ProcessedTemplate"</span> 
        deployable-<span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"tc.Context"</span> container-<span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"tc.Tomcat"</span>&gt;
    &lt;generate-deployable <span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"tc.Context"</span> <span class="hljs-keyword">extends</span>=<span class="hljs-string">"generic.Resource"</span>/&gt;
    &lt;property name=<span class="hljs-string">"template"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"tc/context.xml"</span> hidden=<span class="hljs-string">"true"</span>/&gt;
    &lt;property name=<span class="hljs-string">"targetDirectory"</span> 
        <span class="hljs-keyword">default</span>=<span class="hljs-string">"${deployed.container.home}/conf/Catalina/localhost"</span> 
            hidden=<span class="hljs-string">"true"</span>/&gt;
    &lt;property name=<span class="hljs-string">"targetFile"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"${deployed.contextRoot}.xml"</span> hidden=<span class="hljs-string">"true"</span>/&gt;
    &lt;property name=<span class="hljs-string">"war"</span> kind=<span class="hljs-string">"ci"</span> referenced-<span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"tc.SimpleWarModule"</span>/&gt;
    &lt;property name=<span class="hljs-string">"createOrder"</span> kind=<span class="hljs-string">"integer"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"49"</span> hidden=<span class="hljs-string">"true"</span>/&gt;
    &lt;property name=<span class="hljs-string">"restartRequired"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"true"</span> kind=<span class="hljs-string">"boolean"</span> hidden=<span class="hljs-string">"true"</span> 
        required=<span class="hljs-string">"false"</span>/&gt;
    &lt;property name=<span class="hljs-string">"contextRoot"</span>/&gt;
&lt;/<span class="hljs-class"><span class="hljs-keyword">type</span><span class="hljs-title">&gt;</span></span>
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="model-the-context-2-2">Model the context 2/2</h2>
<p><code>tc/context.xml</code>:</p>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Context</span> <span class="hljs-attr">unpackWAR</span>=<span class="hljs-string">"false"</span> 
    <span class="hljs-attr">docBase</span>=<span class="hljs-string">"$</span></span></span><span class="hljs-template-variable">{deployed.war.targetDirectory}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">/$</span></span></span><span class="hljs-template-variable">{deployed.war.targetFile}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Context</span>&gt;</span>
</span></code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="generic-executedscript">generic.ExecutedScript</h2>
<p><a href="https://docs.xebialabs.com/xl-deploy/5.0.x/genericPluginManual.html#genericexecutedscript"><code>generic.ExecutedScript</code></a>:</p>
<ul>
<li>A script executed on a generic container</li>
<li>Type hierarchy: <code>generic.AbstractDeployed</code> &gt;&gt; <code>udm.BaseDeployed</code> &gt;&gt; <code>udm.BaseConfigurationItem</code></li>
<li>Interfaces: <code>udm.EmbeddedDeployedContainer</code>, <code>udm.Deployed</code>, <code>udm.ConfigurationItem</code></li>
</ul>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="generic-executedscript-key-properties">generic.ExecutedScript key properties</h2>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type/value</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>createOrder</td>
<td>INTEGER  = 50</td>
<td>The order of the step in the step list for the create operation.</td>
</tr>
<tr>
<td>createScript</td>
<td>STRING</td>
<td>Classpath to the script that is uploaded and executed on the generic container for the create operation.</td>
</tr>
<tr>
<td>destroyOrder</td>
<td>INTEGER  = 40</td>
<td>The order of the step in the step list for the destroy operation.</td>
</tr>
<tr>
<td>destroyScript</td>
<td>STRING</td>
<td>Classpath to the script that is uploaded and executed on the generic container for the destroy operation.</td>
</tr>
</tbody>
</table>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="combining-context-and-war-1-2">Combining context and war 1/2</h2>
<pre><code class="hljs scala">&lt;<span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">type=</span>"<span class="hljs-title">tc</span>.<span class="hljs-title">ContextWarModule</span>" <span class="hljs-keyword">extends</span></span>=<span class="hljs-string">"generic.ExecutedScript"</span> 
    deployable-<span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"jee.War"</span> container-<span class="hljs-class"><span class="hljs-keyword">type</span></span>=<span class="hljs-string">"tc.Tomcat"</span>&gt;
    &lt;property name=<span class="hljs-string">"contextRoot"</span>/&gt;
    &lt;property name=<span class="hljs-string">"warTargetDirectory"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"${deployed.container.home}/ctxwebapps"</span> 
        hidden=<span class="hljs-string">"true"</span>/&gt;
    &lt;property name=<span class="hljs-string">"ctxTargetDirectory"</span> 
        <span class="hljs-keyword">default</span>=<span class="hljs-string">"${deployed.container.home}/conf/Catalina/localhost"</span> hidden=<span class="hljs-string">"true"</span>/&gt;
    &lt;property name=<span class="hljs-string">"templateClasspathResources"</span> kind=<span class="hljs-string">"set_of_string"</span> 
        <span class="hljs-keyword">default</span>=<span class="hljs-string">"tc/install-ctx.xml"</span> hidden=<span class="hljs-string">"true"</span>/&gt;
    &lt;property name=<span class="hljs-string">"createScript"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"tc/install-war.sh"</span> hidden=<span class="hljs-string">"true"</span>/&gt;
    &lt;property name=<span class="hljs-string">"destroyScript"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"tc/uninstall-war.sh"</span> hidden=<span class="hljs-string">"true"</span>/&gt;
    &lt;property name=<span class="hljs-string">"restartRequired"</span> <span class="hljs-keyword">default</span>=<span class="hljs-string">"true"</span> kind=<span class="hljs-string">"boolean"</span> hidden=<span class="hljs-string">"true"</span> 
        required=<span class="hljs-string">"false"</span>/&gt;
&lt;/<span class="hljs-class"><span class="hljs-keyword">type</span><span class="hljs-title">&gt;</span></span>
</code></pre></section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="plugin-by-example">Plugin by example</h1>
<h2 id="combining-context-and-war-2-2">Combining context and war 2/2</h2>
<p><code>tc/install-war.sh.ftl</code>:</p>
<pre><code class="hljs nginx"><span class="hljs-attribute">cp</span> <span class="hljs-variable">${step.uploadedArtifactPath}</span> <span class="hljs-variable">${deployed.warTargetDirectory}</span>
cp <span class="hljs-variable">${step.remoteWorkingDirectory.path}</span>/install-ctx.xml \
        <span class="hljs-variable">${deployed.ctxTargetDirectory}</span>/<span class="hljs-variable">${deployed.contextRoot}</span>.xml
</code></pre><p><code>tc/uninstall-war.sh.ftl</code>:</p>
<pre><code class="hljs stata"><span class="hljs-keyword">rm</span> <span class="hljs-variable">${deployed</span>.warTargetDirectory}/<span class="hljs-variable">${step</span>.artifact.name}
<span class="hljs-keyword">rm</span> <span class="hljs-variable">${deployed</span>.ctxTargetDirectory}/<span class="hljs-variable">${deployed</span>.contextRoot}.xml
</code></pre><p><code>tc/install-ctx.xml</code>:</p>
<pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Context</span> <span class="hljs-attr">unpackWAR</span>=<span class="hljs-string">"false"</span> 
    <span class="hljs-attr">docBase</span>=<span class="hljs-string">"$</span></span></span><span class="hljs-template-variable">{deployed.warTargetDirectory}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">/$</span></span></span><span class="hljs-template-variable">{step.artifact.name}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Context</span>&gt;</span>
</span></code></pre></section>
    </section>
    
    <section hidden="" aria-hidden="true" class="stack future" style="top: 350px; display: none;">
      <section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" data-autoslide="1000" style="top: 350px; display: none;"><!-- -->
<div id="titleslide">
<div class="gdbar fragment fade-in" data-autoslide="1000" data-fragment-index="0"><img class="plain" src="./XL Deploy Training_files/xebialabs_icon_288.png" style="background:none;margin:8px 0px"></div>
<br><br><br>
<hgroup class="fragment" data-autoslide="0" data-fragment-index="1">
  <h1>Links</h1>
  <h2><a href="http://www.xebialabs.com/">http://www.xebialabs.com</a></h2>
</hgroup>
</div>
</section><section data-charset="utf-8" data-markdown="" data-markdown-parsed="true" class="future" aria-hidden="true" style="top: 350px; display: none;"><h1 id="links">Links</h1>
<ul>
<li><a href="http://xebialabs.com/">http://xebialabs.com</a></li>
<li><a href="https://support.xebialabs.com/">https://support.xebialabs.com</a><ul>
<li>See forums for announcements and feature requests</li>
</ul>
</li>
<li><a href="http://docs.xebialabs.com/">https://docs.xebialabs.com</a></li>
<li><a href="http://xebialabs-community.github.io/">http://xebialabs-community.github.io</a></li>
<li><a href="http://blog.xebialabs.com/">http://blog.xebialabs.com</a></li>
</ul>
</section>
    </section>
    
  </div>
<div class="backgrounds"><div class="slide-background present" data-loaded="true" style="display: block;"></div><div class="slide-background stack future" data-loaded="true" style="display: block;"><div class="slide-background present" data-loaded="true" style="display: block;"></div><div class="slide-background future" data-loaded="true" style="display: block;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" data-loaded="true" style="display: block;"><div class="slide-background present" data-loaded="true" style="display: block;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div><div class="slide-background stack future" style="display: none;"><div class="slide-background present" style="display: none;"></div><div class="slide-background future" style="display: none;"></div></div></div><div class="progress" style="display: block;"><span style="width: 2.14302px;"></span></div><aside class="controls" style="display: block;"><button class="navigate-left fragmented enabled" aria-label="previous slide"></button><button class="navigate-right enabled" aria-label="next slide"></button><button class="navigate-up" aria-label="above slide" disabled="disabled"></button><button class="navigate-down" aria-label="below slide" disabled="disabled"></button></aside><div class="slide-number" style="display: block;"><span class="slide-number-a">1</span><span class="slide-number-delimiter">/</span><span class="slide-number-b">531</span></div><div class="speaker-notes" data-prevent-swipe="" tabindex="0"></div><div class="pause-overlay"></div><div id="aria-status-div" aria-live="polite" aria-atomic="true" style="position: absolute; height: 1px; width: 1px; overflow: hidden; clip: rect(1px, 1px, 1px, 1px);">
        XebiaLabs training
        XL Deploy
        twitter@xebialabs
          wwwwww.xebialabs.com
          githubgithub.com/xebialabs-community
        
      </div></div>
<script src="./XL Deploy Training_files/head.min.js"></script>
<script src="./XL Deploy Training_files/reveal.js"></script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        history: true,
        slideNumber: 'c/t',

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            { src: 'plugin/markdown/marked.js' },
            { src: 'plugin/markdown/markdown.js' },
            { src: 'plugin/notes/notes.js', async: true },
            { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
    });
</script>
<script src="http://0.0.0.0:35729/livereload.js?snipver=1" async="" defer=""></script>
</body></html>